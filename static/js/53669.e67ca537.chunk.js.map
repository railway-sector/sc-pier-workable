{"version":3,"file":"static/js/53669.e67ca537.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/layers/VoxelGraphic.js","../node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../Graphic.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r),this.gpuResult=null}};r([s({constructOnly:!0,clonable:\"reference\"})],t.prototype,\"gpuResult\",void 0),t=r([e(\"esri.views.3d.layers.VoxelGraphic\")],t);export{t as VoxelGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{watch as i,initial as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{h as l,n,i as h}from\"../../../chunks/vec32.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import d from\"../../../geometry/SpatialReference.js\";import{projectVectorToVector as u}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as m,expandWithVec3 as p}from\"../../../geometry/support/aaBoundingBox.js\";import{equals as y}from\"../../../geometry/support/spatialReferenceUtils.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{VoxelGraphic as V}from\"./VoxelGraphic.js\";import{addLayerViewToWasm as _,getVoxelWasm as w,removeLayerViewFromWasm as f}from\"./VoxelWasm.js\";import{LayerViewPerformanceInfo as g}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as S}from\"./support/PopupSceneLayerView.js\";import v from\"../../layers/LayerView.js\";import{spatialReferenceIncompatibleError as W,isInEffectiveScaleRange as T}from\"../../support/layerViewUtils.js\";var x;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(x||(x={}));const L=c(),A=c();let E=class extends(S(b(v))){constructor(){super(...arguments),this._suspendedHandle=null,this._usedMemory=0,this._futureMemory=0,this.type=\"voxel-3d\",this.slicePlaneEnabled=!1,this._wasmLayerId=-1,this.ignoresMemoryFactor=!0,this._dbgFlags=new Set}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get wasmLayerId(){return this._wasmLayerId}initialize(){if(this._dbgFlags.add(x.Error),\"local\"!==this.view.viewingMode)throw new s(\"voxel:unsupported-viewingMode\",\"Voxel layers support local viewingMode only.\",{});if(!!!this.view.stage.renderView.renderingContext.capabilities.colorBufferFloat?.textureFloat)throw new s(\"voxel:missing-color-buffer-float\",\"Voxel layers require the WebGL2 extension EXT_color_buffer_float\",{});const e=this.layer.spatialReference;if(!y(e,this.view.spatialReference))throw W(\"voxel layer\",e.wkid,this.view.spatialReference.wkid);const t=this.layer.currentVariableId,o=this.layer.getVolume(t),a=this.layer.getVariable(t);if(null!=o&&null!=a){const e=o.dimensions[0],s=o.dimensions[1],t=o.zDimension;if(t>1){const i=o.dimensions[t],r=e.size*s.size*i.size;let l=1;switch(a.renderingFormat.type){case\"Int16\":case\"UInt16\":l=2;break;case\"Int32\":case\"UInt32\":case\"Float32\":l=4}this._futureMemory=l*r}}const l=_(this).then((e=>{this._wasmLayerId=e,this._suspendedHandle=i((()=>this.suspended),(e=>{const s=w(this.view);s&&s.setEnabled(this,!e)}),r),this.addHandles([i((()=>this.layer.renderMode),(e=>this._pushRenderModeToWasm(e))),i((()=>this.layer.currentVariableId),(e=>this._pushCurrentVariableIdToWasm(e))),i((()=>this.layer.getSections()),(e=>this._pushSectionsToWasm(e))),i((()=>this.layer.getVariableStyles()),(e=>this._pushVariableStylesToWasm(e))),i((()=>this.layer.getVolumeStyles()),(e=>this._pushVolumeStylesToWasm(e))),i((()=>this.layer.enableDynamicSections),(e=>this._pushEnableDynamicSectionsToWasm(e))),i((()=>this.layer.enableIsosurfaces),(e=>this._pushEnableIsosurfacesToWasm(e))),i((()=>this.layer.enableSections),(e=>this._pushEnableSectionsToWasm(e))),i((()=>this.layer.enableSlices),(e=>this._pushEnableSlicesToWasm(e))),i((()=>[this.layer.timeOffset,this.layer.timeExtent,this.layer.useViewTime]),(()=>this._updateLayerTimeProperties())),i((()=>this.slicePlaneEnabled),(e=>this._pushAnalysisSliceToWasm(e,this.view.slice.plane))),i((()=>this.view.slice.plane),(e=>this._pushAnalysisSliceToWasm(this.slicePlaneEnabled,e)))])})).catch((e=>{if(f(this),this._wasmLayerId=-1,-1===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer description was invalid.\",{});if(-2===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer web assembly module failed to download.\",{})}));this.addResolvingPromise(l)}destroy(){f(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){const e=w(this.view);return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}get usedMemory(){return this._usedMemory}get unloadedMemory(){return this._futureMemory}get performanceInfo(){return new g(this.usedMemory)}get visibleAtCurrentScale(){return T(this.layer.effectiveScaleRange,this.view.scale)}whenGraphicBounds(e,s){const t=e.attributes[\"Voxel.WorldPosition\"];if(t){const e=m(),s=JSON.parse(t);if(u(s,this.view.renderSpatialReference,A,this.view.spatialReference||d.WGS84))return p(e,A),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}return Promise.reject()}async whenGraphicAttributes(e,s){const t=w(this.view);if(!t)return e;const i=[];for(const r of e)this._isValidVoxelGraphic(r)&&i.push(r);return i.length&&await t.getOtherFieldPopupValues(i,s),e}_isValidVoxelGraphic(e){return e instanceof V}setUsedMemory(e){this._usedMemory=e,this._futureMemory=0}captureFrustum(){const e=w(this.view);e?.captureFrustum()}toggleFullVolumeExtentDraw(){const e=w(this.view);e?.toggleFullVolumeExtentDraw(this)}getLayerTimes(){const e=w(this.view);return e?.getLayerTimes(this)??[]}getCurrentLayerTimeIndex(){const e=w(this.view);return e?.getCurrentLayerTimeIndex(this)??0}dropQueryRenderTarget(){const e=w(this.view);e?.dropQueryRenderTarget()}_pushRenderModeToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushRenderModeToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setRenderMode(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushRenderModeToWasm() failed!\")}_pushSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setStaticSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushSectionsToWasm() failed!\")}_pushCurrentVariableIdToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() called!, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setCurrentVariable(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() failed!\")}_pushVariableStylesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushVariableStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setVariableStyles(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushVariableStylesToWasm() failed!\")}_accountForEnableSlices(e,s){const t=null!=s?s:this.layer.enableSlices;for(let i=0;i<e.length;++i){const s=e[i];for(const e of s.slices)e.enabled=e.enabled&&t}}_pushVolumeStylesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushVolumeStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s&&(this._accountForEnableSlices(e,null),s.setVolumeStyles(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushVolumeStylesToWasm() failed!\"))}_pushAnalysisSliceToWasm(e,s){const t=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushAnalysisSliceToWasm() called, \"+(t?\"have WASM\":\"don't have WASM!!!\"));let i=!1;if(t){if(s){const r=s.origin;l(L,s.basis1,s.basis2),n(L,L),i=t.setAnalysisSlice(this,e,r,L)}else h(L,0,0,1),i=t.setAnalysisSlice(this,!1,L,L);i||this._dbg(x.Error,\"VoxelLayerView3D._pushAnalysisSliceToWasm() failed!\")}}_updateLayerTimeProperties(){const e=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._updateLayerTimeProperties() called, \"+(e?\"have WASM\":\"don't have WASM!!!\")),e&&e.updateLayerTimeProperties(this)}_pushEnableDynamicSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableDynamicSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() failed!\")}_pushEnableSlicesToWasm(e){const s=w(this.view);if(this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableSlicesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s){const t=this.layer.getVolumeStyles();this._accountForEnableSlices(t,e),s.setVolumeStyles(this,t)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableSlicesToWasm() failed!\")}}_pushEnableIsosurfacesToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableIsosurfaces(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() failed!\")}_pushEnableSectionsToWasm(e){const s=w(this.view);this._dbg(x.VerboseAPI,\"VoxelLayerView3D._pushEnableSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableSections(this,e)||this._dbg(x.Error,\"VoxelLayerView3D._pushEnableSectionsToWasm() failed!\")}_dbg(e,s){this._dbgFlags.has(e)&&(e===x.Error?t.getLogger(this).error(s):t.getLogger(this).warn(s))}};e([o()],E.prototype,\"layer\",void 0),e([o()],E.prototype,\"baseUrl\",null),e([o({type:Boolean})],E.prototype,\"slicePlaneEnabled\",void 0),e([o({readOnly:!0})],E.prototype,\"visibleAtCurrentScale\",null),E=e([a(\"esri.views.3d.layers.VoxelLayerView3D\")],E);const M=E;export{M as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(s,i,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n"],"names":["async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","constructor","r","super","this","gpuResult","constructOnly","clonable","prototype","x","API","VerboseAPI","Error","L","c","A","E","S","b","v","_suspendedHandle","_usedMemory","_futureMemory","type","slicePlaneEnabled","_wasmLayerId","ignoresMemoryFactor","_dbgFlags","Set","baseUrl","layer","parsedUrl","path","wasmLayerId","initialize","add","view","viewingMode","stage","renderView","renderingContext","capabilities","colorBufferFloat","textureFloat","spatialReference","y","W","wkid","currentVariableId","getVolume","getVariable","dimensions","zDimension","size","renderingFormat","_","then","suspended","w","setEnabled","addHandles","renderMode","_pushRenderModeToWasm","_pushCurrentVariableIdToWasm","getSections","_pushSectionsToWasm","getVariableStyles","_pushVariableStylesToWasm","getVolumeStyles","_pushVolumeStylesToWasm","enableDynamicSections","_pushEnableDynamicSectionsToWasm","enableIsosurfaces","_pushEnableIsosurfacesToWasm","enableSections","_pushEnableSectionsToWasm","enableSlices","_pushEnableSlicesToWasm","timeOffset","timeExtent","useViewTime","_updateLayerTimeProperties","_pushAnalysisSliceToWasm","slice","plane","catch","addResolvingPromise","destroy","remove","isUpdating","updatingFlagChanged","notifyChange","usedMemory","unloadedMemory","performanceInfo","g","visibleAtCurrentScale","T","effectiveScaleRange","scale","whenGraphicBounds","attributes","m","JSON","parse","renderSpatialReference","WGS84","Promise","resolve","boundingBox","screenSpaceObjects","reject","whenGraphicAttributes","_isValidVoxelGraphic","getOtherFieldPopupValues","V","setUsedMemory","captureFrustum","toggleFullVolumeExtentDraw","getLayerTimes","getCurrentLayerTimeIndex","dropQueryRenderTarget","_dbg","setRenderMode","setStaticSections","setCurrentVariable","setVariableStyles","_accountForEnableSlices","slices","enabled","setVolumeStyles","origin","basis1","basis2","setAnalysisSlice","h","updateLayerTimeProperties","setEnableDynamicSections","setEnableIsosurfaces","setEnableSections","getLogger","error","warn","Boolean","readOnly","M","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","associatedLayer","Map","set","getObjectId","concat","sort","get","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","signal","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","_updatingHandles","parent","when","name","id","title","fullOpacity","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}