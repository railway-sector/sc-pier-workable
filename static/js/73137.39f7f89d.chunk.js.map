{"version":3,"file":"static/js/73137.39f7f89d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js","../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js","../node_modules/@arcgis/core/core/maybeUpdating.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";function e(e){const{objectIdField:t,uniqueIdFields:r}=e;return r?.length?r.length>=2?{type:\"unique-id-composite\",fieldNames:r}:{type:\"unique-id-simple\",fieldName:r[0]}:{type:\"object-id\",fieldName:t}}function t(e,t,s,a,l,u){const m=o(a);if(!(!!has(\"featurelayer-snapshot-enabled\")&&s?.query.supportsPagination&&!s?.operations.supportsEditing&&!t))return null;const h=i(l,u),{min:p,max:c}=m,y=h?c:p,d=n(a);let f=has(\"featurelayer-snapshot-initial-tolerance\");return\"esriGeometryPoint\"!==a&&\"esriGeometryMultipoint\"!==a||(f=null),{supportsExceedsLimit:r(e,s),initialTolerance:f,maxFeatureCount:y,maxVertexCount:d}}function r(e,t){return!(!e&&!has(\"featurelayer-snapshot-non-hosted-exceedslimit-enabled\"))&&t?.operations.supportsExceedsLimitStatistics}function n(e){switch(e){case\"esriGeometryPoint\":return null;case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":case\"esriGeometryMultiPatch\":case\"esriGeometryMultipoint\":return has(\"featurelayer-snapshot-max-vertex-count\")}}function i(e,t){const r=t?.clone().intersection(e),n=null!=r?r.width*r.height:0,i=t?t.width*t.height:0,o=0===i?0:n/i,s=has(\"featurelayer-snapshot-coverage\");return!isNaN(o)&&o>=s}function o(e){switch(e){case\"esriGeometryMultipoint\":return{min:has(\"featurelayer-snapshot-multipoint-min-threshold\"),max:has(\"featurelayer-snapshot-multipoint-max-threshold\")};case\"esriGeometryPoint\":return{min:has(\"featurelayer-snapshot-point-min-threshold\"),max:has(\"featurelayer-snapshot-point-max-threshold\")};case\"esriGeometryMultiPatch\":case\"esriGeometryPolygon\":return{min:has(\"featurelayer-snapshot-polygon-min-threshold\"),max:has(\"featurelayer-snapshot-polygon-max-threshold\")};case\"esriGeometryPolyline\":return{min:has(\"featurelayer-snapshot-polyline-min-threshold\"),max:has(\"featurelayer-snapshot-polyline-max-threshold\")}}}export{e as createFeatureIdInfo,t as createSnapshotInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{offsetDate as n}from\"../core/timeUtils.js\";import{T as i}from\"../chunks/TimeExtent.js\";import{isWebMap as r}from\"../webmap/utils.js\";import{isWebScene as l}from\"../webscene/utils.js\";function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:e(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return i.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return i.allTime;const u=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return i.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>\"fulfilled\"===t.status?t.value:null));if(c.some(m))return i.allTime;const d=[...c,...a].filter(t);if(0===d.length)return i.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case\"time-window\":return new i({start:r,end:l});case\"cumulative-from-start\":return new i({start:null,end:s});case\"cumulative-from-end\":return new i({start:s,end:null});case\"instant\":return new i({start:s,end:s})}}async function c(t,e){if(!r(t)&&!l(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,-r.getTimezoneOffset(),\"minutes\"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,r.getTimezoneOffset(),\"minutes\"):r})}export{a as getTimeExtentFromLayers,c as getTimeSliderSettingsFromWebDocument,p as toLocalTimeExtent,d as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,{fieldsIndex:this.i3slayer.fieldsIndex});if(!r.isStandardized)return e.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fieldsIndex,{missingFields:i}),i.length>0?(e.getLogger(this).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){if(null==r)return!0;try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";class r extends e{constructor(e){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}export{r as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{findInMap as t,someMap as s}from\"../../../../core/MapUtils.js\";class i extends e{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit(\"change\",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const i=new Set;for(let o=0;o<s.length;o++){const t=s[o],n=t.objectId,h=this._graphics.get(n);if(h){i.add(n),t!==h&&(s[o]=h);const r=this._duplicates.get(n);r?r.push(e):this._duplicates.set(n,[h.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}i.size&&this._updateForeignGraphics(t);const n=i.size>0?s.filter((e=>!i.has(e.objectId))):s;n.length>0&&this.emit(\"change\",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return;this._nodes.delete(e);const s=new Set,i=[];for(const n of t.graphics){const t=n.objectId,o=this._graphics.get(t);if(!o)continue;const h=this._duplicates.get(t);if(h){const i=h.indexOf(e);if(-1===i)continue;if(h.splice(i,1),o.nodeIndex===e){let e=this.getNode(h[0]);for(let t=1;t<h.length;t++){const s=this.getNode(h[t]);(null==e||null!=s&&s.node.level>e.node.level)&&(e=s)}null!=e&&s.add(e)}1===h.length&&this._duplicates.delete(t)}else this._graphics.delete(t),i.push(n)}i.length>0&&this.emit(\"change\",{added:[],removed:i}),s.forEach((e=>this._updateForeignGraphics(e)))}_updateForeignGraphics(e){const t=[],s=e.node.index,i=e.node.level;let n=0;for(;n<e.graphics.length;){const o=e.graphics[n].nodeIndex;if(o===s){n++;continue}let h=1;for(;n+h<e.graphics.length&&e.graphics[n+h].nodeIndex===o;)h++;const r=this.getNode(o);if(null!=r&&r.node.level>i)n+=h;else{for(let i=n;i<n+h;i++){const n=e.graphics[i];n.nodeIndex=s,this._updateAndCompare(n,e,i)&&t.push(n)}n+=h}}t.length>0&&this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){return t(this._graphics,e)}some(e){return s(this._graphics,e)}forEach(e){this._graphics.forEach((t=>e(t)))}forEachNode(e){this._nodes.forEach(((t,s)=>e(t,s)))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach(((t,s)=>{t.graphics.forEach((t=>{e.set(t.objectId,1+(e.get(t.objectId)??0)),this._duplicates.get(t.objectId)}))})),e.forEach(((e,t)=>{const s=this._graphics.get(t);if(!s)return;if(!this._nodes.get(s.nodeIndex))return;const i=this._duplicates.get(t);i&&i.forEach((e=>{this._nodes.get(e)}))}))}}export{i as I3SGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import t from\"../../../core/Logger.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{estimateNumberArrayMemory as i}from\"../../../core/memoryEstimations.js\";import{throwIfAborted as s}from\"../../../core/promiseUtils.js\";import{initial as o,watch as a}from\"../../../core/reactiveUtils.js\";import{generateUID as n}from\"../../../core/uid.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{i as u}from\"../../../chunks/vec32.js\";import{create as h,ZEROS as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as c}from\"../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as m}from\"../../../geometry/projection/projectVectorToVector.js\";import{extentContainsCoords3D as g,extentContainsCoords2D as y}from\"../../../geometry/support/contains.js\";import{newDoubleArray as f,doubleArrayFrom as _}from\"../../../geometry/support/DoubleArray.js\";import{getGeometryZScaler as b}from\"../../../geometry/support/zscale.js\";import{fallbackObjectIDAttribute as v}from\"../../../layers/LayerConstants.js\";import{estimateSize as x}from\"../../../layers/graphics/dehydratedFeatures.js\";import{makeDehydratedPoint as I}from\"../../../layers/graphics/dehydratedPoint.js\";import{hydrateGraphic as E}from\"../../../layers/graphics/hydratedFeatures.js\";import w from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import j from\"../../../layers/support/FeatureFilter.js\";import N from\"../../../rest/support/Query.js\";import{isBasemapLayerView as C}from\"../../../support/basemapUtils.js\";import{I3SPointsWorkerHandle as O}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import{Graphics3DFeatureProcessor as S}from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as F}from\"./graphics/QueryEngine.js\";import{QueryEngineContext as G}from\"./graphics/QueryEngineContext.js\";import{createInteractiveEditSession as A,normalizeEditResultsEvent as V,processAttributeEdits as P}from\"./i3s/featureEditing.js\";import{getCachedAttributeValue as L}from\"./i3s/I3SBinaryReader.js\";import{I3SGraphicsMap as R}from\"./i3s/I3SGraphicsMap.js\";import{I3SOverrides as M}from\"./i3s/I3SOverrides.js\";import{checkRecyclable as H,checkSpatialReferences as Q,containsDraco as U,whenGraphicAttributes as q}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as T}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as B}from\"./support/fieldProperties.js\";import{LayerViewPerformanceInfo as k}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as z}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as W}from\"./support/SceneLayerViewRequiredFields.js\";import{TemporalSceneLayerView as K}from\"./support/TemporalSceneLayerView.js\";import{debugFlags as Z}from\"../support/debugFlags.js\";import{compute as Y}from\"../support/orientedBoundingBox.js\";import{updatingProgress as $}from\"../support/updatingProperties.js\";import{Vertices as J}from\"../webgl-engine/lib/Attribute.js\";import{UpdatePolicy as X}from\"../webgl-engine/lib/UpdatePolicy.js\";import ee from\"../../layers/SceneLayerView.js\";import{hasPopupTemplate as te}from\"../../layers/support/popupUtils.js\";import{defaultHighlightName as re}from\"../../support/HighlightDefaults.js\";import{hasLayerBasedScaleVisibility as ie,isInEffectiveScaleRange as se}from\"../../support/layerViewUtils.js\";import{TaskPriority as oe}from\"../../support/Scheduler.js\";const ae=B();class ne{constructor(e,t,r,i){this.graphics=e,this.featureIds=t,this.attributeInfo=r,this.node=i}get cachedMemory(){return this.graphics.reduce(((e,t)=>x(t)+e),i(this.featureIds)+1024)}}let le=class extends(K(T(z(D(ee))))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this._pendingEditsQueue=Promise.resolve(),this.loadedGraphics=new R(((e,t,r)=>pe(e,t,r)),(e=>this.processor.graphicsCore.recreateGraphics(e))),this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then((()=>{s(t),H(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const i=this.view.resourceController?.memoryController;this._i3sOverrides=new M({view:this.view,layer:e,memoryController:i}),r(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()})):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new M({view:this.view,layer:this.layer,memoryController:e}),Q(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new W({layerView:this}),this._updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),o),this._updatingHandles.add((()=>this.layer.renderer),((e,t)=>this._rendererChange(e,t))),this._updatingHandles.add((()=>[this.parsedDefinitionExpression,this.layer.excludeObjectIds]),(()=>this._filterChange())),this._set(\"processor\",new S({owner:this,preferredUpdatePolicy:X.ASYNC,scaleVisibilityEnabled:!ie(),filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on(\"invalidate-elevation\",(({extent:e,spatialReference:t})=>this._controller.updateElevationChanged(e,t))),this.supportsHeightUnitConversion&&(this._verticalScale=b(\"point\",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.when()),this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`),this._controller=new w({layerView:this}),U(this.layer.geometryDefinitions)&&(this._worker=new O((e=>this.view.resourceController.immediate.schedule(e)))),this.addHandles(this.layer.on(\"apply-edits\",(e=>this._updatingHandles.addPromise(e.result)))),this.addHandles([this.layer.on(\"edits\",(e=>{const t=this._pendingEditsQueue.then((()=>this._handleEdits(e))).then();this._pendingEditsQueue=t,this._updatingHandles.addPromise(t)})),a((()=>Z.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Z.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||Z.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),o)]),this.when((()=>{this._setupQueryEngine(),this._updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),o),this._updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=r(this._treeDebugger),this._i3sOverrides=r(this._i3sOverrides),this._set(\"processor\",r(this.processor)),this._controller=r(this._controller),this._queryEngine=r(this._queryEngine),this._worker=r(this._worker),this._memCache=r(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=r(this._fieldsHelper)}get i3slayer(){return this.layer}get layerViewUid(){return this.uid}get updatingProgressValue(){return this._controller?.updatingProgress??1}get visibleAtCurrentScale(){return ie()?se(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIds(){return new Set(this.layer.excludeObjectIds)}get lodFactor(){return\"Labels\"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}async whenGraphicAttributes(e,t){return q(this.layer,e,this._getObjectIdField(),t,(()=>[...this.loadedGraphics.nodes()]))}getHit(e){if(!this.loadedGraphics)return null;const t=E(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t?.attributes?.[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:\"graphic\",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t?.name??re)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return A(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};null==this._worker&&(this._worker=new O((e=>this.view.resourceController.immediate.schedule(e))));const i=await this._worker.invoke(r,t);if(null==i)throw new Error(\"Failed to decompress Draco point data\");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,r,i){if(!he(r)&&!ue(r))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void t.getLogger(this).error(\"I3S node \"+e.id+\" already added\");const s=null!=this.layer.fullExtent?me(this.layer.fullExtent.clone(),.5):null,{featureIds:o,pointPositions:a}=he(r)?await this._extractBinaryPointPositions(e,r,i):this._extractLegacyPointPositions(r),n=new Array;this._validatePositions(e,o,a,s,n);const l=this._controller.crsVertex,d=this.view.spatialReference;c(a,l,0,a,d,0,o.length);const u=he(r)?e.level:0,h=this._createGraphics(o,a,e.index,u),p=new ne(h,o,r.attributeDataInfo,e);if(await this._i3sOverrides.applyAttributeOverrides(p.featureIds,r.attributeDataInfo,i),e.numFeatures=p.graphics.length,this._updateNodeMemory(e),ce(p),n.length>0&&(this._computeObb(e,n,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(p);if(null!=this._verticalScale)for(const t of p.graphics)this._verticalScale(t.geometry);const m=this.view.stage.renderView.olidRenderHelper;if(m){const e=C(this.view,this.uid);for(let t=0;t<p.featureIds.length;t++){const r=p.featureIds[t];m.setUidToObjectAndLayerId(r,p.graphics[t].uid,this.layer.id,this.uid,this.layer.popupEnabled&&!e&&te(this.layer,this.view.popup?.defaultPopupTemplateEnabled),p.node.resources.attributes,t)}}this.loadedGraphics.addNode(e.index,p),this._controller.updateLoadStatus(e.index,!0),this._filterNode(p),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;c(t,r,0,t,s,0),e.serviceObbInIndexSR=Y(new J(t,3)),i.isGeographic&&(m(e.serviceObbInIndexSR.center,s,ye,i),e.serviceObbInIndexSR.center=ye)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}getNodeComponentHandle(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,a=s.length/o,n=f(3*a),l=null!=e.serviceObbInIndexSR?e.serviceObbInIndexSR.center:p,d=Math.abs(l[2])*2**-20;for(let u=0;u<a;u++){const e=u*o;n[e]=s[e]+l[0],n[e+1]=s[e+1]+l[1],n[e+2]=s[e+2]+l[2],Math.abs(n[e+2])<d&&(n[e+2]=0)}return{featureIds:i.featureIds?_(i.featureIds):[],pointPositions:n}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=f(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??ge[a],l=t.featureIds[0];if(\"Embedded\"!==n.type||\"points\"!==n.params.type||a<2||a>3)continue;const d=n.params.vertexAttributes?.position??[0,0,0],u=3*i.length;r[u]=o[0]+d[0],r[u+1]=o[1]+d[1],r[u+2]=3===a?o[2]+d[2]:NaN,i.push(l)}return{featureIds:i,pointPositions:r}}_validatePositions(e,r,i,s,o){if(null==s&&e.serviceObbInIndexSR)return;const a=r.length,n=3;for(let l=0;l<a;l++){const r=l*n;u(ye,i[r],i[r+1],i[r+2]);const a=!Number.isNaN(i[2]);null==s||(a?g(s,ye):y(s,ye))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&t.getLogger(this).error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&t.getLogger(this).error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++),e.serviceObbInIndexSR||o.push(ye[0],ye[1],ye[2])}}_createGraphics(e,t,r,i){const s=e.length,o=3,a=this._getObjectIdField(),l=this.processor.graphicsCore,d=new Array,u=this.view.spatialReference;for(let h=0;h<s;h++){const s=e[h],p={};null!=s&&(p[a]=s);const c=s??n(),m=h*o,g=isNaN(t[m+2])?void 0:t[m+2],y=I(t[m],t[m+1],g,u),f=this.loadedGraphics.get(c);if(null!=f)(null==f.level||f.level<i)&&(fe.property=\"geometry\",fe.graphic=f,fe.oldValue=f.geometry,fe.newValue=y,f.geometry=y,f.level=i,l.graphicUpdateHandler(fe)),d.push(f);else{const e=n();d.push({objectId:c,uid:e,geometry:y,attributes:p,visible:!0,nodeIndex:r,level:i})}}return d}_updateNodeMemory(e){e.memory=4096+(e.numFeatures??0)*this.processor.graphicsCore.usedMemoryPerGraphic}_cacheNodeData(e){this._memCache.put(this._getMemCacheKey(e.node),e)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return null==t?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,r,i,s){this.loadedGraphics.hasNode(e.index)?t.getLogger(this).error(\"I3S node \"+e.id+\" already added\"):(await this._i3sOverrides.applyAttributeOverrides(r.featureIds,i,s),r.attributeInfo=i,this.loadedGraphics.addNode(e.index,r),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),ce(r),this._filterNode(r),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);null!=r?.attributeInfo&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);null!=i&&(await this._i3sOverrides.applyAttributeOverrides(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){ce(e),this._filterNode(e);const{processor:t}=this,{graphicsCore:r}=t;if(r.labelsEnabled){const t=e.node.index,i=new Array;e.graphics.forEach((e=>e.nodeIndex===t&&i.push(e.uid))),r.updateLabelingInfo(i)}t.refreshFilter()}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||v}_getGlobalIdField(){return this.layer.globalIdField}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&t.getLogger(this).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this.loadedGraphics.forEachNode((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,r=this._excludeObjectIds,i=this._getObjectIdField();for(const s of e.graphics){const e=s.visible,o=this._evaluateClause(t,s),a=!r.has(s.attributes[i]);s.visible=o&&a,e!==s.visible&&(fe.graphic=s,fe.property=\"visible\",fe.oldValue=e,fe.newValue=s.visible,this.processor.graphicsCore.graphicUpdateHandler(fe))}}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return this.filter?.createQuery(e)??new N(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():N.from(e))}_setupQueryEngine(){const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:s,resourceController:o}=t,a=new G(s,e,o,(()=>this.processor.featureStore),i,r);this._queryEngine=new F({context:a,priority:oe.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}async _handleEdits(e){const t=this._attributeEditingContext,r=await V(t,e);P(t,r)}get _attributeEditingContext(){const e=this._getObjectIdField(),t=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,globalIdField:t,forEachNode:e=>this.loadedGraphics.forEachNode((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(null!=i){const t=this.loadedGraphics.get(i.attributes[e]);null!=t&&this.processor.graphicsCore.recreateGraphics([t])}else null!=s&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new k(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){}};e([l()],le.prototype,\"processor\",void 0),e([l({type:j})],le.prototype,\"filter\",void 0),e([l()],le.prototype,\"loadedGraphics\",void 0),e([l()],le.prototype,\"i3slayer\",null),e([l()],le.prototype,\"layerViewUid\",null),e([l()],le.prototype,\"_controller\",void 0),e([l()],le.prototype,\"updating\",void 0),e([l()],le.prototype,\"suspended\",void 0),e([l($)],le.prototype,\"updatingProgress\",void 0),e([l()],le.prototype,\"updatingProgressValue\",null),e([l({readOnly:!0})],le.prototype,\"visibleAtCurrentScale\",null),e([l(ae.requiredFields)],le.prototype,\"requiredFields\",null),e([l(ae.availableFields)],le.prototype,\"availableFields\",void 0),e([l()],le.prototype,\"_fieldsHelper\",void 0),e([l({type:Number})],le.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0})],le.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l()],le.prototype,\"_excludeObjectIds\",null),e([l({readOnly:!0})],le.prototype,\"lodFactor\",null),e([l({readOnly:!0})],le.prototype,\"hasM\",null),e([l({readOnly:!0})],le.prototype,\"hasZ\",null),e([l()],le.prototype,\"contentVisible\",null),e([l({readOnly:!0})],le.prototype,\"legendEnabled\",null),le=e([d(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],le);const de=le;function ue(e){return\"pointData\"in e}function he(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function pe(e,t,r){const i=t.attributeInfo;if(null==i?.loadedAttributes||null==i.attributeData)return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=L(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function ce(e){const t=e.attributeInfo;if(null==t?.loadedAttributes||null==t.attributeData)return;const r=e.node.index;for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=L(t.attributeData[e],i))}}}function me(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const ge={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},ye=h(),fe={graphic:null,property:null,oldValue:null,newValue:null};export{de as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getTimeOperator as i}from\"../../../../layers/graphics/data/timeSupport.js\";import s from\"../../../../layers/support/FeatureFilter.js\";import{combineTimeExtent as n}from\"../../../../layers/support/timeSupport.js\";import{getCachedAttributeValue as o}from\"../i3s/I3SBinaryReader.js\";import{filterInPlace as l}from\"../i3s/I3SUtil.js\";const u=i=>{let o=class extends i{get timeExtent(){return n(this.i3slayer,this.view?.timeExtent,this._get(\"timeExtent\"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new s;return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:n}=r;if(!n||null==i&&null==s)return;const o=r.toJSON(),l=e.toJSON();t.push(((t,e)=>a(t,e,o,l)))}};return t([e({readOnly:!0})],o.prototype,\"timeExtent\",null),t([e()],o.prototype,\"mergedFilter\",null),o=t([r(\"esri.views.3d.layers.support.TemporalSceneLayerView\")],o),o};function a(t,e,r,s){const n=e.attributeInfo?.attributeData;if(null==n)return;const{startTimeField:o,endTimeField:u}=r;if(!!(null!=o&&null==n[o]||null!=u&&null==n[u]))return;const a=i(r,s,new m(n));if(null==a)return;const{featureIds:p}=e;l(t,p,a)}class m{constructor(t){this.attributeData=t}getAttribute(t,e){return o(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}}export{u as TemporalSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n"],"names":["e","objectIdField","t","uniqueIdFields","r","length","type","fieldNames","fieldName","s","a","l","u","m","min","has","max","o","query","supportsPagination","operations","supportsEditing","h","clone","intersection","n","width","height","i","isNaN","p","c","y","d","f","supportsExceedsLimit","initialTolerance","maxFeatureCount","maxVertexCount","supportsExceedsLimitStatistics","timeInfo","datesInUnknownTimezone","timeOffset","useViewTime","timeExtent","start","end","getTimezoneOffset","isEmpty","isAllTime","offset","value","unit","equals","constructor","super","arguments","this","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","getLogger","error","parsedDefinitionExpression","i3slayer","definitionExpression","create","fieldsIndex","isStandardized","missingFields","join","definitionExpressionFields","_evaluateClause","testFeature","_addDefinitionExpressionToQuery","where","readOnly","prototype","dracoDecompressPointCloudData","geometryBuffer","hasInitialize","_updateAndCompare","_notifyUpdated","_nodes","Map","_graphics","_duplicates","clear","size","toArray","emit","added","removed","get","getNode","hasNode","nodes","values","addNode","set","graphics","Set","objectId","add","push","nodeIndex","_updateForeignGraphics","filter","removeNode","delete","indexOf","splice","node","level","forEach","index","Array","from","find","some","forEachNode","nodeCount","_checkInvariants","ae","B","ne","featureIds","attributeInfo","cachedMemory","reduce","x","le","K","T","z","D","ee","_queryEngine","_memCache","_interactiveEditingSessions","_pendingEditsQueue","Promise","resolve","loadedGraphics","R","loadedAttributes","attributeData","name","L","attributes","pe","processor","graphicsCore","recreateGraphics","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","tryRecycleWith","url","layer","_i3sOverrides","load","then","H","destroy","view","resourceController","memoryController","M","_setupQueryEngine","resetObjectStates","initialize","addResolvingPromise","indexInfo","Q","spatialReference","viewingMode","_fieldsHelper","W","layerView","_updatingHandles","rangeInfos","_rangeInfosChanged","renderer","_rendererChange","excludeObjectIds","_filterChange","_set","S","owner","preferredUpdatePolicy","X","ASYNC","scaleVisibilityEnabled","ie","filterVisibilityEnabled","timeExtentEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","setUidToIdOnAdd","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_ref","extent","_controller","updateElevationChanged","_verticalScale","b","when","newCache","uid","w","U","geometryDefinitions","_worker","O","immediate","schedule","addHandles","addPromise","result","_handleEdits","Z","I3S_TREE_SHOW_TILES","_treeDebugger","crsIndex","_ref2","I3STreeDebugger","lv","nodeSR","maximumNumberOfFeatures","featureTarget","suspended","_removeAllNodeData","layerViewUid","updatingProgressValue","updatingProgress","visibleAtCurrentScale","se","effectiveScaleRange","scale","scaleVisibilitySuspended","requiredFields","displayFeatureLimit","_override","fixedFeatureTarget","_clearOverride","maximumNumberOfFeaturesExceeded","useMaximumNumberOfFeatures","leavesReached","_excludeObjectIds","lodFactor","semantic","qualitySettings","sceneService","point","hasM","hasZ","contentVisible","rootNodeVisible","legendEnabled","whenGraphicAttributes","q","_getObjectIdField","getHit","E","sourceLayer","graphic","whenGraphicBounds","computeAttachmentOrigin","isUpdating","updating","layerFilterUpdating","highlight","re","updatePolicy","effectiveUpdatePolicy","createInteractiveEditSession","A","_attributeEditingContext","_decompressBinaryPointData","invoke","Error","positionData","positions","he","ue","id","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","me","pointPositions","_extractBinaryPointPositions","_extractLegacyPointPositions","_validatePositions","crsVertex","_createGraphics","attributeDataInfo","applyAttributeOverrides","numFeatures","_updateNodeMemory","ce","_computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","geometry","stage","renderView","olidRenderHelper","C","setUidToObjectAndLayerId","popupEnabled","te","popup","defaultPopupTemplateEnabled","resources","updateLoadStatus","_filterNode","update","isGeographic","renderSpatialReference","serviceObbInIndexSR","Y","J","center","ye","isNodeLoaded","isNodeReloading","updateNodeState","getNodeComponentHandle","Math","abs","_","pointData","featureDataPosition","geometries","ge","params","vertexAttributes","position","NaN","Number","g","I","fe","property","oldValue","newValue","graphicUpdateHandler","visible","memory","usedMemoryPerGraphic","put","_getMemCacheKey","_removeNodeStageData","loadCachedNodeData","pop","addCachedNodeData","getLoadedNodeIds","sort","getVisibleNodes","getLoadedNodeIndices","getLoadedAttributes","getAttributeData","_setAttributeData","_attributeValuesChanged","updateAttributes","labelsEnabled","updateLabelingInfo","refreshFilter","updateClippingArea","v","_getGlobalIdField","globalIdField","collectRequiredFields","every","_reloadAllNodes","warn","restartNodeLoading","createQuery","outFields","returnGeometry","outSpatialReference","N","queryFeatures","executeQuery","_ensureQuery","signal","queryObjectIds","executeQueryForIds","queryFeatureCount","executeQueryForCount","queryExtent","executeQueryForExtent","G","featureStore","F","context","priority","oe","FEATURE_QUERY_ENGINE","usedMemory","unloadedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","ignoresMemoryFactor","V","P","sessions","attributeStorageInfo","i3sOverrides","setAttributeData","clearMemCache","performanceInfo","k","test","j","$","availableFields","de","_get","mergedFilter","getTimeFilterDependencies","startField","endField","addTimeFilter","useTime","toJSON","startTimeField","endTimeField","getAttribute","getAttributeAsTimestamp","Date","getTime"],"sourceRoot":""}