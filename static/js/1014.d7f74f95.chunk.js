"use strict";(self.webpackChunksc_pier_workable=self.webpackChunksc_pier_workable||[]).push([[1014],{1014:(t,e,s)=>{s.r(e),s.d(e,{addSpatialReferenceInfo:()=>a,destroyWasm:()=>l,initialize:()=>u,process:()=>o});var n=s(43414);let r,i;async function o(t){await u();const e={status:1,error:"",jobDescJson:"",data:new Uint8Array(0),missingInputUrls:[]};if(t.inputs.length<1)return{result:e,transferList:[]};const s={ptrs:[],sizes:[]};for(const l of t.inputs){const t=i._malloc(l.byteLength);new Uint8Array(i.HEAPU8.buffer,t,l.byteLength).set(new Uint8Array(l)),s.ptrs.push(t),s.sizes.push(l.byteLength)}const n=i.process(t.jobDescJson,t.id,s,t.isMissingResourceCase);e.status=n.status,e.missingInputUrls=n.missingInputUrls.slice();const r=0===n.status&&n.data,o=2===e.status&&e.missingInputUrls.length>0;e.jobDescJson=n.jobDescJson.slice(),e.error=n.error.slice(),r?e.data=n.data.slice():o&&(e.originalInputs=t.inputs.slice());for(let l=0;l<s.ptrs.length;++l)i._free(s.ptrs[l]);const a=[];if(r)a.push(e.data.buffer);else if(o)for(const i of t.inputs)a.push(i);return{result:e,transferList:a}}async function a(t){await u(),i.add_spatial_reference_info(t.sr,t.isGCS,t.toMetersXY,t.toMetersZ)}function l(){i&&(i.uninitialize_lyr3d_worker_wasm(),i=null)}function u(){return i?Promise.resolve():(r||(r=(0,n.h)().then(t=>{i=t,i.initialize_lyr3d_worker_wasm(),r=null})),r)}},43414:(t,e,s)=>{s.d(e,{a:()=>r,h:()=>i});var n=s(28899);function r(){return new Promise(t=>s.e(26382).then(s.bind(s,26382)).then(t=>t.l).then(e=>{let{default:s}=e;const n=s({locateFile:o,onRuntimeInitialized:()=>t(n)})})).catch(t=>{throw t})}function i(){return new Promise(t=>s.e(23409).then(s.bind(s,23409)).then(t=>t.l).then(e=>{let{default:s}=e;const n=s({locateFile:o,onRuntimeInitialized:()=>t(n)})})).catch(t=>{throw t})}function o(t){return(0,n.s)(`esri/libs/lyr3d/${t}`)}}}]);
//# sourceMappingURL=1014.d7f74f95.chunk.js.map