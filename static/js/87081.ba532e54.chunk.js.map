{"version":3,"file":"static/js/87081.ba532e54.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ObjectParameters.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LayerElevationProvider.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Transform.js","../node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/Lyr3DViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/lyr3dTypeConversions.js","../node_modules/@arcgis/core/views/3d/layers/support/Tiles3DIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../../../core/maybe.js\";import{isPromiseLike as t}from\"../../../../../core/promiseUtils.js\";class s{constructor(s,r){this._textures=s,this.loadPromise=null,this._disposed=!1;const i=this._textures.acquire(r);t(i)?(i.then(t=>{this._disposed?e(t):this._textureRef=t}),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return this._textureRef?.glTexture}}export{s as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,o,e,i){this.toMapSpace=t,this.transform=s,this.obb=o,this.geometry=e,this.elevationAlignable=i}}export{t as ObjectParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import c from\"../../geometry/Polygon.js\";import{canProjectWithoutEngine as m,projectPolygon as l}from\"../../geometry/projectionUtils.js\";var n;let y=n=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer?.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!m(e.spatialReference,s.layer.spatialReference))return void(s?.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new c;l(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s)}clone(){return new n({geometry:o(this.geometry),type:this.type})}};e([s({type:c}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=n=e([p(\"esri.layers.support.SceneModification\")],y);export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{b as r}from\"../../chunks/vec32.js\";import{getProjectorClassification as t,invPlateCarreeScale as e}from\"./projectors.js\";import{earth as s}from\"../support/Ellipsoid.js\";import{equals as o}from\"../support/spatialReferenceUtils.js\";function i(i,n,f,u){const c=t(n,u);if(null==c)return!1;const p=c.source.spatialReferenceId,a=c.dest.spatialReferenceId;if(p===a&&0!==p||o(n,u))return f[0]=1,f[1]=1,f[2]=1,!0;if(1===p){const t=r(i),o=t/Math.sqrt(i[0]*i[0]+i[1]*i[1]),n=t/s.radius;if(3===a)return f[0]=o*n,f[1]=o*n,f[2]=1,!0;if(2===a||5===a){const r=e;return f[0]=r*o*n,f[1]=r*n,f[2]=1,!0}}else if(11===p){if(2===a||5===a)return f[0]=e,f[1]=e,f[2]=1,!0;if(3===a){const r=i[1]/s.radius;return f[0]=1,f[1]=1/Math.cos(r),f[2]=1,!0}}return!1}export{i as localLinearScaleFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../../../core/Evented.js\";import r from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromQuat as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as a,t as l}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection/projectBoundingSphere.js\";import{empty as m,expand as u}from\"../../../../geometry/support/aaBoundingRect.js\";import{f as h}from\"../../../../chunks/sphere.js\";import{ElevationRange as f}from\"../../support/ElevationRange.js\";import{ElevationUpdateEventImplementation as d}from\"../../terrain/ElevationUpdateEvent.js\";import{Intersector as v}from\"../../webgl-engine/lib/Intersector.js\";let E=class extends t{constructor(e){super(e),this._tmpEvent=new d,this._renderCoordsHelper=e.view.renderCoordsHelper,this._renderSR=this._renderCoordsHelper.spatialReference,this._layerElevationSource=e.layerElevationSource}initialize(){this._intersector=new v(this.view.state.viewingMode),this._intersector.options.store=0,this._intersector.options.normalRequired=!1,this._tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}get spatialReference(){return this.view?.elevationProvider?.spatialReference}getElevation(e,t,i,n){const o=this._renderCoordsHelper,s=a(x,e,t,i);if(!o.toRenderCoords(s,n,s))return r.getLogger(this).error(\"could not project point to compute elevation\"),null;const{layerElevationSource:l,_intersector:c,intersectionHandler:p}=this,m=l.fullExtent,u=null!=m&&Number.isFinite(m.xmin)&&Number.isFinite(m.xmax)&&Number.isFinite(m.ymin)&&Number.isFinite(m.ymax)&&Number.isFinite(m.zmin)&&Number.isFinite(m.zmax)?new f(m.zmin,m.zmax):l.elevationRange;if(null==u)return null;const h=l.elevationOffset,d=u.elevationRangeMin+h,v=u.elevationRangeMax+h,E=o.setAltitude(R,v,s),g=o.setAltitude(y,d,s);return c.reset(E,g,this.view.state.camera),p.intersect(c,null,E,g,null,!0),c.results.min.getIntersectionPoint(s)?o.getAltitude(s):null}getSphereElevationBounds(e,t){return p(e,t,_,this._renderSR),this._layerElevationSource.getElevationRange(_)}getRootElevationBounds(){const e=this.layerElevationSource.fullExtent;return e?.hasZ?new f(e.zmin,e.zmax):null}notifyObjectsChanged(e){this.spatialReference&&(this._computeLayerExtent(t=>{for(const r of e)t(r)},this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}notifyObjectsChangedFunctional(e){this.spatialReference&&(this._computeLayerExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}notifyObjectChanged(e){this.spatialReference&&(this._computeObjectExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}_computeObjectExtent(e,t){m(t),this._expandExtent(e,t)}_computeLayerExtent(e,t){m(t),e(e=>{this._expandExtent(e,t)})}_expandExtent(e,t){const r=this.spatialReference;if(null==r)return;if(null==e)return;o(g,e.quaternion),g[12]=e.center[0],g[13]=e.center[1],g[14]=e.center[2];const i=e.halfSize;for(let n=0;n<8;++n)x[0]=1&n?i[0]:-i[0],x[1]=2&n?i[1]:-i[1],x[2]=4&n?i[2]:-i[2],l(x,x,g),this._renderCoordsHelper.fromRenderCoords(x,x,r),u(t,x,t)}};e([i({constructOnly:!0})],E.prototype,\"layerElevationSource\",void 0),e([i({constructOnly:!0})],E.prototype,\"intersectionHandler\",void 0),e([i({constructOnly:!0})],E.prototype,\"view\",void 0),e([i()],E.prototype,\"spatialReference\",null),E=e([n(\"esri.views.3d.layers.i3s.LayerElevationProvider\")],E);const g=s(),_=h(0,0,0,0),x=c(),R=c(),y=c();export{E as LayerElevationProvider};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass i{constructor(i,o){this.position=i,this.rotationScale=o,this.origin=void 0}}export{i as Transform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../core/mathUtils.js\";import{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getProjectorClassification as t,copy3 as s,projectionTable as n,wgs84ToWebMercator as o}from\"./projectors.js\";import{earth as i}from\"../support/Ellipsoid.js\";import{a as c,e as a}from\"../../chunks/sphere.js\";function l(e,r,l,m){if(null==r||null==m)return!1;const d=t(r,m);if(null==d?.projector)return!1;if(d.projector===s)return e!==l&&(l[0]=e[0],l[1]=e[1],l[2]=e[2],l[3]=e[3]),!0;const{source:j,dest:h,projector:I}=d;if(3===h.spatialReferenceId){const r=n[j.spatialReferenceId][2];if(null==r)return!1;r(c(e),0,f,0),o(f,0,p,0);const t=u(f[1],e[2],e[3],i.radius);return a(l,p,t),!0}if(2!==j.spatialReferenceId&&5!==j.spatialReferenceId||11!==h.spatialReferenceId){I(c(e),0,p,0);const r=j.metersPerUnit??1,t=h.metersPerUnit??1,s=e[3]*r/t;a(l,p,s)}else{const r=n[j.spatialReferenceId][1],t=n[1][11];let s=e[3];null!=r&&null!=t&&(s=u(e[1],e[2],e[3],i.radius)),I(c(e),0,p,0),a(l,p,s)}return!0}function u(e,r,t,s){const n=s+r;if(n<s/2||t>n)return Number.MAX_VALUE;const o=Math.abs(m*e)+Math.asin(t/n);return o>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(o)}const f=r(),p=r(),m=e(1);export{l as projectBoundingSphere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{const n=l;let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,s=o.signal;this.addHandles(t(()=>o.abort())),await r(()=>this.view.defaultsFromMap?.heightModelInfoReady,s),e(s);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([s()],c.prototype,\"view\",void 0),o([s()],c.prototype,\"slicePlaneEnabled\",void 0),c=o([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,h,c){super(e,0,0,0,t),this.nodesCached=s,this.vboMB=r,this.textureMB=o,this.vboMBCached=h,this.textureMBCached=c}}export{t as Lyr3DViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{PrimitiveType as t}from\"../../../webgl/enums.js\";const n={Points:null,Lines:null,LineStrip:null,Triangles:t.TRIANGLES,TriangleStrip:t.TRIANGLE_STRIP,NotSet:null},e={Opaque:1,Mask:2,Blend:0},l={Back:2,Front:1,None:0,NotSet:2},o={WrapYBit:{s:33071,t:10497},WrapXBit:{s:10497,t:33071},WrapXy:{s:10497,t:10497},None:{s:33071,t:33071},NotSet:{s:33071,t:33071}},r={U8:1,I8:1,U16:2,I16:2,U32:4,I32:4,F32:4,F64:8,Utf8String:1,NotSet:1};export{e as alphaModeConversion,l as faceCullingConversion,r as lyr3DTypeToByteSize,n as primTypeConversion,o as wrapModeConversion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{a as e,n as i}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Tiles3DTarget as s}from\"../i3s/Intersector.js\";import{IntersectorResult as n}from\"../../webgl-engine/lib/IntersectorResult.js\";import{MeshIntersectionOptions as r,computeInvDir as o,intersectAabbInvDir as l}from\"../../webgl-engine/lib/RayIntersections.js\";class a{constructor(e){this.layerView=e,this.type=8,this.slicePlaneEnabled=!1,this.isGround=!0,this.layerViewUid=e.uid}intersect(a,u,d,m,f,p){if(a.options.filteredLayerViewUids.includes(this.layerView.uid))return;const{results:h,tolerance:w}=a,y=2===a.options.store,{componentObjectCollection:b}=this.layerView.view.stage.renderView,g=new r(w,p,a.options.normalRequired),V=o(d,m,c),j=e(t(),m,d),x=i(t(),j),I=(e,i,t)=>{if(i>=0){if(null!=u&&!u(d,m,i))return;const e=e=>{const n=new s(this.layerView.layer.uid);e.set(this.type,n,i,t)};if(this.isGround&&(null==h.ground.distance||i<h.ground.distance)&&e(h.ground),a.options.isFiltered)return;if((null==h.min.distance||i<h.min.distance)&&e(h.min),(null==h.max.distance||i>h.max.distance)&&e(h.max),y){const i=new n(a.ray);e(i),a.results.all.push(i)}}};this.layerView.forEachVisibleTile(e=>{if(!e.boundingVolumeIntersectsRay(d,x))return;const{componentObjects:i}=e;for(const t of i)l(t.aabbInWorldCoordinates,d,V,0)&&b.intersect(t,d,m,null,g,I)})}}const c=t();export{a as Tiles3DIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import has from\"../../../core/has.js\";import t from\"../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{initial as s,watch as r,when as o}from\"../../../core/reactiveUtils.js\";import{schedule as n}from\"../../../core/scheduling.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as c,invert as d}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as h,IDENTITY as m}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{create as u}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as p}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{o as f,g,a as b,f as y}from\"../../../chunks/vec32.js\";import{fromArray as _,clone as w,create as v}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as j}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{SphericalECEFSpatialReferenceLike as x}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as C}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{localLinearScaleFactors as M}from\"../../../geometry/projection/localLinearScaleFactors.js\";import{projectVectorToVector as O}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as T}from\"../../../geometry/support/aaBoundingRect.js\";import{BufferViewVec2f as P,BufferViewVec4f as U,BufferViewVec4u8 as H,BufferViewVec4u16 as S,BufferViewVec3f as E,BufferViewVec3u8 as R,BufferViewVec3u16 as F,BufferViewInt16 as V,BufferViewUint32 as A,BufferViewUint16 as k}from\"../../../geometry/support/buffer/BufferView.js\";import I from\"../../../layers/support/SceneModification.js\";import{getElevationOffsetInMeters as D}from\"../../../support/elevationInfoUtils.js\";import{toWasmModification as L}from\"./I3SMeshWorkerHandle.js\";import{LayerView3D as B}from\"./LayerView3D.js\";import{Lyr3DViewPerformanceInfo as G}from\"./Lyr3DViewPerformanceInfo.js\";import{addLayerViewToWasm as z,removeLayerViewFromWasm as N,getLyr3DWasm as W}from\"./Lyr3DWasm.js\";import{LayerElevationProvider as $}from\"./i3s/LayerElevationProvider.js\";import{primTypeConversion as q,wrapModeConversion as J,lyr3DTypeToByteSize as K,alphaModeConversion as Q,faceCullingConversion as X}from\"./support/lyr3dTypeConversions.js\";import{Tiles3DIntersectionHandler as Y}from\"./support/Tiles3DIntersectionHandler.js\";import{ElevationRange as Z}from\"../support/ElevationRange.js\";import{toBoundingRect as ee}from\"../support/extentUtils.js\";import{Obb as te,compute as ie}from\"../support/orientedBoundingBox.js\";import{ObjectParameters as se}from\"../webgl-engine/collections/Component/ObjectParameters.js\";import{GeometryParameters as re,createVertexBufferLayout as oe,SourceGeometry as ne}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{Transform as ae}from\"../webgl-engine/collections/Component/Transform.js\";import{RenderTexture as le}from\"../webgl-engine/core/material/RenderTexture.js\";import{getEllipsoidMode as ce}from\"../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Attribute as de}from\"../webgl-engine/lib/Attribute.js\";import{compressAndTransformNormals as he}from\"../webgl-engine/lib/Normals.js\";import{Texture as me}from\"../webgl-engine/lib/Texture.js\";import{writeAttribute as ue,writeBufferVec2 as pe}from\"../webgl-engine/materials/internal/bufferWriterUtils.js\";import fe from\"../../layers/LayerView.js\";import{spatialReferenceIncompatibleError as ge,isInEffectiveScaleRange as be}from\"../../support/layerViewUtils.js\";import{TextureCompressionTracker as ye}from\"../../support/TextureCompressionTracker.js\";import{alphaCutoff as _e}from\"../../../webscene/support/AlphaCutoff.js\";class we{constructor(e,t,i,s,r,o,n){this.handle=e,this.componentObjects=t,this.textures=i,this.cpuMemoryUsage=s,this.vboMemoryUsage=r,this.textureMemoryUsage=o,this.obb=n,this.isVisible=!1,this.usedMemory=this.textureMemoryUsage+this.vboMemoryUsage+this.cpuMemoryUsage;const a=v();n?.getCenter(a),this._obbCenter=a,this._obbRadiusSquared=n?n?.radius**2:0}boundingVolumeIntersectsRay(e,t){if(!this.obb)return!0;const i=b(ve,this._obbCenter,e),s=y(i,t);return y(i,i)-s*s<=this._obbRadiusSquared&&this.obb.intersectRay(e,t)}}const ve=v();function je(e){return Math.round(e/1048.576)/1e3}let xe=class extends(B(fe)){get hasModifications(){return this._modifications&&this._modifications.length>0}constructor(e){super(e),this.type=\"integrated-mesh-3dtiles\",this._compressionTracker=new ye,this._modifications=new Array,this._visibleGeometryChangedSchedulerHandle=null,this._wasmLayerId=-1,this.ignoresMemoryFactor=!1,this._usedMemory=0,this._cacheMemory=0,this.drapeTargetType=1,this._applySSAO=!has(\"disable-feature:im-ssao\"),this._shadeNormals=!!has(\"enable-feature:im-shading\"),this._lyrHandleToObjects=new Map,this._visibleObjects=new Set,this._initialCullFace=new Map,this._suspendedHandle=null,this._dbgFlags=new Set,this._memCache=e.view.resourceController.memoryController.newCache(`IM3DTiles-${this.uid}`,e=>this._deletePerObjectData(e))}initialize(){this._dbgFlags.add(3),this._dbg(2,\"Tiles3DLayerView3D initialize() called\");const{view:e}=this;if(this._updatingHandles.add(()=>this.layer.modifications,()=>this._loadModifications(),s),!this._canProjectWithoutEngine())throw ge(\"layer\",this.layer.spatialReference.wkid,e.renderSpatialReference?.wkid);const t=z(this).then(t=>{this._wasmLayerId=t,this._intersectionHandler=new Y(this),e.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler),this._updatingHandles.add(()=>this.slicePlaneEnabled,e=>this._slicePlaneEnabledChange(e)),this._updatingHandles.add(()=>this._modifications,()=>this._modificationsChanged(),s),this._updatingHandles.add(()=>this.fullOpacity,()=>this._opacityChange()),this._updatingHandles.add(()=>e.clippingArea,()=>this._clippingAreaChanged(),s),this._elevationProvider=new $({view:e,layerElevationSource:this,intersectionHandler:this._intersectionHandler}),e.elevationProvider.register(1,this._elevationProvider),e.overlayManager.registerDrapeTarget(this),this.addHandles([r(()=>this.layer.elevationInfo,e=>this._elevationInfoChanged(e))]),this._suspendedHandle=r(()=>this.suspended,e=>this._wasm?.setEnabled(this,!e),s)});this.addResolvingPromise(t),this._replacesTerrain&&this.addHandles(o(()=>this.view.map.ground.opacity,()=>{this._opacityChange()}))}get _replacesTerrain(){return this.layer.replacesTerrain&&!!this.view.map.basemap?.groundLayers.includes(this.layer)}get fullOpacity(){return this._replacesTerrain?this.view.map.ground.opacity:1}get opacity(){return 1}_opacityChange(){const{fullOpacity:e}=this;this.forEachComponentObject(t=>{this._collection.getMaterial(t).objectOpacity=e})}intersect(e,t,i,s){this._intersectionHandler.intersect(e,t,i,s,null,!1)}get ready(){return!0}destroy(){this._dbg(2,\"Tiles3DLayerView3D destroy() called\"),N(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null),this._intersectionHandler&&(this.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null),this._elevationProvider&&(this._elevationProvider.notifyObjectsChangedFunctional(e=>this.forEachComponentObject(t=>e(t.obb))),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this.view.overlayManager.unregisterDrapeTarget(this),this._lyrHandleToObjects.forEach(e=>this.freeObject(e)),this._lyrHandleToObjects.clear(),this._initialCullFace.clear(),this._visibleObjects.clear(),this._usedMemory=0,this._cacheMemory=0,this._memCache.destroy(),this._updatingHandles=i(this._updatingHandles),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}_modificationsChanged(){const e=this.layer.spatialReference,t=L(this._layerClippingArea,this._modifications,e);this._wasm?.setMeshModifications(this,t,e.wkid)}_clippingAreaChanged(){const e=this.layer.spatialReference,t=T();this._layerClippingArea=ee(this.view.clippingArea,t,e)?t:null,this._modificationsChanged()}_visibleGeometryChanged(){this._visibleGeometryChangedSchedulerHandle??=n(()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null})}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),this.forEachComponentObject(t=>{const i=this._collection.getMaterial(t);i.commonMaterialParameters.hasSlicePlane=e,i.commonMaterialParameters.cullFace=e?0:this._initialCullFace.get(t)})}_elevationInfoChanged(e){this._wasm?.setLayerOffset(this,D(e))}get _wasm(){return W(this.view)}get wasmLayerId(){return this._wasmLayerId}get usedMemory(){return this._usedMemory}get unloadedMemory(){return 0}get cachedMemory(){return this._cacheMemory}get visibleAtCurrentScale(){return be(this.layer.effectiveScaleRange,this.view.scale)}get performanceInfo(){let e=0,t=0,i=0,s=0,r=0,o=0;return this._lyrHandleToObjects.forEach(n=>{n.isVisible?(e+=n.textureMemoryUsage,t+=n.vboMemoryUsage,r++):(i+=n.textureMemoryUsage,s+=n.vboMemoryUsage,o++)}),new G(this.usedMemory,r,o,je(t),je(e),je(s),je(i))}_canProjectWithoutEngine(){if(2===this.view.state.viewingMode){const e=this.view.renderSpatialReference?.isWebMercator?3857:this.view.renderSpatialReference?.wkid??-1;if(3857!==e&&32662!==e)return!1}return!0}get _stage(){return this.view.stage}get _collection(){return this._stage.renderView.componentObjectCollection}get elevationProvider(){return this._elevationProvider}get elevationOffset(){return D(this.layer.elevationInfo)}get elevationRange(){const e=this.fullExtent;return e?.zmin&&e?.zmax?new Z(e.zmin,e.zmax):null}getElevationRange(e){return null}get fullExtent(){return this.layer.fullExtent}forEachComponentObject(e){this._forEachObject(this._lyrHandleToObjects.values(),e)}forEachVisibleTile(e){for(const t of this._visibleObjects)e(t)}forEachVisibleComponentObject(e){this._forEachObject(this._visibleObjects,e)}_forEachObject(e,t){for(const i of e)for(const e of i.componentObjects)t(e)}isUpdating(){const e=this._wasm;return!(this._wasmLayerId<0||null==e)&&(e.isUpdating(this._wasmLayerId)||this._compressionTracker.compressing)}updatingFlagChanged(){this.notifyChange(\"updating\")}async createRenderable(e){const t=e.meshData;if(null==t.data)throw new Error(\"meshData.data undefined\");if(t.desc=JSON.parse(t.desc),null==t.desc)throw new Error(\"meshData.desc undefined\");const i=_(t.desc.origin),s=new Array,r=this.view.basemapTerrain.spatialReference;let o,n;if(\"global\"===this.view.viewingMode){const e=u();C(x,i,e,r),o=c(h(),e),n=d(h(),o)}else o=m,n=m;const a=w(i),l=v(),p=Te(t.desc.obb);let g=0,b=0;const y={textureMemoryUsage:0},T=new Array,U=new Map,H=t.desc.prims.length;for(let c=0;c<H;c++){const e=t.desc.prims[c];this._dbg(2,JSON.stringify(e));if(null==q[e.ptype]||null==t.data){this._dbg(2,\"[Unsupported Feature] Unsupported primitive mode (\"+e.ptype+\"). Skipping primitive.\");continue}const d=t.desc?.materials&&null!=e.materialId?t.desc.materials[e.materialId]:null,h=null!=d?d.lightingModel:\"Unlit\",{positionView:u,positionAttr:_,normalsView:w,normalsAttr:x,colorAttr:C,texCoord0Attr:H,indicesView:S}=this.getBufferViews(e,t.data.buffer,o);if(null==_||null==u||null==S)continue;const E=new re(null!=C,H?1:0,null!=w,this._shadeNormals||this._replacesTerrain,this._applySSAO),R=_.data.length/_.size,F=(e,t)=>!e||e.data.length/e.size===R||(this._dbg(3,`${t} !== numPos. Skipping primitive.`),!1);if(!F(H,\"numTexcoord\")||!F(C,\"numColors\")||!F(x,\"normals\"))continue;const V=oe(E),A=p?.clone()??Oe(_,i);if(o!==m)for(let t=0;t<u.count;t++)u.getVec(t,l),f(l,l,o),u.setVec(t,l);const k=V.createBuffer(_.data.length);if(ue(\"position\",_,null,null,k,0),null!=H){const e=k.getField(\"uv0\",P);pe(H,e,0)}null!=C&&ue(\"color\",C,null,null,k,0),null!=x&&ue(\"normalCompressed\",x,null,null,k,0);const I=new Uint32Array([0,S.typedBuffer.length]),D=new ne({data:k.buffer,count:k.byteLength/V.stride,layoutParameters:E},{positions:u.typedBuffer,indices:S.typedBuffer},S.typedBuffer,I);g+=u.count+S.count;const L=this.view.renderSpatialReference,B=v(),G=[1,1,1];M(a,L,G,r)||this._dbg(3,\"Unsupported coordinate system for IM overlay\"),O(a,L,B,r);const z=this._collection.createObject(new se(j(B[0],B[1],G[0],G[1]),new ae(a,n),A,D,!1));if(d){const e=e=>{e.baseColor=d.baseColorFactor,e.usePBR=\"Pbr\"===h,e.hasParametersFromSource=!1,e.baseColorTexture=this._getTexture(d.baseColorTex,t,U,y),e.usePBR&&(e.mrrFactors=[d.metallicFactor,d.roughnessFactor,0],e.emissiveBaseColor=d.emissiveFactor??[0,0,0],e.metallicRoughnessTexture=this._getTexture(d.metalTex,t,U,y),e.emissionTexture=this._getTexture(d.emissiveTex,t,U,y),e.occlusionTexture=this._getTexture(d.occlusionTex,t,U,y),e.normalTexture=this._getTexture(d.normalTex,t,U,y)),e.objectOpacity=0,e.alphaDiscardMode=2;const i=[];e.baseColorTexture&&i.push(e.baseColorTexture.loadPromise),e.usePBR&&(e.metallicRoughnessTexture&&i.push(e.metallicRoughnessTexture.loadPromise),e.emissionTexture&&i.push(e.emissionTexture.loadPromise),e.occlusionTexture&&i.push(e.occlusionTexture.loadPromise),e.normalTexture&&i.push(e.normalTexture.loadPromise));const r=Promise.all(i);s.push(r),r.then(()=>{e.alphaDiscardMode=Q[d.alphaMode],e.objectOpacity=this.fullOpacity,y.textureMemoryUsage+=e.baseColorTexture?.glTexture?.usedMemory??0,e.usePBR&&(y.textureMemoryUsage+=(e.metallicRoughnessTexture?.glTexture?.usedMemory??0)+(e.emissionTexture?.glTexture?.usedMemory??0)+(e.occlusionTexture?.glTexture?.usedMemory??0)+(e.normalTexture?.glTexture?.usedMemory??0))}),e.commonMaterialParameters.doubleSided=d.isDoubleSided,e.commonMaterialParameters.cullFace=d.faceCulling?X[d.faceCulling]:0,this._initialCullFace.set(z,e.commonMaterialParameters.cullFace),e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.componentParameters.castShadows=0,e.textureAlphaCutoff=d.alphaCutoff??_e,e.alphaDiscardMode=Q[d.alphaMode],e.isIntegratedMesh=!0,e.sphereDepthInterpolate=this.layer.hasGoogleUrl,e.polygonOffsetEnabled=!1,e.hasOccludees=!1,e.ellipsoidMode=ce(this.view.spatialReference)};this._collection.updateMaterial(z,e)}T.push(z),b+=this._collection.getObjectGPUMemoryUsage(z)}await Promise.all(s);const S=new Array;U.forEach(e=>{S.push(e)});const E=new we(e.handle,T,S,g,b,y.textureMemoryUsage,p);return this._memCache.put(`${E.handle}`,E),this._lyrHandleToObjects.set(e.handle,E),this._cacheMemory+=E.usedMemory,{memUsageBytes:E.usedMemory}}freeRenderable(e){const t=this._lyrHandleToObjects.get(e);t&&(t.isVisible?(this._visibleObjects.delete(t),this._usedMemory-=t.usedMemory):this._cacheMemory-=t.usedMemory,this.freeObject(t),this._lyrHandleToObjects.delete(e))}freeObject(e){this._memCache.pop(`${e.handle}`),e.textures.forEach(e=>this._stage.removeTexture(e)),e.componentObjects.forEach(e=>{this._collection.destroyObject(e),this._initialCullFace.delete(e)})}setRenderableVisibility(e,t,i){for(let s=0;s<i;++s){const i=t[s];if(!i)continue;const r=e[s],o=this._lyrHandleToObjects.get(r);if(o){if(o.isVisible)continue;this._visibleGeometryChanged(),o.isVisible=!0,this._visibleObjects.add(o),this._usedMemory+=o.usedMemory,this._cacheMemory-=o.usedMemory,o.componentObjects.forEach(e=>{this._collection.setObjectVisibility(e,i),this._elevationProvider.notifyObjectChanged(this._collection.getComponentObb(e))}),this._memCache.pop(`${r}`)}}for(let s=0;s<i;++s){const i=e[s],r=t[s];if(r)continue;const o=this._lyrHandleToObjects.get(i);if(o){if(!o.isVisible)continue;this._visibleGeometryChanged(),o.isVisible=!1,this._visibleObjects.delete(o),this._usedMemory-=o.usedMemory,this._cacheMemory+=o.usedMemory,o.componentObjects.forEach(e=>{this._collection.setObjectVisibility(e,r),this._elevationProvider.notifyObjectChanged(this._collection.getComponentObb(e))}),this._memCache.put(`${i}`,o)}}}_getTexture(e,t,i,s){let r=null;if(e&&t.desc?.images&&t.data?.buffer){const o=t.desc.images[e?.imageId];if(r=i.get(o),!r&&o){const n=this._stage.renderView.renderingContext.parameters.maxMaxAnisotropy,a=!!o.mipCount||n>1,l=J[e.wrapMode??\"None\"];let c=o.alpha?6408:6407;const d=new Uint8Array(t.data.buffer,o.data.byteOffset,o.data.byteCount);let h=null,m=null,u=null;switch(o.format){case\"Raw\":\"R8\"===o.pixelFormat?(h=d,c=6403,m=\"\"):\"Rgb8\"===o.pixelFormat?(h=d,c=6407,m=\"\"):\"Rgba8\"===o.pixelFormat&&(h=d,c=6408,m=\"\");break;case\"Dxt1\":h=d,c=6407,m=\"image/vnd-ms.dds\";break;case\"Dxt5\":h=d,c=6408,m=\"image/vnd-ms.dds\";break;case\"Basis\":h=d,c=6407,m=\"image/ktx2\";break;case\"Png\":m=\"image/png\",u=document.createElement(\"img\");break;case\"Jpeg\":m=\"image/jpeg\",u=document.createElement(\"img\");break;case\"Etc2\":m=\"image/ktx\",u=document.createElement(\"img\");break;case\"Astc\":this._dbg(3,\"Astc texture not supported\");break;case\"Pvrtc\":this._dbg(3,\"Pvrtc texture not supported\")}if(u&&m){const e=new Blob([d],{type:m});u.src=URL.createObjectURL(e),h=u}if(h&&null!=m){const e=has(\"enable-feature:esri-compress-IM-textures\")?{compressionTracker:this._compressionTracker,compressionCallback:e=>{e&&e>0&&(s.textureMemoryUsage-=e)}}:void 0;r=new me(h,{mipmap:a,maxAnisotropy:n,encoding:m,wrap:l,pixelFormat:c,compressionOptions:e,noUnpackFlip:!0,width:o.mip0Width,height:o.mip0Height}),this._stage.addTexture(r),i.set(o,r)}}}return r?new le(this.view.stage.renderView.textures,r.id):null}getBufferViews(e,t,i){let s,r,o,n,a,l,c,d=null;for(let m=0;m<e.atrbs.length;m++){const c=e.atrbs[m],u=c.view,p=void 0,f=u.byteOffset+u.byteCount,g=u.byteCount/K[u.type],b=[...Array(g).keys()].map(e=>e);try{switch(c.sem){case\"Position\":3!==u.ncomp||\"F32\"!==u.type?this._dbg(3,\"[Unsupported Feature] Unsupported view for Position (\"+u+\")\"):(s=new E(t,u.byteOffset,p,f),r=new de(s.typedBuffer,b,3));break;case\"Normal\":if(3!==u.ncomp||\"F32\"!==u.type)this._dbg(3,\"[Unsupported Feature] Unsupported view for Normal (\"+u+\")\");else{const e=new E(t,u.byteOffset,p,f),s=he(e.typedBuffer,i);a=new V(s.buffer),l=new de(a.typedBuffer,b,2)}break;case\"TexCoord\":2!==u.ncomp||\"F32\"!==u.type?this._dbg(3,\"[Unsupported Feature] Unsupported view for Texcoord (\"+u+\")\"):void 0===n&&(n=new de(new P(t,u.byteOffset,p,f).typedBuffer,b,2));break;case\"Color\":4===u.ncomp?(\"F32\"===u.type&&(d=new U(t,u.byteOffset,p,f)),\"U8\"===u.type&&(d=new H(t,u.byteOffset,p,f)),\"U16\"===u.type&&(d=new S(t,u.byteOffset,p,f))):3===u.ncomp&&(\"F32\"===u.type&&(d=new E(t,u.byteOffset,p,f)),\"U8\"===u.type&&(d=new R(t,u.byteOffset,p,f)),\"U16\"===u.type&&(d=new F(t,u.byteOffset,p,f))),null==d?this._dbg(2,\"[Unsupported Feature] Unsupported view for Color (\"+u+\")\"):o=new de(d.typedBuffer,b,u.ncomp);break;case\"FeatureIndex\":break;default:this._dbg(2,\"[Unsupported Feature] Unsupported semantic (\"+c.sem+\"). Skipping vertex attribute.\")}}catch(h){this._dbg(2,\"Error Creating buffer (\"+h+\"). Skipping vertex attribute.\")}}if(e.index){const i=e.index.view,s=void 0,r=i.byteOffset+i.byteCount;switch(e.index.view.type){case\"U16\":c=new k(t,i.byteOffset,s,r);break;case\"U32\":c=new A(t,i.byteOffset,s,r);break;default:this._dbg(3,\"[Unsupported Feature] index type not supported (\"+i.type+\").\")}}if(null==c&&null!=s){const e=s.count;if(e<65535){const t=new Uint16Array(e);c=new k(t.buffer)}else{const t=new Uint32Array(e);c=new A(t.buffer)}for(let t=0;t<e;t++)c.set(t,t)}return{positionView:s,positionAttr:r,colorAttr:o,texCoord0Attr:n,indicesView:c,normalsView:a,normalsAttr:l}}_loadModifications(){if(this.removeHandles(\"modifications\"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange(()=>e,()=>this._modifications=e.toArray(),s),\"modifications\")}_deletePerObjectData(e){this._wasm?.onRenderableEvicted(this,e.handle,e.usedMemory),this.freeRenderable(e.handle)}_dbg(e,i){this._dbgFlags.has(e)&&(3===e?t.getLogger(this).error(i):t.getLogger(this).warn(i))}};e([a()],xe.prototype,\"fullOpacity\",null),e([a({type:[I]})],xe.prototype,\"_modifications\",void 0),e([a()],xe.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([a()],xe.prototype,\"layer\",void 0),e([a({readOnly:!0})],xe.prototype,\"visibleAtCurrentScale\",null),e([a()],xe.prototype,\"elevationOffset\",null),xe=e([l(\"esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D\")],xe);const Ce=xe,Me=v();function Oe(e,t){const i=ie(e);return g(Me,i.center,t),i.center=Me,i}function Te(e){return e?new te(e.center,e.halfSize,p(...e.quaternion)):null}export{Ce as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import i from\"../../core/Logger.js\";import{destroyMaybe as s}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as p}from\"../support/layerViewUtils.js\";let d=class extends(r(n(t))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new a,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";i.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}})}destroy(){this._updatingHandles=s(this._updatingHandles),this._set(\"parent\",null)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&p(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return p(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l({readOnly:!0})],d.prototype,\"spatialReferenceSupported\",null),e([l()],d.prototype,\"view\",void 0),e([l()],d.prototype,\"fullOpacity\",null),e([l()],d.prototype,\"layer\",void 0),e([l()],d.prototype,\"parent\",void 0),e([l({readOnly:!0})],d.prototype,\"suspended\",null),e([l({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([l({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([l()],d.prototype,\"updateSuspended\",null),e([l()],d.prototype,\"visible\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentScale\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentTimeExtent\",null),d=e([o(\"esri.views.layers.LayerView\")],d);export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/Logger.js\";import o from\"../../../core/PooledArray.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r}from\"../../../geometry/projectionUtils.js\";import{projectVectorToVector as i}from\"../../../geometry/projection/projectVectorToVector.js\";class n{constructor(s,o,t,e,r,i){this.layout=s,this.interleavedVertexData=o,this.indices=t,this.hasColors=e,this.hasModifications=r,this.positionData=i}}class h{constructor(s,o,t,e,r,i,n){this.componentOffsets=s,this.featureIds=o,this.anchorIds=t,this.anchors=e,this.transformedGeometry=r,this.globalTrafo=i,this.obb=n}}class a extends e{constructor(s){super(\"SceneLayerWorker\",\"process\",{process:s=>[s.geometryBuffer],project:s=>[s.positions.buffer],transformNormals:s=>[s.normals.buffer]},s,{hasInitialize:!0})}setModifications(s,o,t){const e={context:s,modifications:o,isGeodetic:t};return this.broadcast(e,\"setModifications\")}setLegacySchema(s,o){const t=JSON.stringify(o);return this.broadcast({context:s,jsonSchema:t},\"setLegacySchema\")}destroyContext(s){return this.broadcast(s,\"destroyContext\")}async destroyContextAndSelf(s){await this.destroyContext(s),this.destroy()}project(s,o){return this.invokeMethod(\"project\",s,o)}transformNormals(s,o){return this.invokeMethod(\"transformNormals\",s,o)}}const p=new o({deallocator:null}),c=t();function u(o,t,e){p.clear();let n=1/0,h=1/0,a=-1/0,u=-1/0,l=!1;for(const m of t){const o=\"clip\"===m.type?2:\"mask\"===m.type?1:0,t=m.geometry;let f=s=>s;if(t.spatialReference){if(!r(t.spatialReference,e)){s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"im-modification-projection-failed\",\"Can't project modification polygon into layer spatial reference, ignoring modification\",{polygon:t});continue}f=s=>(i(s,t.spatialReference,c,e),c)}else t.hasZ||(c[2]=0,f=s=>(c[0]=s[0],c[1]=s[1],c));l=l||1===o;const d=t.rings.length,g=t.rings.some(s=>s.length<3);if(0===d||g)s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"im-modification-invalid-polygon\",\"Ignoring invalid modification polygon (no rings or rings with less than 3 vertices).\",{polygon:t});else{p.push(o),p.push(d);for(const s of t.rings){p.push(s.length);for(const o of s){const s=f(o);p.push(s[0]),p.push(s[1]),p.push(s[2]),n=Math.min(n,s[0]),h=Math.min(h,s[1]),a=Math.max(a,s[0]),u=Math.max(u,s[1])}}}}if(null!=o)if(l){const s=1e-4;p.push(2),p.push(2),p.push(4),p.push(n-s),p.push(h-s),p.push(0),p.push(a+s),p.push(h-s),p.push(0),p.push(a+s),p.push(u+s),p.push(0),p.push(n-s),p.push(u+s),p.push(0),p.push(4),p.push(o[0]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[3]),p.push(0),p.push(o[0]),p.push(o[3]),p.push(0)}else p.push(1),p.push(1),p.push(4),p.push(o[0]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[3]),p.push(0),p.push(o[0]),p.push(o[3]),p.push(0);p.push(3);const f=new Float64Array(p.length);for(let s=0;s<p.length;++s)f[s]=p.at(s);return f}export{a as I3SMeshWorkerHandle,h as TransformedData,n as TransformedGeometry,u as toWasmModification};\n"],"names":["s","constructor","r","this","_textures","loadPromise","_disposed","i","acquire","t","then","e","_textureRef","dispose","glTexture","o","toMapSpace","transform","obb","geometry","elevationAlignable","n","y","super","type","writeGeometry","layer","spatialReference","equals","m","messages","push","modification","context","p","c","l","toJSON","clone","a","prototype","nonNullable","f","u","source","spatialReferenceId","dest","Math","sqrt","radius","cos","E","_tmpEvent","d","_renderCoordsHelper","view","renderCoordsHelper","_renderSR","_layerElevationSource","layerElevationSource","initialize","_intersector","v","state","viewingMode","options","store","normalRequired","intersectionHandler","isGround","elevationProvider","getElevation","x","toRenderCoords","getLogger","error","fullExtent","Number","isFinite","xmin","xmax","ymin","ymax","zmin","zmax","elevationRange","h","elevationOffset","elevationRangeMin","elevationRangeMax","setAltitude","R","g","reset","camera","intersect","results","min","getIntersectionPoint","getAltitude","getSphereElevationBounds","_","getElevationRange","getRootElevationBounds","hasZ","notifyObjectsChanged","_computeLayerExtent","extent","emit","notifyObjectsChangedFunctional","notifyObjectChanged","_computeObjectExtent","_expandExtent","quaternion","center","halfSize","fromRenderCoords","constructOnly","position","rotationScale","origin","projector","j","I","metersPerUnit","MAX_VALUE","abs","asin","PI","arguments","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","addHandles","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","nodesCached","vboMB","textureMB","vboMBCached","textureMBCached","Points","Lines","LineStrip","Triangles","TRIANGLES","TriangleStrip","TRIANGLE_STRIP","NotSet","Opaque","Mask","Blend","Back","Front","None","WrapYBit","WrapXBit","WrapXy","U8","I8","U16","I16","U32","I32","F32","F64","Utf8String","layerView","layerViewUid","uid","filteredLayerViewUids","includes","tolerance","w","componentObjectCollection","b","stage","renderView","V","set","ground","distance","isFiltered","max","ray","all","forEachVisibleTile","boundingVolumeIntersectsRay","componentObjects","aabbInWorldCoordinates","we","handle","textures","cpuMemoryUsage","vboMemoryUsage","textureMemoryUsage","isVisible","usedMemory","getCenter","_obbCenter","_obbRadiusSquared","ve","intersectRay","je","round","xe","B","fe","hasModifications","_modifications","length","_compressionTracker","ye","Array","_visibleGeometryChangedSchedulerHandle","_wasmLayerId","ignoresMemoryFactor","_usedMemory","_cacheMemory","drapeTargetType","_applySSAO","has","_shadeNormals","_lyrHandleToObjects","Map","_visibleObjects","Set","_initialCullFace","_suspendedHandle","_dbgFlags","_memCache","resourceController","memoryController","newCache","_deletePerObjectData","add","_dbg","_updatingHandles","modifications","_loadModifications","_canProjectWithoutEngine","ge","wkid","renderSpatialReference","z","_intersectionHandler","Y","sceneIntersectionHelper","addIntersectionHandler","_slicePlaneEnabledChange","_modificationsChanged","fullOpacity","_opacityChange","clippingArea","_clippingAreaChanged","_elevationProvider","$","register","overlayManager","registerDrapeTarget","elevationInfo","_elevationInfoChanged","suspended","_wasm","setEnabled","_replacesTerrain","map","opacity","replacesTerrain","basemap","groundLayers","forEachComponentObject","_collection","getMaterial","objectOpacity","ready","destroy","N","remove","removeIntersectionHandler","unregister","unregisterDrapeTarget","forEach","freeObject","clear","L","_layerClippingArea","setMeshModifications","T","ee","_visibleGeometryChanged","commonMaterialParameters","hasSlicePlane","cullFace","get","setLayerOffset","D","W","wasmLayerId","unloadedMemory","cachedMemory","visibleAtCurrentScale","be","effectiveScaleRange","scale","performanceInfo","G","isWebMercator","_stage","Z","_forEachObject","values","forEachVisibleComponentObject","isUpdating","compressing","updatingFlagChanged","notifyChange","createRenderable","meshData","data","Error","desc","JSON","parse","basemapTerrain","C","te","Te","U","H","prims","stringify","q","ptype","materials","materialId","lightingModel","positionView","positionAttr","normalsView","normalsAttr","colorAttr","texCoord0Attr","indicesView","S","getBufferViews","buffer","re","size","F","oe","A","Oe","count","getVec","setVec","k","createBuffer","ue","getField","P","pe","Uint32Array","typedBuffer","ne","byteLength","stride","layoutParameters","positions","indices","M","O","createObject","se","ae","baseColor","baseColorFactor","usePBR","hasParametersFromSource","baseColorTexture","_getTexture","baseColorTex","mrrFactors","metallicFactor","roughnessFactor","emissiveBaseColor","emissiveFactor","metallicRoughnessTexture","metalTex","emissionTexture","emissiveTex","occlusionTexture","occlusionTex","normalTexture","normalTex","alphaDiscardMode","Promise","Q","alphaMode","doubleSided","isDoubleSided","faceCulling","X","componentParameters","castShadows","textureAlphaCutoff","alphaCutoff","_e","isIntegratedMesh","sphereDepthInterpolate","hasGoogleUrl","polygonOffsetEnabled","hasOccludees","ellipsoidMode","ce","updateMaterial","getObjectGPUMemoryUsage","put","memUsageBytes","freeRenderable","delete","pop","removeTexture","destroyObject","setRenderableVisibility","setObjectVisibility","getComponentObb","images","imageId","renderingContext","parameters","maxMaxAnisotropy","mipCount","J","wrapMode","alpha","Uint8Array","byteOffset","byteCount","format","pixelFormat","document","createElement","Blob","src","URL","createObjectURL","compressionTracker","compressionCallback","me","mipmap","maxAnisotropy","encoding","wrap","compressionOptions","noUnpackFlip","width","mip0Width","height","mip0Height","addTexture","le","id","atrbs","K","keys","sem","ncomp","de","he","index","Uint16Array","removeHandles","addOnCollectionChange","toArray","onRenderableEvicted","warn","readOnly","Ce","Me","ie","spatialReferenceSupported","parent","when","catch","name","title","_set","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean","layout","interleavedVertexData","hasColors","positionData","componentOffsets","featureIds","anchorIds","anchors","transformedGeometry","globalTrafo","process","geometryBuffer","project","transformNormals","normals","hasInitialize","setModifications","isGeodetic","broadcast","setLegacySchema","jsonSchema","destroyContext","destroyContextAndSelf","invokeMethod","deallocator","polygon","rings","some","Float64Array","at"],"sourceRoot":""}