{"version":3,"file":"static/js/23872.744dbe84.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js","../node_modules/@arcgis/core/layers/knowledgeGraph/constants.js","../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/views/layers/support/WhereClauseVisitor.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureIdInfo.js","../node_modules/@arcgis/core/layers/support/featurePopupQueryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";function e(e){const{objectIdField:t,uniqueIdFields:r}=e;return r?.length?r.length>=2?{type:\"unique-id-composite\",fieldNames:r}:{type:\"unique-id-simple\",fieldName:r[0]}:{type:\"object-id\",fieldName:t}}function t(e,t,s,a,l,u){const m=o(a);if(!(!!has(\"featurelayer-snapshot-enabled\")&&s?.query.supportsPagination&&!s?.operations.supportsEditing&&!t))return null;const h=i(l,u),{min:p,max:c}=m,y=h?c:p,d=n(a);let f=has(\"featurelayer-snapshot-initial-tolerance\");return\"esriGeometryPoint\"!==a&&\"esriGeometryMultipoint\"!==a||(f=null),{supportsExceedsLimit:r(e,s),initialTolerance:f,maxFeatureCount:y,maxVertexCount:d}}function r(e,t){return!(!e&&!has(\"featurelayer-snapshot-non-hosted-exceedslimit-enabled\"))&&t?.operations.supportsExceedsLimitStatistics}function n(e){switch(e){case\"esriGeometryPoint\":return null;case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":case\"esriGeometryMultiPatch\":case\"esriGeometryMultipoint\":return has(\"featurelayer-snapshot-max-vertex-count\")}}function i(e,t){const r=t?.clone().intersection(e),n=null!=r?r.width*r.height:0,i=t?t.width*t.height:0,o=0===i?0:n/i,s=has(\"featurelayer-snapshot-coverage\");return!isNaN(o)&&o>=s}function o(e){switch(e){case\"esriGeometryMultipoint\":return{min:has(\"featurelayer-snapshot-multipoint-min-threshold\"),max:has(\"featurelayer-snapshot-multipoint-max-threshold\")};case\"esriGeometryPoint\":return{min:has(\"featurelayer-snapshot-point-min-threshold\"),max:has(\"featurelayer-snapshot-point-max-threshold\")};case\"esriGeometryMultiPatch\":case\"esriGeometryPolygon\":return{min:has(\"featurelayer-snapshot-polygon-min-threshold\"),max:has(\"featurelayer-snapshot-polygon-max-threshold\")};case\"esriGeometryPolyline\":return{min:has(\"featurelayer-snapshot-polyline-min-threshold\"),max:has(\"featurelayer-snapshot-polyline-max-threshold\")}}}export{e as createFeatureIdInfo,t as createSnapshotInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst _=\"ESRI__ID\",I=\"ESRI__OriginID\",t=\"ESRI__DestID\",S=\"ESRI__LayoutGeometry\",o=\"ESRI__AggregationCount\",E=\"LC.ESRI__IsSpatial\";export{o as systemAggregationCountFieldName,t as systemDestinationIdFieldName,E as systemIsSpatialFieldName,S as systemLayoutGeometryFieldName,_ as systemOidFieldName,I as systemOriginIdFieldName};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{offsetDate as n}from\"../core/timeUtils.js\";import{T as i}from\"../chunks/TimeExtent.js\";import{isWebMap as r}from\"../webmap/utils.js\";import{isWebScene as l}from\"../webscene/utils.js\";function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:e(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return i.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return i.allTime;const u=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return i.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>\"fulfilled\"===t.status?t.value:null));if(c.some(m))return i.allTime;const d=[...c,...a].filter(t);if(0===d.length)return i.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case\"time-window\":return new i({start:r,end:l});case\"cumulative-from-start\":return new i({start:null,end:s});case\"cumulative-from-end\":return new i({start:s,end:null});case\"instant\":return new i({start:s,end:s})}}async function c(t,e){if(!r(t)&&!l(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,-r.getTimezoneOffset(),\"minutes\"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,r.getTimezoneOffset(),\"minutes\"):r})}export{a as getTimeExtentFromLayers,c as getTimeSliderSettingsFromWebDocument,p as toLocalTimeExtent,d as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{parseWhereClause as i}from\"../../../core/sql.js\";class s{constructor(i){this._fieldsIndex=i,this._clauses=[]}async finish(){return{requiresCurrentUser:(await Promise.all(this._clauses)).some((i=>i.currentUserRequired))}}visitClientWhereClause(s){s&&this._clauses.push(i(s,this._fieldsIndex))}visitFeatureReduction(i){if(i)switch(i.type){case\"binning\":case\"cluster\":this.visitLabelingInfo(i.labelsVisible,i.labelingInfo)}}visitLabelingInfo(i,s){if(i&&null!=s)for(const e of s)this.visitClientWhereClause(e.where)}visitDisplayFilter(i,s){if(i)for(const e of s?.filters??[])this.visitClientWhereClause(e.where)}visitFilter(i){this.visitClientWhereClause(i?.where)}visitTrackInfo(i){null!=i&&(this.visitLabelingInfo(i?.latestObservations.labelsVisible,i?.latestObservations.labelingInfo),this.visitLabelingInfo(i?.previousObservations.labelsVisible,i?.previousObservations.labelingInfo),this.visitLabelingInfo(i?.trackLines.labelsVisible,i?.trackLines.labelingInfo))}}export{s as WhereClauseVisitor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{watch as i,on as l,syncAndInitial as s}from\"../../core/reactiveUtils.js\";import{sqlAnd as o}from\"../../core/sql.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{getFeatureIdInfoFieldNames as u}from\"../../layers/graphics/data/FeatureIdInfo.js\";import{systemIsSpatialFieldName as d}from\"../../layers/knowledgeGraph/constants.js\";import{getEffectiveDisplayFilter as p}from\"../../layers/support/displayFilterUtils.js\";import f from\"../../layers/support/FeatureEffect.js\";import y from\"../../layers/support/FeatureFilter.js\";import{getSignedInUser as m}from\"../../layers/support/featureLayerUtils.js\";import{fetchFeaturePopupFeatures as h,loadFeaturePopupArcadeModules as c}from\"../../layers/support/featurePopupQueryUtils.js\";import{fixFields as F,unpackFieldNames as g,collectLabelingFields as I,collectElevationFields as b,collectFilterFields as w,collectFeatureReductionFields as E,collectOrderByInfos as v,collectFields as x,collectTrackInfoFields as q,collectDisplayFilterFields as R,collectField as j,featureHasFields as _}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as C}from\"../../layers/support/floorFilterUtils.js\";import{getUtilityNetworkFields as O}from\"../../networks/support/networkFieldUtils.js\";import k from\"../../rest/support/Query.js\";import{createFeatureIdInfo as U}from\"../2d/layers/features/layerAdapters/featureServiceUtils.js\";import{getRequiredFields as P,getFetchPopupTemplate as T}from\"./support/popupUtils.js\";import{WhereClauseVisitor as L}from\"./support/WhereClauseVisitor.js\";const S=S=>{let N=class extends S{constructor(...e){super(...e),this._updatingRequiredPromise=null,this.filter=null,this.layer=null,this.requiresCurrentUser=!1,this.requiredFields=[],this.view=null}initialize(){this.addHandles([i((()=>{const e=this.layer,t=this.view;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,t?.requiredFieldsOptions?.featureTitleFields&&e&&\"featureTitleFields\"in e&&e.featureTitleFields,t?.requiredFieldsOptions?.utilityNetworkFields&&O(t,e),e.displayFilterInfo,this.displayFilterEnabled,this.filter,this.featureEffect,this.timeExtent,\"knowledge-graph-sublayer\"===e?.type&&\"link-chart\"===e.parentCompositeLayer.type&&e.parentCompositeLayer.linkChart?.linkChartProperties.nonspatialDataDisplay?.mode,\"parquet\"===e?.type&&e.popupTemplate]}),(()=>this._handleChange()),s),l((()=>this.view?.floors),\"change\",(()=>this._handleChange())),l((()=>this.layer.displayFilterInfo?.filters),\"change\",(()=>this._handleChange())),l((()=>this.layer&&\"sublayers\"in this.layer?this.layer.sublayers:null),\"change\",(()=>this._handleChange()))])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?F(t,[...g(t,e.outFields),...r]):F(t,r)}get displayFilterEnabled(){return(this.view?.displayFilterEnabled??!0)&&(!(\"displayFilterEnabled\"in this.layer)||(this.layer?.displayFilterEnabled??!0))}get effectiveDisplayFilter(){const e=this.layer;return this.displayFilterEnabled&&e.displayFilterInfo?p(e.displayFilterInfo,this.view):null}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){t.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}get signedInUser(){return this.layer?.url?m(this.layer.url):Promise.resolve(null)}highlight(e,t){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new k(e);return\"floorInfo\"in this.layer&&this.layer.floorInfo&&(t.where=o(t.where,C(this))),this.displayFilterEnabled&&(t.where=o(t.where,this.effectiveDisplayFilter?.where)),null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new k(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){const r=await this._createPopupQuery(e.map((e=>e.origin?.layer??e.layer)),t);return await h(this.layer,e,r,{getPopupTemplate:e=>e&&\"popupEnabled\"in e&&e.popupEnabled?T(e,t):null,hasRequiredFields:(e,t)=>this._popupFeatureHasRequiredFields(e,t),...t})}_handleChange(){const e=Promise.all([this._updateRequiredFields(),this._updateClientWhereClauseRequirements()]).then((()=>{}));return this._set(\"_updatingRequiredPromise\",e),e.then((()=>{this._updatingRequiredPromise===e&&this._set(\"_updatingRequiredPromise\",null)})),e}async _updateClientWhereClauseRequirements(){if(!this.layer||!this.view)return;const{layer:e}=this,r=new L(e.fieldsIndex);if(r.visitFilter(this.filter),\"featureReduction\"in e&&r.visitFeatureReduction(e.featureReduction),\"labelingInfo\"in e&&r.visitLabelingInfo(e.labelsVisible,e.labelingInfo),\"trackInfo\"in e&&r.visitTrackInfo(e.trackInfo),\"2d\"===this.view.type&&(r.visitFilter(this.featureEffect?.filter),r.visitDisplayFilter(this.displayFilterEnabled,e.displayFilterInfo),\"featureReduction\"in e&&r.visitFeatureReduction(e.featureReduction)),\"subtype-group\"===e.type)for(const t of e.sublayers)r.visitLabelingInfo(t.labelsVisible,t.labelingInfo);try{const e=await r.finish();this._set(\"requiresCurrentUser\",e.requiresCurrentUser)}catch(i){t.getLogger(this).error(i)}}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:r,layer:{fieldsIndex:i}}=this,l=\"renderer\"in r&&r.renderer,s=\"orderBy\"in r&&r.orderBy,o=\"featureReduction\"in r?r.featureReduction:null,n=new Set,a=[l?l.collectRequiredFields(n,i):null,I(n,r),e&&\"elevationInfo\"in r?b(n,r):null,null!=this.filter?w(n,r,this.filter):null,e||null==this.featureEffect?null:w(n,r,this.featureEffect.filter),!e&&o?E(n,r,o):null,!e&&s?v(n,r,s):null];if(\"timeInfo\"in r&&r.timeInfo&&this.timeExtent&&x(n,r.fieldsIndex,[r.timeInfo.startField,r.timeInfo.endField]),\"timeInfo\"in r&&r.timeInfo&&\"trackInfo\"in r&&r.trackInfo){const{trackInfo:e}=r;x(n,r.fieldsIndex,[r.timeInfo.trackIdField]),\"feature\"!==r.type&&\"startTimeField\"!==e.timeField||x(n,r.fieldsIndex,[r.timeInfo.startField]),\"endTimeField\"===e.timeField&&x(n,r.fieldsIndex,[r.timeInfo.endField]),await q(n,r)}if(\"floorInfo\"in r&&r.floorInfo&&x(n,r.fieldsIndex,[r.floorInfo.floorField]),\"featureTitleFields\"in r&&this.view?.requiredFieldsOptions?.featureTitleFields&&r.featureTitleFields&&x(n,r.fieldsIndex,r.featureTitleFields),\"feature\"===r.type&&r.globalIdField&&this.view?.requiredFieldsOptions?.globalIdField&&x(n,r.fieldsIndex,[r.globalIdField]),this.displayFilterEnabled&&a.push(R(n,r,r.displayFilterInfo)),\"feature\"===r.type&&e&&null!=r.infoFor3D&&(null==r.globalIdField&&t.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),x(n,r.fieldsIndex,[r.globalIdField])),\"subtype-group\"===r.type){j(n,i,r.subtypeField);const e=r.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(n,i),I(n,e)])));a.push(Promise.all(e))}if(\"catalog-footprint\"===r.type&&r.parent){const e=r.parent;x(n,i,[e.itemNameField,e.itemSourceField,e.itemTypeField,e.maxScaleField,e.minScaleField])}\"knowledge-graph-sublayer\"===r.type&&\"link-chart\"===r.parentCompositeLayer.type&&j(n,i,d),\"parquet\"===r.type&&a.push(P(r,r.popupTemplate).then((e=>{for(const t of e)n.add(t)})));const p=await Promise.allSettled(a);if(e)j(n,i,r.objectIdField);else for(const t of u(U(r)))j(n,i,t);e&&\"displayField\"in r&&r.displayField&&j(n,i,r.displayField);for(const u of p)\"rejected\"===u.status&&t.getLogger(this).error(u.reason);const f=Array.from(n).sort();this._set(\"requiredFields\",f)}_popupFeatureHasRequiredFields(e,t){return _(e,t)}async _createPopupQuery(e,t){const i=this.layer.createQuery(),l=new Set;let s=!1;const n=e??[this.layer];for(const o of n){if(!(\"popupEnabled\"in o))continue;const e=T(o,t);if(null==e)continue;const i=await c(e);r(t);const n=i&&i.arcadeUtils.hasGeometryOperations(e);s=!(\"point\"!==this.layer.geometryType&&!n);const a=await P(this.layer,e);r(t);for(const t of a)l.add(t)}return i.returnGeometry=s,i.returnZ=s,i.returnM=s,i.outFields=Array.from(l),i.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo&&(i.where=o(i.where,C(this))),i}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){}get test(){}};return e([n()],N.prototype,\"_updatingRequiredPromise\",void 0),e([n({readOnly:!0})],N.prototype,\"availableFields\",null),e([n({readOnly:!0})],N.prototype,\"displayFilterEnabled\",null),e([n({readOnly:!0})],N.prototype,\"effectiveDisplayFilter\",null),e([n({type:f})],N.prototype,\"featureEffect\",null),e([n({type:y})],N.prototype,\"filter\",void 0),e([n()],N.prototype,\"layer\",void 0),e([n({type:Number})],N.prototype,\"maximumNumberOfFeatures\",null),e([n({readOnly:!0,type:Boolean})],N.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([n()],N.prototype,\"requiresCurrentUser\",void 0),e([n({readOnly:!0})],N.prototype,\"requiredFields\",void 0),e([n({readOnly:!0})],N.prototype,\"signedInUser\",null),e([n()],N.prototype,\"suspended\",void 0),e([n()],N.prototype,\"view\",void 0),N=e([a(\"esri.views.layers.FeatureLayerView\")],N),N};export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction*e(e){switch(e.type){case\"object-id\":case\"unique-id-simple\":return void(yield e.fieldName);case\"unique-id-composite\":return void(yield*e.fieldNames)}}export{e as getFeatureIdInfoFieldNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../core/promiseUtils.js\";import{sqlAnd as t}from\"../../core/sql.js\";import{unpackFieldNames as o,featureHasFields as i}from\"./fieldUtils.js\";import{loadArcade as n}from\"../../support/loadArcade.js\";async function s(n,s,l,u){const c=new Array(s.length),a=new Map,d=new Map,p=o(n.fieldsIndex,l.outFields),f=u?.hasRequiredFields??i;for(let t=0;t<s.length;t++){const o=s[t];if(o.isAggregate){c[t]=o;continue}let i=!1;if(u?.getPopupTemplate){const t=o.origin?.layer??o.sourceLayer??o.layer,n=u.getPopupTemplate(t);if(null==n)continue;const s=await r(n);e(u),i=s&&s.arcadeUtils.hasGeometryOperations(n)}if(i||!f(o,p)){const e=o.getObjectId();if(null!=e){a.set(e,{graphic:o,index:t});continue}const i=o.getGlobalId();if(null!=i){d.set(i,{graphic:o,index:t});continue}}c[t]=o}if(!n.queryFeatures||0===a.size&&0===d.size)return c.filter(Boolean);const g=[],y=(e,t)=>{t&&(e.outFields??=[],e.outFields.includes(t)||e.outFields.push(t))};if(a.size>0){const e=l.clone();y(e,n.objectIdField),\"uniqueIdFields\"in n&&n.uniqueIdFields?.length&&(e.outFields??=[],e.outFields.push(...n.uniqueIdFields)),e.objectIds=Array.from(a.keys()),g.push({type:\"object-id\",query:e,map:a})}const m=\"globalIdField\"in n?n.globalIdField:null;if(null!=m&&d.size>0){const e=l.clone();y(e,m);const o=Array.from(d.keys());e.where=t(l.where,`${m} IN (${o.map((e=>`'${e}'`)).join(\",\")})`),g.push({type:\"global-id\",query:e,map:d})}const b=u?.updateSourceAttributes??!1;for(const{type:e,query:t,map:o}of g)try{const i=await n.queryFeatures(t,u);for(const t of i.features){const i=\"object-id\"===e?t.getObjectId():t.getGlobalId();if(null==i)continue;const n=o.get(i);if(!n)continue;const{graphic:s,index:r}=n;if(b&&t.attributes){s.attributes??={};for(const e of p)e in t.attributes&&(s.attributes[e]=t.attributes[e])}const{geometry:l,origin:u}=s;t.geometry||=l,t.origin=u,c[r]=t}}catch{}return c.filter(Boolean)}async function r(e){if(e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type)))return n()}export{s as fetchFeaturePopupFeatures,r as loadFeaturePopupArcadeModules};\n"],"names":["i","a","initialize","this","addHandles","o","layer","r","doRefresh","dataChanged","catch","s","e","getLogger","error","t","async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","d","typeIdField","globalIdField","relationships","includes","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","uniqueIdFields","type","fieldNames","fieldName","m","min","max","query","supportsPagination","operations","supportsEditing","h","clone","intersection","width","height","isNaN","c","y","supportsExceedsLimit","initialTolerance","maxFeatureCount","maxVertexCount","supportsExceedsLimitStatistics","_","I","S","E","timeInfo","datesInUnknownTimezone","timeOffset","useViewTime","timeExtent","start","end","getTimezoneOffset","isEmpty","isAllTime","offset","value","unit","equals","constructor","_fieldsIndex","_clauses","finish","requiresCurrentUser","Promise","all","some","currentUserRequired","visitClientWhereClause","visitFeatureReduction","visitLabelingInfo","labelsVisible","labelingInfo","where","visitDisplayFilter","filters","visitFilter","visitTrackInfo","latestObservations","previousObservations","trackLines","N","super","_updatingRequiredPromise","filter","requiredFields","view","elevationInfo","featureExpressionInfo","displayField","renderer","floorInfo","requiredFieldsOptions","featureTitleFields","utilityNetworkFields","O","displayFilterInfo","displayFilterEnabled","featureEffect","parentCompositeLayer","linkChart","linkChartProperties","nonspatialDataDisplay","mode","_handleChange","floors","sublayers","availableFields","outFields","F","g","effectiveDisplayFilter","_override","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","signedInUser","url","resolve","highlight","Error","createQuery","returnGeometry","outSpatialReference","spatialReference","k","C","createAggregateQuery","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent","fetchPopupFeaturesFromGraphics","_createPopupQuery","map","origin","getPopupTemplate","popupEnabled","T","hasRequiredFields","_popupFeatureHasRequiredFields","_updateRequiredFields","_updateClientWhereClauseRequirements","then","_set","L","featureReduction","trackInfo","orderBy","Set","collectRequiredFields","b","w","v","x","startField","endField","trackIdField","timeField","q","floorField","R","infoFor3D","j","subtypeField","parent","itemNameField","itemSourceField","itemTypeField","maxScaleField","minScaleField","P","add","allSettled","U","status","reason","Array","from","sort","arcadeUtils","hasGeometryOperations","geometryType","returnZ","returnM","canResume","getTest","test","prototype","readOnly","Number","Boolean","Map","isAggregate","sourceLayer","getObjectId","set","graphic","index","getGlobalId","size","objectIds","keys","join","updateSourceAttributes","features","get","attributes","geometry","expressionInfos","isArray","content"],"sourceRoot":""}