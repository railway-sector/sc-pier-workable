{"version":3,"file":"static/js/1307.af46e0f4.chunk.js","mappings":"iaAIkhB,MAAMA,UAAUC,EAAAA,EAAEC,WAAAA,GAAcC,SAASC,WAAWC,KAAKC,YAAWC,EAAAA,EAAAA,IAAE,EAAE,EAAE,GAAGF,KAAKG,WAAW,EAAEH,KAAKI,WAAUF,EAAAA,EAAAA,IAAE,EAAE,GAAG,GAAGF,KAAKK,UAAU,EAAEL,KAAKM,YAAY,EAAEN,KAAKO,YAAY,IAAIP,KAAKQ,yBAAyB,EAAER,KAAKS,aAAYC,EAAAA,EAAAA,IAAE,GAAGV,KAAKW,qBAAoBC,EAAAA,EAAAA,MAAIZ,KAAKa,qBAAoBD,EAAAA,EAAAA,MAAIZ,KAAKc,0BAAyBC,EAAAA,EAAAA,MAAIf,KAAKgB,uBAAsBD,EAAAA,EAAAA,MAAIf,KAAKiB,qBAAqB,EAAEjB,KAAKkB,sBAAqBN,EAAAA,EAAAA,MAAIZ,KAAKmB,gBAAeP,EAAAA,EAAAA,MAAIZ,KAAKoB,cAAaR,EAAAA,EAAAA,KAAG,EAAE,MAAMS,UAAUC,EAAAA,EAAEzB,WAAAA,CAAYa,EAAER,GAAGJ,MAAMY,EAAER,EAAE,IAAIqB,EAAAA,EAAEC,EAAAA,EAAG,IAAI,kCAA6C,E,0BCAloB,MAAM7B,UAAU2B,EAAEzB,WAAAA,GAAcC,SAASC,WAAWC,KAAKyB,QAAOf,EAAAA,EAAAA,KAAG,EAAE,MAAMgB,UAAUd,EAAAA,EAAEf,WAAAA,CAAYa,EAAEE,GAAGd,MAAMY,EAAEE,EAAE,IAAIW,EAAAA,EAAER,EAAAA,EAAG,IAAI,kCAAgDnB,EAAE,EAAE,MAAMA,EAAE,IAAI+B,IAAI,CAAC,CAACzB,EAAAA,EAAE0B,MAAM,GAAG,CAAC1B,EAAAA,EAAE2B,IAAI,GAAG,CAAC3B,EAAAA,EAAE4B,QAAQ,GAAG,CAAC5B,EAAAA,EAAE6B,SAAS,GAAG,CAAC7B,EAAAA,EAAE8B,OAAO,K,qCCAyC,MAAMC,EAAEpC,WAAAA,CAAYa,GAAGV,KAAKkC,oBAAoBxB,EAAEV,KAAKmC,SAAS,KAAKnC,KAAKoC,SAAQb,EAAAA,EAAAA,MAAIvB,KAAKqC,QAAO,EAAGrC,KAAKsC,OAAO,EAAEtC,KAAKuC,KAAK,IAAI,CAAC,YAAIC,CAAS9B,GAAG,MAAMR,GAAEU,EAAAA,EAAAA,IAAE,EAAEF,EAAE+B,QAAQ,IAAIlB,EAAE,EAAE,IAAI,MAAMX,KAAKF,EAAER,EAAEqB,KAAKX,EAAE,GAAGV,EAAEqB,KAAKX,EAAE,GAAGV,EAAEqB,KAAKX,EAAE,GAAGZ,KAAK0C,QAAQ,CAACxC,EAAE,CAAC,WAAIwC,CAAQxC,GAAG,GAAGF,KAAKmC,SAASjC,EAAEF,KAAKmC,SAASM,OAAO,EAAE,CAAC,MAAMvC,EAAEF,KAAKmC,SAAS,GAAGZ,EAAE,EAAEoB,KAAKC,MAAM1C,EAAEuC,OAAO,EAAE,IAAG/B,EAAAA,EAAAA,GAAEV,KAAKoC,QAAQlC,EAAEqB,GAAGrB,EAAEqB,EAAE,GAAGrB,EAAEqB,EAAE,GAAG,MAAMb,EAAAA,EAAAA,GAAEV,KAAKoC,QAAQ,EAAE,EAAE,GAAGpC,KAAKqC,QAAO,CAAE,CAAC,UAAIZ,GAAS,OAAOzB,KAAKoC,OAAO,CAACS,IAAAA,CAAKnC,GAAG,MAAMR,EAAEF,KAAK8C,WAAWpC,GAAG,MAAMR,IAAIQ,EAAEqC,QAAQ7C,GAAGQ,EAAEsC,WAAWtB,EAAAA,GAAEuB,UAAU,EAAEjD,KAAKsC,QAAQ,CAACY,OAAAA,GAAU,MAAMlD,KAAKuC,MAAMvC,KAAKuC,KAAKW,SAAS,CAAC,WAAIC,GAAU,OAAOnD,KAAKkC,oBAAoBkB,cAAcrC,EAAAA,GAAEsC,OAAOC,EAAEC,CAAC,CAACT,UAAAA,CAAWpC,GAAG,OAAO,MAAMV,KAAKmC,SAAS,MAAMnC,KAAKuC,OAAOvC,KAAKwD,WAAW9C,EAAEV,KAAKmC,UAAUnC,KAAKyD,kBAAkBzD,KAAKuC,KAAKvC,KAAKmC,UAAUnC,KAAKuC,KAAK,CAACiB,UAAAA,CAAW9C,EAAER,GAAG,MAAMqB,EAAEvB,KAAK0D,kBAAkBxD,GAAG,OAAOF,KAAKqC,QAAO,EAAG,IAAIsB,EAAAA,EAAEjD,EAAEd,EAAE,IAAI+B,IAAI,CAAC,CAAC,QAAOL,EAAAA,EAAAA,GAAEtB,KAAKmD,YAAY,IAAIxB,IAAI,CAAC,CAAC,OAAOH,EAAAA,EAAEoC,aAAalD,EAAEW,EAAAA,GAAEwC,YAAYtC,MAAM,CAACkC,iBAAAA,CAAkB/C,EAAER,GAAG,IAAIF,KAAKqC,OAAO,OAAO,MAAMd,EAAEvB,KAAK0D,kBAAkBxD,GAAGQ,EAAEoD,cAAcC,IAAI,SAASC,QAAQzC,GAAGvB,KAAKqC,QAAO,CAAE,CAACqB,iBAAAA,CAAkBnC,GAAG,MAAMX,EAAEW,EAAE0C,OAAQ,CAACvD,EAAER,IAAIQ,EAAEwD,EAAEhE,GAAI,GAAGF,KAAKsC,OAAO1B,EAAE,MAAMG,EAAEf,KAAKmD,QAAQgB,aAAavD,GAAGU,EAAEtB,KAAKoC,QAAQ,IAAIgC,EAAE,EAAExE,EAAE,EAAE,MAAM+D,EAAE,YAAY5C,EAAEf,KAAKqE,cAAcC,KAAKtE,KAAKe,QAAG,EAAO,IAAI,MAAMpB,KAAK4B,EAAE,CAAC,IAAI,IAAIA,EAAE,EAAEA,EAAE5B,EAAE8C,OAAOlB,GAAG,EAAE,CAAC,MAAMX,GAAEF,EAAAA,EAAAA,GAAE6D,EAAE5E,EAAE4B,GAAG5B,EAAE4B,EAAE,GAAG5B,EAAE4B,EAAE,IAAI,IAAIA,EAAE3B,EAAEI,KAAKkC,oBAAoBsC,YAAY5D,GAAGZ,KAAKkC,oBAAoBuC,YAAY7D,EAAEhB,GAAG,MAAM4B,EAAE4C,EAAE,EAAE7C,EAAEoC,IAAIpC,EAAEC,EAAE7B,EAAEiB,GAAG,MAAMc,GAAExB,EAAAA,EAAAA,GAAEqE,EAAE3D,EAAEU,GAAG,GAAGC,EAAE5B,EAAE8C,OAAO,EAAE,CAAC,IAAI,IAAI/B,EAAE,EAAEA,EAAE,EAAEA,IAAIK,EAAE2D,MAAMC,OAAOnD,EAAEd,EAAEgB,GAAGX,EAAE6D,QAAQC,UAAUrD,EAAE,GAAG,GAAGT,EAAE6D,QAAQC,UAAUrD,EAAE,EAAE,GAAG,GAAGT,EAAE6D,QAAQC,UAAUrD,EAAE,EAAE,EAAE,GAAGT,EAAE6D,QAAQC,UAAUrD,EAAE,EAAE,GAAG,GAAGT,EAAE6D,QAAQC,UAAUrD,EAAE,EAAE,EAAE,GAAGT,EAAE6D,QAAQC,UAAUrD,EAAE,EAAE,EAAE,EAAE,CAAC,GAAGD,EAAE,EAAE,IAAI,IAAIb,GAAG,EAAEA,EAAE,EAAEA,IAAIK,EAAE+D,IAAIH,OAAOnD,EAAEd,EAAEgB,EAAE,CAAC0C,GAAGF,EAAEvE,EAAE,CAAC,OAAOoB,EAAEgE,MAAM,CAACV,aAAAA,CAAc3D,EAAER,EAAEqB,EAAEX,EAAEG,GAAG,MAAMO,EAAEtB,KAAKkC,oBAAoB8C,kBAAkBjE,EAAEkE,GAAG,GAAG/E,EAAEU,EAAE6B,OAAO,EAAE,IAAI,IAAI2B,EAAE,EAAEA,EAAE,EAAEA,IAAI1D,EAAEwE,QAAQP,OAAOpD,EAAE6C,EAAE9C,GAAG,GAAGpB,EAAE,EAAE,IAAI,IAAIkE,GAAG,EAAEA,EAAE,EAAEA,IAAI1D,EAAEyE,MAAMR,OAAOpD,EAAE6C,EAAE9C,EAAE,EAAE,SAAS4C,EAAExD,GAAG,OAAU,GAAGA,EAAE+B,OAAO,EAAE,GAAjB,CAAoB,CAAC,MAAMwC,GAAE1D,EAAAA,EAAAA,MAAIgD,GAAEhD,EAAAA,EAAAA,MAAI+B,GAAEc,EAAAA,EAAAA,MAAIgB,MAAMzF,EAAAA,EAAEiC,OAAOwD,MAAMzF,EAAAA,EAAEkC,KAAKwD,MAAM1F,EAAAA,EAAEmC,SAASsD,MAAMzF,EAAAA,EAAEoC,UAAUqD,MAAMzF,EAAAA,EAAEqC,QAAQuB,GAAEa,EAAAA,EAAAA,MAAIgB,MAAMzF,EAAAA,EAAEiC,OAAOwD,MAAMzF,EAAAA,EAAEkC,KAAKwD,MAAM1F,EAAAA,EAAEmC,S,cCA5vF,MAAMpB,UAAUa,EAAAA,EAAE1B,WAAAA,GAAcC,SAASC,WAAWC,KAAKsF,wBAAuB,EAAGtF,KAAKuF,WAAU,CAAE,GAAEjE,EAAAA,EAAAA,GAAE,EAACpB,EAAAA,EAAAA,MAAKQ,EAAE8E,UAAU,8BAAyB,IAAQlE,EAAAA,EAAAA,GAAE,EAACpB,EAAAA,EAAAA,MAAKQ,EAAE8E,UAAU,iBAAY,GCA9H,MAAM5F,UAAUM,EAAEL,WAAAA,GAAcC,SAASC,WAAWC,KAAKyF,uBAAsB,EAAGzF,KAAK0F,sBAAqB,EAAG1F,KAAK2F,0BAAyB,EAAG3F,KAAK4F,uBAAsB,CAAE,GAAElF,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,MAAKnB,EAAE4F,UAAU,6BAAwB,IAAQ9E,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,MAAKnB,EAAE4F,UAAU,4BAAuB,IAAQ9E,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,MAAKnB,EAAE4F,UAAU,gCAA2B,IAAQ9E,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,MAAKnB,EAAE4F,UAAU,6BAAwB,G,qCCAohC,IAAIK,EAAE,cAActC,EAAAA,EAAE1D,WAAAA,CAAYa,GAAGZ,MAAMY,GAAGV,KAAK8F,cAAa,EAAG9F,KAAK+F,SAASxB,EAAAA,GAAEyB,WAAWhG,KAAKiG,SAAS,CAACC,SAAS,CAAC3B,EAAAA,GAAEyB,WAAW,YAAYhG,KAAKmG,sBAAqB,EAAGnG,KAAKoG,eAAe,IAAIC,EAAErG,KAAKsG,4BAA4B,IAAIC,EAAEvG,KAAKwG,wBAAuB,EAAGxG,KAAKyG,uBAAsB,EAAGzG,KAAK0G,2BAA0B,EAAG1G,KAAK2G,wBAAuB,EAAG3G,KAAK4G,yBAAwB,EAAG5G,KAAK6G,2BAA0B,EAAG7G,KAAK8G,gBAAgB,IAAI1C,EAAE,MAAMlE,EAAEQ,EAAEqG,KAAKC,MAAMC,WAAWC,WAAWnG,EAAE,IAAIwF,EAAExF,EAAEuE,uBAAuB5E,EAAE4E,uBAAuBpF,EAAEiH,WAAW7D,EAAEvC,EAAE,CAACqG,UAAAA,GAAapH,KAAK8G,gBAAgBO,mBAAmBrH,KAAK+G,KAAKM,mBAAmBrH,KAAKsG,4BAA4Bf,UAAUvF,KAAK+G,KAAKO,MAAMlE,cAAcO,EAAAA,GAAEN,OAAOrD,KAAKsG,4BAA4BhB,uBAAuBtF,KAAKsF,uBAAuBtF,KAAKuH,YAAYJ,WAAW7D,EAAEtD,KAAKsG,6BAA6BtG,KAAKwH,MAAM,IAAIvF,EAAAA,EAAEjC,KAAKuH,YAAYE,EAAAA,EAAEC,mBAAmB,CAACC,OAAAA,GAAU3H,KAAK4H,wBAAuB1H,EAAAA,EAAAA,IAAEF,KAAK4H,wBAAwB5H,KAAKwH,MAAM,IAAI,CAAC,eAAID,GAAc,OAAOvH,KAAK+G,KAAKC,MAAMC,WAAWC,UAAU,CAAC,yBAAIzB,GAAwB,OAAOzF,KAAKwG,sBAAsB,CAAC,yBAAIf,CAAsB/E,GAAGV,KAAKwG,yBAAyB9F,IAAIV,KAAKwG,uBAAuB9F,EAAEV,KAAK6H,cAAcC,EAAAA,GAAEC,QAAQ,CAAC,wBAAI7G,GAAuB,OAAOlB,KAAK8G,gBAAgB5F,oBAAoB,CAAC,wBAAIA,CAAqBR,IAAGE,EAAAA,EAAAA,GAAEZ,KAAK8G,gBAAgB5F,qBAAqBR,GAAGV,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAAC,wBAAIrC,GAAuB,OAAO1F,KAAKyG,qBAAqB,CAAC,wBAAIf,CAAqBhF,GAAGA,IAAIV,KAAKyG,wBAAwBzG,KAAKyG,sBAAsB/F,EAAEV,KAAK6H,cAAcC,EAAAA,GAAEC,QAAQ,CAAC,uBAAIlH,GAAsB,OAAOb,KAAK8G,gBAAgBjG,mBAAmB,CAAC,uBAAIA,CAAoBH,IAAGE,EAAAA,EAAAA,GAAEZ,KAAK8G,gBAAgBjG,oBAAoBH,GAAGV,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAAC,uBAAIpH,GAAsB,OAAOX,KAAK8G,gBAAgBnG,mBAAmB,CAAC,uBAAIA,CAAoBD,IAAGE,EAAAA,EAAAA,GAAEZ,KAAK8G,gBAAgBnG,oBAAoBD,GAAGV,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAAC,4BAAIpC,GAA2B,OAAO3F,KAAK0G,yBAAyB,CAAC,4BAAIf,CAAyBjF,GAAGA,IAAIV,KAAK0G,4BAA4B1G,KAAK0G,0BAA0BhG,EAAEV,KAAK6H,cAAcC,EAAAA,GAAEC,QAAQ,CAAC,4BAAIjH,GAA2B,OAAOd,KAAK8G,gBAAgBhG,wBAAwB,CAAC,4BAAIA,CAAyBJ,IAAGwD,EAAAA,EAAAA,GAAExD,EAAEV,KAAK8G,gBAAgBhG,0BAA0Bd,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAAC,yBAAInC,GAAwB,OAAO5F,KAAK2G,sBAAsB,CAAC,yBAAIf,CAAsBlF,GAAGA,IAAIV,KAAK2G,yBAAyB3G,KAAK2G,uBAAuBjG,EAAEV,KAAK6H,cAAcC,EAAAA,GAAEC,QAAQ,CAAC,yBAAI/G,GAAwB,OAAOhB,KAAK8G,gBAAgB9F,qBAAqB,CAAC,yBAAIA,CAAsBN,IAAGwD,EAAAA,EAAAA,GAAExD,EAAEV,KAAK8G,gBAAgB9F,uBAAuBhB,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAAC,0BAAIC,GAAyB,OAAOhI,KAAK4G,uBAAuB,CAAC,0BAAIoB,CAAuBtH,GAAGA,IAAIV,KAAK4G,0BAA0B5G,KAAK4G,wBAAwBlG,EAAEV,KAAK6H,cAAcC,EAAAA,GAAEC,QAAQ,CAAC,4BAAIE,GAA2B,OAAOjI,KAAK6G,yBAAyB,CAAC,4BAAIoB,CAAyBvH,GAAGA,IAAIV,KAAK6G,4BAA4B7G,KAAK6G,0BAA0BnG,EAAE,MAAMV,KAAK4H,wBAAwB5H,KAAK6H,cAAcC,EAAAA,GAAEC,QAAQ,CAAC,6BAAIG,CAA0BxH,GAAG,MAAMV,KAAK4H,yBAAyB5H,KAAK4H,uBAAuB,IAAIO,EAAEnI,KAAK8G,gBAAgBO,qBAAqBrH,KAAK4H,uBAAuBpF,SAAS9B,EAAEV,KAAKiI,0BAA0BjI,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAAC,4BAAIK,CAAyB1H,GAAG,MAAMV,KAAK4H,yBAAyB5H,KAAK4H,uBAAuB,IAAIO,EAAEnI,KAAK8G,gBAAgBO,qBAAqBrH,KAAK4H,uBAAuBlF,QAAQhC,EAAEV,KAAKiI,0BAA0BjI,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAACM,aAAAA,CAAc3H,IAAG4H,EAAAA,EAAAA,IAAEtI,KAAK8G,gBAAgBpG,IAAIV,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAACZ,UAAAA,GAAanH,KAAKuI,mBAAmB,CAACC,MAAAA,CAAO9H,GAAG,MAAMR,EAAEQ,EAAE+H,KAAMC,IAAA,IAAEC,KAAKjI,GAAEgI,EAAA,OAAGhI,IAAIV,KAAK+F,WAAW,GAAG/F,KAAK8F,eAAe9F,KAAK4I,eAAeC,aAAa,MAAM7I,KAAKwH,MAAM,OAAOtH,EAAE,MAAMa,EAAEf,KAAK8I,iBAAiBlJ,EAAEc,EAAE+H,KAAMM,IAAA,IAAEJ,KAAKjI,GAAEqI,EAAA,MAAG,YAAYrI,IAAIV,KAAK8G,gBAAgBkC,QAAQpJ,GAAGqJ,aAAa,MAAMrI,EAAEA,MAAMZ,KAAKyF,uBAAuBzF,KAAK0F,sBAAsB1F,KAAKc,0BAA0Bd,KAAK4F,wBAAwB5F,KAAKkJ,iBAAiBlJ,KAAKiI,0BAA0BjI,KAAKmJ,eAAe,IAAInJ,KAAKsF,uBAAuB,OAAOvE,EAAEqI,gBAAgBlJ,EAAEmJ,KAAKzI,IAAIV,EAAEF,KAAK8G,gBAAgBwC,OAAOpJ,EAAE+I,aAAa,MAAM1H,EAAEvB,KAAKuJ,SAASC,QAAQtJ,EAAEmJ,IAAII,MAAMvJ,EAAEmJ,IAAIK,OAAO,eAAe,OAAO3I,EAAEqI,gBAAgB7H,EAAE8H,KAAKtI,EAAE4I,cAAc,EAAE,EAAE,EAAE,GAAG5I,EAAE6I,MAAMC,EAAAA,GAAEC,MAAMD,EAAAA,GAAEE,OAAOnJ,IAAIG,EAAEiJ,cAAc9J,EAAE+I,cAAcjJ,KAAKwH,MAAMyC,MAAMlJ,EAAEQ,EAAErB,EAAEF,KAAK4I,iBAAiB5I,KAAK6H,cAAcC,EAAAA,GAAEC,QAAQxG,EAAE2I,UAAUhK,CAAC,CAACqI,iBAAAA,GAAoB,OAAOvI,KAAKoG,eAAeX,sBAAsBzF,KAAKyF,sBAAsBzF,KAAKoG,eAAeT,yBAAyB3F,KAAK2F,yBAAyB3F,KAAKoG,eAAeV,qBAAqB1F,KAAK0F,qBAAqB1F,KAAKoG,eAAeR,sBAAsB5F,KAAK4F,sBAAsB5F,KAAKoG,eAAed,uBAAuBtF,KAAKsF,uBAAuBtF,KAAKoG,eAAeb,UAAUvF,KAAK+G,KAAKO,MAAMlE,cAAcO,EAAAA,GAAEN,OAAOrD,KAAKuH,YAAYxD,IAAIoG,EAAEnK,KAAKoG,eAAe,CAAC8C,cAAAA,GAAiB,IAAIlJ,KAAKoK,wBAAwB,OAAO,MAAM1J,EAAEV,KAAKuI,oBAAoB,GAAG7H,EAAE2J,SAAS,CAAC,MAAMnK,EAAEF,KAAK8I,iBAAiB5I,EAAEoK,cAAc5J,EAAEV,KAAK4I,eAAe5I,KAAK8G,iBAAiB5G,EAAEqK,OAAO1H,MAAM,MAAM7C,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAACoB,WAAAA,GAAc,GAAG,MAAMnJ,KAAK4H,uBAAuB,OAAO,MAAMlH,EAAEV,KAAKuH,YAAYxD,IAAIT,EAAEtD,KAAKsG,6BAA6B,GAAG5F,EAAE2J,SAAS,CAAC,MAAMnK,EAAEF,KAAK8I,iBAAiB9I,KAAK8G,gBAAgBrF,OAAOzB,KAAK4H,uBAAuBnG,OAAOvB,EAAEoK,cAAc5J,EAAEV,KAAK4I,eAAe5I,KAAK8G,iBAAiB9G,KAAK4H,uBAAuB/E,KAAK3C,EAAE,MAAMF,KAAK6H,cAAcC,EAAAA,GAAEC,OAAO,CAACqC,qBAAAA,GAAwB,IAAIpK,KAAK2G,uBAAuB,OAAM,EAAG,MAAMjG,EAAEV,KAAK4I,eAAe4B,OAAOtK,EAAEF,KAAK8G,gBAAgB,GAAG9G,KAAK4G,wBAAwB,CAAC,IAAGjH,EAAAA,EAAAA,KAAEsF,EAAAA,EAAAA,IAAE/E,EAAEc,sBAAsBS,OAAOvB,EAAEc,sBAAsByJ,QAAQC,GAAGA,EAAEC,IAAIC,OAAOC,YAAWnJ,EAAAA,EAAAA,IAAEhB,EAAEoK,QAAQJ,GAAG,OAAM,GAAGlJ,EAAAA,EAAAA,IAAEkJ,EAAExK,EAAEiB,iBAAgBE,EAAAA,EAAAA,IAAEqJ,EAAExK,EAAEkB,aAAa,MAAMR,EAAAA,EAAAA,GAAEV,EAAEiB,eAAejB,EAAEc,sBAAsBS,SAAQF,EAAAA,EAAAA,GAAErB,EAAEkB,aAAalB,EAAEc,sBAAsBS,OAAOvB,EAAEc,sBAAsByJ,QAAQ,OAAM,CAAE,CAAC,QAAIM,GAAO,IAAGrK,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,IAAE,CAACiK,eAAc,KAAMnF,EAAEL,UAAU,8BAAyB,IAAQ9E,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8E,EAAEL,UAAU,oBAAe,IAAQ9E,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8E,EAAEL,UAAU,gBAAW,IAAQ9E,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8E,EAAEL,UAAU,gBAAW,GAAQK,GAAEnF,EAAAA,EAAAA,GAAE,EAACd,EAAAA,EAAAA,GAAE,oEAAoEiG,GAAG,MAAM6E,GAAEpJ,EAAAA,EAAAA,MCAn/O,MAAMI,UAAUF,EAAAA,EAAE3B,WAAAA,CAAYa,GAAGZ,MAAMY,GAAGV,KAAKiL,aAAa5J,EAAAA,EAAErB,KAAKkL,OAAO,CAAC,EAAElL,KAAKmL,uBAAsBjL,EAAAA,EAAAA,MAAIF,KAAKwG,wBAAuB,EAAGxG,KAAKoL,iBAAgBxL,EAAAA,EAAAA,MAAII,KAAK2G,wBAAuB,EAAG3G,KAAK4G,yBAAwB,EAAG5G,KAAKqL,0BAA0B,KAAKrL,KAAKsL,0BAA0B,KAAKtL,KAAKuL,mBAAmB,KAAKvL,KAAKwL,gBAAgB9K,EAAE,CAAC,YAAI+K,GAAW,CAACC,eAAAA,GAAkB1L,KAAK2L,iBAAiB,CAACC,gBAAAA,GAAmB5L,KAAK6L,kBAAkB,CAACC,gBAAAA,GAAmB9L,KAAK+L,gBAAgB/L,KAAKgM,sBAAsBhM,KAAKiM,sBAAsBjM,KAAKkM,yBAAyBlM,KAAKmM,yBAAyBnM,KAAKoM,oBAAoB,CAAC,eAAI3L,GAAc,OAAOT,KAAKiL,YAAY,CAAC,eAAIxK,CAAYC,GAAGV,KAAKiL,eAAevK,IAAIV,KAAKiL,aAAavK,EAAEV,KAAKqM,mBAAmB,CAAC,SAAIC,GAAQ,OAAOtM,KAAKkL,MAAM,CAAC,SAAIoB,CAAM5L,GAAGV,KAAKkL,OAAOxK,EAAEV,KAAKuM,YAAY,CAAC,wBAAIrL,GAAuB,OAAOlB,KAAKwG,uBAAuBxG,KAAKmL,sBAAsB,IAAI,CAAC,wBAAIjK,CAAqBhB,GAAG,MAAMA,IAAGQ,EAAAA,EAAAA,GAAEV,KAAKmL,sBAAsBjL,GAAGF,KAAKwG,wBAAuB,GAAIxG,KAAKwG,wBAAuB,EAAGxG,KAAK+L,gBAAgB/L,KAAKgM,qBAAqB,CAAC,+BAAIQ,CAA4B9L,GAAG,GAAG,MAAMA,EAAE,YAAYV,KAAKyM,eAAe,MAAM,MAAMvM,EAAEF,KAAK+G,KAAKM,mBAAmBrC,kBAAkBtE,EAAEuB,GAAGjC,KAAKyM,gBAAe7L,EAAAA,EAAAA,IAAEF,EAAER,GAAGF,KAAKgI,wBAAuB,CAAE,CAAC,kBAAIyE,GAAiB,OAAOzM,KAAK2G,uBAAuB3G,KAAKoL,gBAAgB,IAAI,CAAC,kBAAIqB,CAAe/L,GAAG,MAAMA,IAAGa,EAAAA,EAAAA,GAAEb,EAAEV,KAAKoL,iBAAiBpL,KAAK2G,wBAAuB,GAAI3G,KAAK2G,wBAAuB,EAAG3G,KAAKiM,sBAAsBjM,KAAK+L,eAAe,CAAC,0BAAI/D,GAAyB,OAAOhI,KAAK4G,uBAAuB,CAAC,0BAAIoB,CAAuBtH,GAAGV,KAAK4G,wBAAwBlG,EAAEV,KAAK0M,6BAA6B,CAAC,4BAAI5L,GAA2B,OAAOd,KAAKqL,yBAAyB,CAAC,4BAAIvK,CAAyBJ,GAAGV,KAAKqL,0BAA0B,MAAM3K,GAAEa,EAAAA,EAAAA,GAAEb,GAAG,KAAKV,KAAKmM,yBAAyBnM,KAAK+L,eAAe,CAAC,qBAAIY,GAAoB,OAAO3M,KAAKsL,yBAAyB,CAAC,qBAAIqB,CAAkBjM,GAAGV,KAAKsL,0BAA0B5K,EAAEV,KAAKkM,yBAAyBlM,KAAKmM,yBAAyBnM,KAAKoM,qBAAqBpM,KAAK+L,eAAe,CAAC,qBAAIa,GAAoB,OAAO5M,KAAKuL,kBAAkB,CAAC,qBAAIqB,CAAkBlM,GAAGV,KAAKuL,mBAAmB,MAAM7K,EAAE,CAACe,QAAOV,EAAAA,EAAAA,IAAEL,EAAEe,QAAQoL,OAAOnM,EAAEmM,QAAO9L,EAAAA,EAAAA,IAAEL,EAAEmM,QAAQ,MAAM,KAAK7M,KAAKoM,qBAAqBpM,KAAK+L,eAAe,CAAC,gBAAIjG,GAAe,OAAO9F,KAAK8M,aAAa,CAAC,gBAAIhH,CAAapF,GAAGV,KAAK8M,cAAcpM,EAAEV,KAAK+M,YAAY/M,KAAK+M,UAAUjH,aAAapF,EAAE,CAACqL,aAAAA,GAAgB/L,KAAKgN,UAAUhN,KAAKiN,UAAUjN,KAAK2G,wBAAwB3G,KAAKwG,wBAAwB,MAAMxG,KAAKuL,oBAAoB,MAAMvL,KAAKsL,2BAA2BtL,KAAK2L,kBAAkB3L,KAAK6L,kBAAkB,CAACF,eAAAA,GAAkB,MAAM3L,KAAK+M,YAAY/M,KAAK+M,UAAU,IAAIpN,EAAE,CAACoH,KAAK/G,KAAK+G,KAAKzB,wBAAuB,EAAGQ,aAAa9F,KAAK8F,eAAe9F,KAAKuM,aAAavM,KAAKgM,sBAAsBhM,KAAKiM,sBAAsBjM,KAAK0M,8BAA8B1M,KAAKkM,yBAAyBlM,KAAKmM,yBAAyBnM,KAAKoM,qBAAqBpM,KAAKqM,mBAAmB,CAACE,UAAAA,GAAa,MAAMvM,KAAK+M,WAAW/M,KAAK+M,UAAU1E,cAAcrI,KAAKkL,OAAO,CAACmB,gBAAAA,GAAmBrM,KAAK+M,WAAW1E,cAAc,CAAC5H,YAAYT,KAAKiL,cAAc,CAACe,mBAAAA,GAAsB,MAAMhM,KAAK+M,YAAY/M,KAAK+M,UAAUtH,sBAAsBzF,KAAKwG,wBAAwBxG,KAAKiN,QAAQjN,KAAKwG,yBAAyBxG,KAAK+M,UAAU7L,qBAAqBlB,KAAKmL,uBAAuB,CAACc,mBAAAA,GAAsB,MAAMjM,KAAK+M,YAAY/M,KAAK+M,UAAUnH,sBAAsB5F,KAAK2G,wBAAwB3G,KAAKiN,QAAQjN,KAAK2G,yBAAyB3G,KAAK+M,UAAU/L,sBAAsBhB,KAAKoL,iBAAiB,CAACsB,2BAAAA,GAA8B,MAAM1M,KAAK+M,YAAY/M,KAAK+M,UAAU/E,uBAAuBhI,KAAK4G,wBAAwB,CAACsF,sBAAAA,GAAyB,MAAMlM,KAAK+M,YAAY/M,KAAK+M,UAAU9E,yBAAyB,MAAMjI,KAAKsL,2BAA2BtL,KAAKiN,QAAQ,MAAMjN,KAAKsL,4BAA4BtL,KAAK+M,UAAU3E,yBAAyBpI,KAAKsL,2BAA2B,CAACa,sBAAAA,GAAyB,MAAMnM,KAAK+M,YAAY/M,KAAK+M,UAAUpH,yBAAyB,MAAM3F,KAAKqL,2BAA2BrL,KAAKiN,QAAQ,MAAMjN,KAAKqL,4BAA4BrL,KAAK+M,UAAUjM,yBAAyBd,KAAKqL,2BAA2B,CAACe,kBAAAA,GAAqB,GAAG,MAAMpM,KAAK+M,UAAU,OAAO,MAAMrM,EAAEV,KAAKuL,mBAAmBrL,EAAE,MAAMQ,EAAEV,KAAK+M,UAAUrH,qBAAqBxF,GAAG,MAAMQ,EAAEmM,QAAQ7M,KAAKiN,QAAQ/M,IAAIF,KAAK+M,UAAUpM,oBAAoBD,EAAEe,OAAO,MAAMf,EAAEmM,SAAS7M,KAAK+M,UAAUlM,oBAAoBH,EAAEmM,QAAQ,CAAChB,gBAAAA,GAAmB,MAAM7L,KAAK+M,WAAW/M,KAAK+G,KAAKC,QAAQhH,KAAK+M,UAAUpF,UAAU3H,KAAK+M,UAAU,KAAK,CAACG,eAAAA,GAAkB,EAAE,MAAMjL,GAAE/B,EAAAA,EAAAA,K,6HCA/gJ,SAAS+E,EAAEA,EAAEf,GAAG,MAAMtD,EAAEqE,EAAEkI,SAASvM,EAAEwM,QAAQ9L,EAAAA,GAAG2D,EAAEmI,QAAQ5L,EAAAA,IAAGZ,EAAEwM,QAAQ1M,EAAAA,GAAGE,EAAEyM,SAASC,IAAI,IAAI/L,EAAAA,EAAE,cAAeD,GAAGA,EAAEf,aAAc,IAAIL,EAAAA,EAAE,YAAaoB,GAAGA,EAAElB,WAAY,IAAImB,EAAAA,EAAE,YAAa,CAACD,EAAEZ,IAAIY,EAAEjB,UAAUK,EAAE8J,OAAO+C,YAAa,IAAIhM,EAAAA,EAAE,cAAeD,GAAGA,EAAEhB,aAAc,IAAIJ,EAAAA,EAAE,aAAcoB,GAAGA,EAAErB,YAAa,IAAIsB,EAAAA,EAAE,aAAc,CAACD,EAAEZ,IAAIY,EAAEnB,WAAWO,EAAE8J,OAAO+C,YAAa,IAAI3N,EAAAA,EAAE,WAAY0B,GAAGA,EAAEkM,OAAOC,YAAa,IAAI1M,EAAAA,EAAE,YAAaO,GAAGA,EAAE0H,UAAWpI,EAAE8M,KAAKJ,IAAI3N,EAAAA,CAAC;;IAEx+BiB,EAAE8M,KAAKJ,IAAI3N,EAAAA,CAAC;;;;;;;;;;IAUZiB,EAAE8M,KAAKJ,IAAI3N,EAAAA,CAAC;;;;;;;;;;;;;;;;;;;IAmBZuE,EAAEoB,uBAAuB1E,EAAEyM,SAASC,IAAI,IAAIvM,EAAAA,EAAE,aAAc,CAACO,EAAEZ,IAAIY,EAAEgI,QAAS,IAAI/H,EAAAA,EAAE,2BAA4BD,GAAGA,EAAEd,2BAA4BkN,KAAKJ,IAAI3N,EAAAA,CAAC;;;;;;;IAO3JiB,EAAE8M,KAAKJ,IAAI3N,EAAAA,CAAC;;GAEb,C,gRCxCsgD,MAAM8H,GAAE/G,EAAAA,EAAAA,IAAE,GAAG,SAASiN,EAAEjN,GAAG,MAAMK,EAAE,IAAI6M,EAAAA,GAAE7M,EAAEqM,QAAQjF,EAAAA,GAAGpH,EAAEqM,QAAQS,EAAAA,EAAEnN,GAAG,MAAMR,EAAEa,EAAEoM,SAAS,GAAGzM,EAAEiF,0BAA0BjF,EAAE+E,sBAAsB,GAAGvF,EAAEmN,SAASC,IAAI,IAAIhF,EAAAA,EAAE,mBAAoB,CAACvH,EAAEb,IAAIQ,EAAE+E,sBAAsB,EAAEvF,EAAEsK,OAAOsD,yBAAyB/M,EAAEG,sBAAsB,EAAEhB,EAAEsK,OAAOsD,yBAAyB/M,EAAED,yBAAyBW,UAAWvB,EAAEwN,KAAKJ,IAAIzH,EAAAA,CAAC;;;;;IAKj3DnF,EAAE6E,UAAU,CAAC,MAAM7E,EAAEA,CAACA,EAAEK,EAAEb,KAAIN,EAAAA,EAAAA,GAAEc,EAAEK,EAAEG,qBAAqBhB,EAAEsK,OAAOuD,YAAYhN,EAAEA,CAACL,EAAEK,KAAInB,EAAAA,EAAAA,GAAEc,EAAE,CAAC,EAAE,EAAE,GAAGK,EAAEyJ,OAAOuD,YAAY7N,EAAEmN,SAASC,IAAI,IAAIU,EAAAA,EAAE,uBAAwB,CAAC9N,EAAEN,KAAKc,EAAEuN,EAAE/N,EAAEN,GAAGmB,EAAEmN,EAAEtO,IAAGD,EAAAA,EAAAA,GAAEuO,EAAEA,EAAED,IAAG3M,EAAAA,EAAAA,GAAE6M,EAAED,GAAGC,EAAE,IAAG5M,EAAAA,EAAAA,GAAE2M,GAAGC,IAAK,IAAIhE,EAAAA,EAAE,eAAgBzJ,GAAGK,EAAEkN,EAAEvN,IAAK,IAAI4H,EAAAA,EAAE,6BAA8B,CAAC5H,EAAEK,IAAI,EAAE4B,KAAKyL,IAAI,GAAE5M,EAAAA,EAAAA,GAAET,EAAEyJ,OAAO6D,IAAI3N,EAAEQ,sBAAsBH,EAAEyJ,OAAO8D,sBAAqB/M,EAAAA,EAAAA,GAAEb,EAAEQ,wBAAyBhB,EAAEwN,KAAKJ,IAAIzH,EAAAA,CAAC;;;;;;;;;;;;;;GAcra,MAAM3F,EAAEwN,KAAKJ,IAAIzH,EAAAA,CAAC;;IAEjB,GAAGnF,EAAEgF,uBAAuBxF,EAAEmN,SAASC,IAAI,IAAIhF,EAAAA,EAAE,mBAAoB,CAAC5H,EAAEK,IAAI,EAAEA,EAAEyJ,OAAOsD,yBAAyBpN,EAAEG,uBAAwBX,EAAEwN,KAAKJ,IAAIzH,EAAAA,CAAC;;;;;KAKrJnF,EAAEkF,uBAAuB1F,EAAEmN,SAASC,IAAI,IAAIzD,EAAAA,EAAE,sBAAuBnJ,GAAGA,EAAE8J,OAAO+D,sBAAuBb,KAAKJ,IAAIzH,EAAAA,CAAC;;;KAGlHnF,EAAEiF,0BAA0BjF,EAAEkF,wBAAwB1F,EAAEwN,KAAKJ,IAAIzH,EAAAA,CAAC;;;;;IAKnE3F,EAAEsO,KAAKlB,IAAIzH,EAAAA,CAAC;;;;;;;;0BAQUnF,EAAE+E,sBAAsB,CAACvF,EAAEmN,SAASC,IAAI,IAAIhK,EAAAA,EAAE,cAAe5C,GAAG+N,EAAE/N,IAAK,IAAIsN,EAAAA,EAAE,cAAe,CAACtN,EAAEK,IAAI2N,EAAEhO,EAAEQ,qBAAqBR,EAAE2G,mBAAmBrC,kBAAkBtE,EAAEQ,qBAAqB+M,GAAGlN,EAAEyJ,OAAOuD,cAAe,MAAMhN,EAAEL,EAAE6E,UAAUM,EAAAA,CAAC,gCAAgCA,EAAAA,CAAC,kBAAkB3F,EAAEsO,KAAKlB,IAAIzH,EAAAA,CAAC;;;mHAGhN9E;;sEAE7C,CAAC,OAAOL,EAAEgF,uBAAuBxF,EAAEmN,SAASC,IAAI,IAAIhK,EAAAA,EAAE,cAAe5C,GAAG+N,EAAE/N,IAAK,IAAIsN,EAAAA,EAAE,sBAAuB,CAACtN,EAAEK,IAaN,SAAWL,EAAEK,GAAG,OAAOnB,EAAAA,EAAAA,IAAE8K,EAAAA,EAAAA,GAAEiE,GAAGjO,EAAEC,oBAAoBI,EAAEyJ,OAAOuD,YAAYY,EAAE,IAAGnN,EAAAA,EAAAA,GAAEd,EAAEC,oBAAoBD,EAAEG,qBAAqB8N,CAAC,CAbpHpI,CAAE7F,EAAEK,KAAMb,EAAEsO,KAAKlB,IAAIzH,EAAAA,CAAC;;;4EAGnInF,EAAEiF,2BAA2BzF,EAAEmN,SAASC,IAAI,IAAIhK,EAAAA,EAAE,cAAe5C,GAAG+N,EAAE/N,IAAK,IAAIsN,EAAAA,EAAE,oBAAqB,CAACtN,EAAEK,IAUyH,SAAWL,EAAEK,GAAG,MAAMb,GAAEmB,EAAAA,EAAAA,IAAEX,EAAEI,yBAAyB,GAAGmN,GAAGrO,EAAEc,EAAE2G,mBAAmBrC,kBAAkB9E,EAAE0O,GAAGjP,GAAE2B,EAAAA,EAAAA,GAAE4M,EAAExN,EAAEI,yBAAyB2J,QAAQlJ,GAAEG,EAAAA,EAAAA,GAAEuM,EAAErO,EAAED,GAAG,OAAO2B,EAAAA,EAAAA,GAAEC,EAAEA,GAAGmN,EAAEhO,EAAEI,yBAAyBW,OAAOF,EAAER,EAAEyJ,OAAOuD,WAAW,CAV1Vc,CAAEnO,EAAEK,IAAK,IAAI+N,EAAAA,EAAE,oBAAqB,CAACpO,EAAEK,IAUoT,SAAWL,EAAEK,GAAG,MAAMb,GAAEU,EAAAA,EAAAA,GAAEqN,EAAEvN,EAAEI,yBAAyBW,QAAQ,OAAOf,EAAE2G,mBAAmB5C,YAAYvE,EAAE,IAAGN,EAAAA,EAAAA,GAAEM,EAAEA,EAAEa,EAAEyJ,OAAOuD,WAAW,CAVtbgB,CAAErO,EAAEK,IAAK,IAAI+N,EAAAA,EAAE,kBAAmB,CAACpO,EAAEK,IAUkZ,SAAWL,EAAEK,GAAG,MAAMb,GAAEgE,EAAAA,EAAAA,GAAE+J,EAAEvN,EAAEI,yBAAyBW,OAAOf,EAAEI,yBAAyB2J,QAAQ,OAAO/J,EAAE2G,mBAAmB5C,YAAYvE,EAAE,IAAGN,EAAAA,EAAAA,GAAEM,EAAEA,EAAEa,EAAEyJ,OAAOuD,WAAW,CAVtjBjG,CAAEpH,EAAEK,KAAMb,EAAEsO,KAAKlB,IAAIzH,EAAAA,CAAC;;;;;KAK9RnF,EAAEkF,wBAAwB1F,EAAEmN,SAASC,IAAI,IAAIhK,EAAAA,EAAE,cAAe5C,GAAG+N,EAAE/N,IAAK,IAAIoO,EAAAA,EAAE,sBAAuB,CAACpO,EAAEK,KAAInB,EAAAA,EAAAA,GAAEqO,EAAEvN,EAAES,eAAeJ,EAAEyJ,OAAOuD,aAAc,IAAIe,EAAAA,EAAE,oBAAqB,CAACpO,EAAEK,KAAInB,EAAAA,EAAAA,GAAEqO,EAAEvN,EAAEU,aAAaL,EAAEyJ,OAAOuD,aAAc,IAAIe,EAAAA,EAAE,0BAA2B,CAACpO,EAAEK,MAAKH,EAAAA,EAAAA,GAAEuN,EAAEzN,EAAEM,sBAAsByJ,QAAQ0D,EAAE,GAAG,GAAE7M,EAAAA,EAAAA,GAAE2M,GAAEhJ,EAAAA,EAAAA,GAAEkJ,EAAEA,EAAEpN,EAAEyJ,OAAOuD,eAAgB,IAAIzF,EAAAA,EAAE,uBAAwB5H,GAAGA,EAAEO,uBAAwBf,EAAEsO,KAAKlB,IAAIzH,EAAAA,CAAC;;;;;KAKla3F,EAAEsO,KAAKlB,IAAIzH,EAAAA,CAAC,iEAAiE9E,CAAC,CAAC,SAAS0N,EAAEvO,GAAG,OAAOa,EAAAA,EAAAA,IAAEiO,EAAErM,KAAKsM,IAAI/O,EAAEO,aAAakC,KAAKsM,IAAItM,KAAKyL,IAAI,EAAElO,EAAEO,aAAYC,EAAAA,EAAAA,IAAE,KAAK,CAAspB,SAASgO,EAAEhO,EAAEK,EAAEb,GAAG,OAAON,EAAAA,EAAAA,GAAEqC,EAAEvB,EAAER,IAAGU,EAAAA,EAAAA,GAAEuN,EAAEpN,GAAGoN,EAAE,GAAG,GAAElJ,EAAAA,EAAAA,GAAEkJ,EAAEA,EAAEjO,IAAGqE,EAAAA,EAAAA,IAAEtC,EAAEkM,EAAEe,EAAE,CAAC,MAAMF,GAAE9O,EAAAA,EAAAA,MAAI+N,GAAE7J,EAAAA,EAAAA,MAAI+J,GAAE5K,EAAAA,EAAAA,MAAIqL,GAAExK,EAAAA,EAAAA,MAAI8J,GAAE9J,EAAAA,EAAAA,MAAInC,GAAEmC,EAAAA,EAAAA,MAAI8K,GAAEvL,EAAAA,EAAAA,MAAIgL,GAAEQ,EAAAA,EAAAA,KAAIC,EAAEC,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAM9B,EAAE+B,mBAAmBjI,GAAGkI,OAAOC,YAAY,CAACC,MAAM,W,6LC5D0B,SAASnF,EAAExK,GAAG,MAAMqB,EAAE,IAAI0D,EAAAA,GAAE1D,EAAE6L,QAAQzN,EAAAA,EAAEO,GAAG,MAAM4P,OAAOpF,EAAEyC,SAASxJ,GAAGpC,EAAEmJ,EAAE2C,SAASC,IAAI,IAAI/I,EAAAA,EAAE,YAAa,CAACrE,EAACwI,KAAA,IAAE8B,OAAOlJ,GAAEoH,EAAA,OAAGhI,EAAAA,EAAAA,IAAE0D,EAAE9C,EAAEyM,WAAW7N,EAAEuB,UAAU,IAAIC,EAAAA,EAAE,OAAQqH,IAAA,IAAEyB,OAAO9J,GAAEqI,EAAA,OAAGrI,EAAEqP,mBAAmB,IAAInP,EAAAA,EAAE,YAAa,CAACF,EAACsP,KAAA,IAAExF,OAAOtK,GAAE8P,EAAA,OAAGtP,EAAEL,UAAUH,EAAEqN,aAAa,IAAIxM,EAAAA,EAAE,aAAckP,IAAA,IAAEzF,OAAO9J,GAAEuP,EAAA,OAAG3O,EAAAA,EAAAA,IAAEiC,EAAE,EAAE7C,EAAEwP,aAAa,GAAG,EAAExP,EAAEwP,aAAa,OAAO3O,EAAE4O,WAAW7C,IAAIO,EAAAA,EAAEjM,MAAM,QAAQL,EAAE4O,WAAW7C,IAAIO,EAAAA,EAAEhM,IAAI,QAAQ3B,EAAEqF,YAAYhE,EAAE4O,WAAW7C,IAAIO,EAAAA,EAAE9L,SAAS,QAAQR,EAAE4O,WAAW7C,IAAIO,EAAAA,EAAE7L,OAAO,SAAST,EAAE4O,WAAW7C,IAAIO,EAAAA,EAAE/L,QAAQ,QAAQP,EAAE6O,SAAS9C,IAAI,KAAK,QAAQ/L,EAAE6O,SAAS9C,IAAI,aAAa,QAAQ/L,EAAE6O,SAAS9C,IAAI,WAAW,QAAQ/L,EAAE6O,SAAS9C,IAAI,qBAAqB,QAAQ/L,EAAE6O,SAAS9C,IAAI,mBAAmB,QAAQ/L,EAAE6O,SAAS9C,IAAI,iBAAiB,QAAQ,MAAMjM,GAAGnB,EAAEqF,UAAU,OAAOmF,EAAE8D,KAAKlB,IAAIpJ,EAAAA,CAAC;;;;;;;;OAQt1D1C,EAAAA,EAAAA,IAAEH,EAAE6C,EAAAA,CAAC;OACL1C,EAAAA,EAAAA,IAAEH,EAAE6C,EAAAA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAsCNP,EAAE0J,SAASC,IAAI,IAAI1N,EAAAA,EAAE,sBAAuBc,GAAGA,EAAE8J,OAAO+D,sBAAuB5K,EAAE+J,KAAKJ,IAAIpJ,EAAAA,CAAC;;;;;;;;;;;;IAY5FP,EAAE6K,KAAKlB,IAAIpJ,EAAAA,CAAC;;;;;;;;;;;;;;;;;;;;;;wEAsBwD3C,CAAC,CAAC,MAAMgC,GAAEhC,EAAAA,EAAAA,MAAI6C,GAAElE,EAAAA,EAAAA,MAAIyD,EAAE0L,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAM/E,GAAGiF,OAAOC,YAAY,CAACC,MAAM,W","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js","../node_modules/@arcgis/core/chunks/Laserlines.glsl.js","../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{fromValues as t,create as s}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as i}from\"../../../../../geometry/support/lineSegment.js\";import{ReloadableShaderModule as r}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{L as l}from\"../../../../../chunks/Laserlines.glsl.js\";import{NoParameters as n}from\"../../../../webgl/NoParameters.js\";class a extends n{constructor(){super(...arguments),this.innerColor=t(1,1,1),this.innerWidth=1,this.glowColor=t(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=e(6),this.pointDistanceOrigin=s(),this.pointDistanceTarget=s(),this.lineVerticalPlaneSegment=i(),this.intersectsLineSegment=i(),this.intersectsLineRadius=3,this.heightManifoldTarget=s(),this.lineStartWorld=s(),this.lineEndWorld=s()}}class h extends o{constructor(e,t){super(e,t,new r(l,(()=>import(\"../../shaders/Laserlines.glsl.js\"))))}}export{a as LaserlinePassParameters,h as LaserlineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ReloadableShaderModule as r}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{LaserlinePassParameters as o}from\"./LaserlineTechnique.js\";import{VertexAttribute as t}from\"../../lib/VertexAttribute.js\";import{L as i}from\"../../../../../chunks/LaserlinePath.glsl.js\";class a extends o{constructor(){super(...arguments),this.origin=e()}}class c extends s{constructor(e,s){super(e,s,new r(i,(()=>import(\"../../shaders/LaserlinePath.glsl.js\"))),n)}}const n=new Map([[t.START,0],[t.END,1],[t.EXTRUDE,2],[t.START_UP,3],[t.END_UP,4]]);export{a as LaserlinePathPassParameters,c as LaserlinePathTechnique,n as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{i as e,d as t}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newDoubleArray as s}from\"../../../../../geometry/support/DoubleArray.js\";import{ViewingMode as i}from\"../../../../ViewingMode.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{newLayout as f}from\"../../../support/buffer/InterleavedLayout.js\";import{vertexAttributeLocations as n}from\"./LaserlinePathTechnique.js\";import{VertexArrayObject as u}from\"../../lib/VertexArrayObject.js\";import{VertexAttribute as a}from\"../../lib/VertexAttribute.js\";import{BufferObject as l}from\"../../../../webgl/BufferObject.js\";import{PrimitiveType as c,Usage as h}from\"../../../../webgl/enums.js\";class _{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=r(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=s(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);e(this._origin,t[r],t[r+1],t[r+2])}else e(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(c.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}get _layout(){return this._renderCoordsHelper.viewingMode===i.Global?b:g}_ensureVAO(e){return null==this._buffers?null:(this._vao??=this._createVAO(e,this._buffers),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new u(e,n,new Map([[\"data\",o(this._layout)]]),new Map([[\"data\",l.createVertex(e,h.STATIC_DRAW,r)]]))}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.get(\"data\")?.setData(r),this._dirty=!1}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+d(t)),0);this._count=s;const i=this._layout.createBuffer(s),o=this._origin;let f=0,n=0;const u=\"startUp\"in i?this._setUpVectors.bind(this,i):void 0;for(const a of r){for(let r=0;r<a.length;r+=3){const s=e(m,a[r],a[r+1],a[r+2]);0===r?n=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,n);const l=f+2*r;u?.(r,l,a,s);const c=t(m,s,o);if(r<a.length-3){for(let e=0;e<6;e++)i.start.setVec(l+e,c);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0)for(let e=-6;e<0;e++)i.end.setVec(l+e,c)}f+=d(a)}return i.buffer}_setUpVectors(e,t,r,s,i){const o=this._renderCoordsHelper.worldUpAtPosition(i,p);if(t<s.length-3)for(let f=0;f<6;f++)e.startUp.setVec(r+f,o);if(t>0)for(let f=-6;f<0;f++)e.endUp.setVec(r+f,o)}}function d(e){return 3*(2*(e.length/3-1))}const p=r(),m=r(),b=f().vec3f(a.START).vec3f(a.END).vec2f(a.EXTRUDE).vec3f(a.START_UP).vec3f(a.END_UP),g=f().vec3f(a.START).vec3f(a.END).vec2f(a.EXTRUDE);export{_ as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as r,parameter as t}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class e extends r{constructor(){super(...arguments),this.contrastControlEnabled=!1,this.spherical=!1}}o([t()],e.prototype,\"contrastControlEnabled\",void 0),o([t()],e.prototype,\"spherical\",void 0);export{e as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{LaserlinePathTechniqueConfiguration as t}from\"./LaserlinePathTechniqueConfiguration.js\";class n extends t{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1}}e([i()],n.prototype,\"heightManifoldEnabled\",void 0),e([i()],n.prototype,\"pointDistanceEnabled\",void 0),e([i()],n.prototype,\"lineVerticalPlaneEnabled\",void 0),e([i()],n.prototype,\"intersectsLineEnabled\",void 0);export{n as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{disposeMaybe as t}from\"../../../../../core/maybe.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as s,f as r}from\"../../../../../chunks/vec32.js\";import{fromRay as a,create as o,getStart as l,getEnd as h}from\"../../../../../geometry/support/clipRay.js\";import{intersectClipRay as c}from\"../../../../../geometry/support/frustum.js\";import{copy as d}from\"../../../../../geometry/support/lineSegment.js\";import{wrap as p}from\"../../../../../geometry/support/ray.js\";import{ViewingMode as u}from\"../../../../ViewingMode.js\";import{InternalRenderCategory as m}from\"../../../webgl.js\";import g from\"../../../webgl/RenderNode.js\";import{Blit as _}from\"../blit/Blit.js\";import{LaserlinePathData as P}from\"./LaserlinePathData.js\";import{LaserlinePathPassParameters as f,LaserlinePathTechnique as b}from\"./LaserlinePathTechnique.js\";import{LaserlinePathTechniqueConfiguration as E}from\"./LaserlinePathTechniqueConfiguration.js\";import{LaserlineTechnique as D}from\"./LaserlineTechnique.js\";import{LaserlineTechniqueConfiguration as q}from\"./LaserlineTechniqueConfiguration.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{updateParameters as L}from\"../../materials/internal/MaterialUtil.js\";import{BlitMode as V}from\"../../shaders/CompositingTechniqueConfiguration.js\";import{FramebufferBit as C}from\"../../../../webgl/enums.js\";let j=class extends g{constructor(e){super(e),this.isDecoration=!0,this.produces=m.LASERLINES,this.consumes={required:[m.LASERLINES,\"normals\"]},this.requireGeometryDepth=!0,this._configuration=new q,this._pathTechniqueConfiguration=new E,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._passParameters=new f;const t=e.view.stage.renderView.techniques,i=new E;i.contrastControlEnabled=e.contrastControlEnabled,t.precompile(b,i)}initialize(){this._passParameters.renderCoordsHelper=this.view.renderCoordsHelper,this._pathTechniqueConfiguration.spherical=this.view.state.viewingMode===u.Global,this._pathTechniqueConfiguration.contrastControlEnabled=this.contrastControlEnabled,this._techniques.precompile(b,this._pathTechniqueConfiguration),this._blit=new _(this._techniques,V.PremultipliedAlpha)}destroy(){this._pathVerticalPlaneData=t(this._pathVerticalPlaneData),this._blit=null}get _techniques(){return this.view.stage.renderView.techniques}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this.requestRender(T.UPDATE))}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){s(this._passParameters.heightManifoldTarget,e),this.requestRender(T.UPDATE)}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this.requestRender(T.UPDATE))}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){s(this._passParameters.pointDistanceTarget,e),this.requestRender(T.UPDATE)}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){s(this._passParameters.pointDistanceOrigin,e),this.requestRender(T.UPDATE)}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this.requestRender(T.UPDATE))}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){d(e,this._passParameters.lineVerticalPlaneSegment),this.requestRender(T.UPDATE)}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this.requestRender(T.UPDATE))}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){d(e,this._passParameters.intersectsLineSegment),this.requestRender(T.UPDATE)}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this.requestRender(T.UPDATE))}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this.requestRender(T.UPDATE))}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this.requestRender(T.UPDATE)}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new P(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this.requestRender(T.UPDATE)}setParameters(e){L(this._passParameters,e)&&this.requestRender(T.UPDATE)}precompile(){this._acquireTechnique()}render(e){const t=e.find((({name:e})=>e===this.produces));if(this.isDecoration&&!this.bindParameters.decorations||null==this._blit)return t;const i=this.renderingContext,n=e.find((({name:e})=>\"normals\"===e));this._passParameters.normals=n?.getTexture();const s=()=>{(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(),this.pathVerticalPlaneEnabled&&this._renderPath()};if(!this.contrastControlEnabled)return i.bindFramebuffer(t.fbo),s(),t;this._passParameters.colors=t.getTexture();const r=this.fboCache.acquire(t.fbo.width,t.fbo.height,\"laser lines\");return i.bindFramebuffer(r.fbo),i.setClearColor(0,0,0,0),i.clear(C.COLOR|C.DEPTH),s(),i.unbindTexture(t.getTexture()),this._blit.blend(i,r,t,this.bindParameters)||this.requestRender(T.UPDATE),r.release(),t}_acquireTechnique(){return this._configuration.heightManifoldEnabled=this.heightManifoldEnabled,this._configuration.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._configuration.pointDistanceEnabled=this.pointDistanceEnabled,this._configuration.intersectsLineEnabled=this.intersectsLineEnabled,this._configuration.contrastControlEnabled=this.contrastControlEnabled,this._configuration.spherical=this.view.state.viewingMode===u.Global,this._techniques.get(D,this._configuration)}_renderUnified(){if(!this._updatePassParameters())return;const e=this._acquireTechnique();if(e.compiled){const t=this.renderingContext;t.bindTechnique(e,this.bindParameters,this._passParameters),t.screen.draw()}else this.requestRender(T.UPDATE)}_renderPath(){if(null==this._pathVerticalPlaneData)return;const e=this._techniques.get(b,this._pathTechniqueConfiguration);if(e.compiled){const t=this.renderingContext;this._passParameters.origin=this._pathVerticalPlaneData.origin,t.bindTechnique(e,this.bindParameters,this._passParameters),this._pathVerticalPlaneData.draw(t)}else this.requestRender(T.UPDATE)}_updatePassParameters(){if(!this._intersectsLineEnabled)return!0;const e=this.bindParameters.camera,t=this._passParameters;if(this._intersectsLineInfinite){if(a(p(t.intersectsLineSegment.origin,t.intersectsLineSegment.vector),w),w.c0=-Number.MAX_VALUE,!c(e.frustum,w))return!1;l(w,t.lineStartWorld),h(w,t.lineEndWorld)}else s(t.lineStartWorld,t.intersectsLineSegment.origin),r(t.lineEndWorld,t.intersectsLineSegment.origin,t.intersectsLineSegment.vector);return!0}get test(){}};e([i({constructOnly:!0})],j.prototype,\"contrastControlEnabled\",void 0),e([i()],j.prototype,\"isDecoration\",void 0),e([i()],j.prototype,\"produces\",void 0),e([i()],j.prototype,\"consumes\",void 0),j=e([n(\"esri.views.3d.webgl-engine.effects.laserlines.LaserLineRenderer\")],j);const w=o();export{j as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e}from\"../../../../chunks/vec32.js\";import{create as t,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,fromValues as s,copy as r}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as a}from\"../../webgl-engine/effects/laserlines/LaserLineRenderer.js\";import{d as h}from\"../../../../chunks/Laserlines.glsl.js\";class c extends l{constructor(e){super(e),this._angleCutoff=h,this._style={},this._heightManifoldTarget=t(),this._heightManifoldEnabled=!1,this._intersectsLine=n(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?(e(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=s(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?(r(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?r(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:i(e.origin),target:e.target?i(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this._renderer&&(this._renderer.isDecoration=e)}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new a({view:this.view,contrastControlEnabled:!0,isDecoration:this.isDecoration}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff())}_syncStyle(){null!=this._renderer&&this._renderer.setParameters(this._style)}_syncAngleCutoff(){this._renderer?.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view.stage&&(this._renderer.destroy(),this._renderer=null)}forEachMaterial(){}}const _=t();export{c as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReadDepth as o}from\"./output/ReadDepth.glsl.js\";import{BlendColorsPremultiplied as e}from\"./util/BlendColorsPremultiplied.glsl.js\";import{CameraSpace as l}from\"./util/CameraSpace.glsl.js\";import{Float3PassUniform as t}from\"../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as r}from\"../shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../shaderModules/glsl.js\";import{Texture2DBindUniform as n}from\"../shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as i}from\"../shaderModules/Texture2DPassUniform.js\";function p(p,d){const s=p.fragment;s.include(o),p.include(l),s.include(e),s.uniforms.add(new r(\"globalAlpha\",(o=>o.globalAlpha)),new t(\"glowColor\",(o=>o.glowColor)),new r(\"glowWidth\",((o,e)=>o.glowWidth*e.camera.pixelRatio)),new r(\"glowFalloff\",(o=>o.glowFalloff)),new t(\"innerColor\",(o=>o.innerColor)),new r(\"innerWidth\",((o,e)=>o.innerWidth*e.camera.pixelRatio)),new n(\"depthMap\",(o=>o.depth?.attachment)),new i(\"normalMap\",(o=>o.normals))),s.code.add(a`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),s.code.add(a`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendColorsPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),s.code.add(a`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float angleCutoffAdjust, out float depthDiscontinuityAlpha) {\nfloat depth = depthFromTexture(depthMap, uv);\nif (depth == 1.0) {\nreturn false;\n}\nfloat linearDepth = linearizeDepth(depth);\npos = reconstructPosition(gl_FragCoord.xy, linearDepth);\nfloat minStep = 6e-8;\nfloat depthStep = clamp(depth + minStep, 0.0, 1.0);\nfloat linearDepthStep = linearizeDepth(depthStep);\nfloat depthError = abs(linearDepthStep - linearDepth);\nvec3 normalReconstructed = normalize(cross(dFdx(pos), dFdy(pos)));\nvec3 normalFromTexture = normalize(texture(normalMap, uv).xyz * 2.0 - 1.0);\nfloat blendFactor = smoothstep(0.15, 0.2, depthError);\nnormal = normalize(mix(normalReconstructed, normalFromTexture, blendFactor));\nangleCutoffAdjust = mix(0.0, 0.004, blendFactor);\nfloat ddepth = fwidth(linearDepth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / linearDepth);\nreturn true;\n}`),d.contrastControlEnabled?s.uniforms.add(new i(\"frameColor\",((o,e)=>o.colors)),new r(\"globalAlphaContrastBoost\",(o=>o.globalAlphaContrastBoost))).code.add(a`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`):s.code.add(a`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{p as Laserline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{set as i}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{t as n,d as a,n as o,l as r,j as l,c as s,h as c,f as d}from\"./vec32.js\";import{create as f}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{t as p}from\"./vec42.js\";import{create as g}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{pointAt as h}from\"../geometry/support/lineSegment.js\";import{fromPositionAndNormal as m,create as u}from\"../geometry/support/plane.js\";import{a as w,c as x}from\"./sphere.js\";import{Laserline as v}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as P}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float2PassUniform as b}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3BindUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/Float3BindUniform.js\";import{Float3PassUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as C}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as L}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as j}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{ShaderBuilder as A}from\"../views/webgl/ShaderBuilder.js\";const V=e(6);function y(e){const i=new A;i.include(P),i.include(v,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new L(\"maxPixelDistance\",((i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin)))),t.code.add(j`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.spherical){const e=(e,i,t)=>n(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>n(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new S(\"heightManifoldOrigin\",((t,n)=>(e(F,t,n),i(H,n),a(H,H,F),o(G,H),G[3]=r(H),G))),new D(\"globalOrigin\",(e=>i(F,e))),new L(\"cosSphericalAngleThreshold\",((e,i)=>1-Math.max(2,l(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/r(e.heightManifoldTarget)))),t.code.add(j`float globeDistancePixels(float posInGlobalOriginLength) {\nfloat dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}\nfloat heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nvec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);\nfloat cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);\nvec3 posInGlobalOrigin = globalOrigin - pos;\nfloat posInGlobalOriginLength = length(posInGlobalOrigin);\nfloat sphericalDistance = globeDistancePixels(posInGlobalOriginLength);\nfloat planarDistance = planeDistancePixels(heightPlane, pos);\nreturn cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;\n}`)}else t.code.add(j`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nreturn planeDistancePixels(heightPlane, pos);\n}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new L(\"maxPixelDistance\",((e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget)))),t.code.add(j`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`)),e.intersectsLineEnabled&&t.uniforms.add(new C(\"perScreenPixelRatio\",(e=>e.camera.perScreenPixelRatio))).code.add(j`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add(j`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),t.main.add(j`vec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 color = vec4(0.0);`),e.heightManifoldEnabled){t.uniforms.add(new b(\"angleCutoff\",(e=>O(e))),new S(\"heightPlane\",((e,i)=>R(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,F),i.camera.viewMatrix))));const i=e.spherical?j`normalize(globalOrigin - pos)`:j`heightPlane.xyz`;t.main.add(j`\n      vec2 angleCutoffAdjusted = angleCutoff - angleCutoffAdjust;\n      // Fade out laserlines on flat surfaces\n      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoffAdjusted.x, angleCutoffAdjusted.y, abs(dot(normal, ${i})));\n      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));\n      color = max(color, heightManifoldColor * heightManifoldAlpha);`)}return e.pointDistanceEnabled&&(t.uniforms.add(new b(\"angleCutoff\",(e=>O(e))),new S(\"pointDistanceSphere\",((e,i)=>E(e,i)))),t.main.add(j`float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new b(\"angleCutoff\",(e=>O(e))),new S(\"lineVerticalPlane\",((e,i)=>z(e,i))),new M(\"lineVerticalStart\",((e,i)=>I(e,i))),new M(\"lineVerticalEnd\",((e,i)=>T(e,i)))),t.main.add(j`if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new b(\"angleCutoff\",(e=>O(e))),new M(\"intersectsLineStart\",((e,i)=>n(F,e.lineStartWorld,i.camera.viewMatrix))),new M(\"intersectsLineEnd\",((e,i)=>n(F,e.lineEndWorld,i.camera.viewMatrix))),new M(\"intersectsLineDirection\",((e,i)=>(s(G,e.intersectsLineSegment.vector),G[3]=0,o(F,p(G,G,i.camera.viewMatrix))))),new L(\"intersectsLineRadius\",(e=>e.intersectsLineRadius))),t.main.add(j`if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}`)),t.main.add(j`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);`),i}function O(t){return i(U,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-e(2))))}function E(e,i){return n(w(N),e.pointDistanceOrigin,i.camera.viewMatrix),N[3]=l(e.pointDistanceOrigin,e.pointDistanceTarget),N}function z(e,i){const t=h(e.lineVerticalPlaneSegment,.5,F),n=e.renderCoordsHelper.worldUpAtPosition(t,W),a=o(H,e.lineVerticalPlaneSegment.vector),r=c(F,n,a);return o(r,r),R(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function I(e,i){const t=s(F,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),n(t,t,i.camera.viewMatrix)}function T(e,i){const t=d(F,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),n(t,t,i.camera.viewMatrix)}function R(e,i,t){return n(_,e,t),s(G,i),G[3]=0,p(G,G,t),m(_,G,B)}const U=t(),F=f(),G=g(),W=f(),H=f(),_=f(),B=u(),N=x(),$=Object.freeze(Object.defineProperty({__proto__:null,build:y,defaultAngleCutoff:V},Symbol.toStringTag,{value:\"Module\"}));export{$ as L,y as b,V as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{translate as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{Laserline as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{Float2BindUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{FloatBindUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{If as l,glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Matrix4PassUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";function w(t){const r=new p;r.include(a,t);const{vertex:w,fragment:u}=r;w.uniforms.add(new m(\"modelView\",((t,{camera:o})=>e(f,o.viewMatrix,t.origin))),new c(\"proj\",(({camera:e})=>e.projectionMatrix)),new s(\"glowWidth\",((e,{camera:t})=>e.glowWidth*t.pixelRatio)),new i(\"pixelToNDC\",(({camera:e})=>o(g,2/e.fullViewport[2],2/e.fullViewport[3])))),r.attributes.add(v.START,\"vec3\"),r.attributes.add(v.END,\"vec3\"),t.spherical&&(r.attributes.add(v.START_UP,\"vec3\"),r.attributes.add(v.END_UP,\"vec3\")),r.attributes.add(v.EXTRUDE,\"vec2\"),r.varyings.add(\"uv\",\"vec2\"),r.varyings.add(\"vViewStart\",\"vec3\"),r.varyings.add(\"vViewEnd\",\"vec3\"),r.varyings.add(\"vViewSegmentNormal\",\"vec3\"),r.varyings.add(\"vViewStartNormal\",\"vec3\"),r.varyings.add(\"vViewEndNormal\",\"vec3\");const h=!t.spherical;return w.main.add(d`\n    vec3 pos = mix(start, end, extrude.x);\n\n    vec4 viewPos = modelView * vec4(pos, 1);\n    vec4 projPos = proj * viewPos;\n    vec2 ndcPos = projPos.xy / projPos.w;\n\n    // in planar we hardcode the up vectors to be Z-up */\n    ${l(h,d`vec3 startUp = vec3(0, 0, 1);`)}\n    ${l(h,d`vec3 endUp = vec3(0, 0, 1);`)}\n\n    // up vector corresponding to the location of the vertex, selecting either startUp or endUp */\n    vec3 up = extrude.y * mix(startUp, endUp, extrude.x);\n    vec3 viewUp = (modelView * vec4(up, 0)).xyz;\n\n    vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projUp = normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    // extrude ndcPos along projUp to the edge of the screen\n    vec2 lxy = abs(sign(projUp) - ndcPos);\n    ndcPos += length(lxy) * projUp;\n\n    vViewStart = (modelView * vec4(start, 1)).xyz;\n    vViewEnd = (modelView * vec4(end, 1)).xyz;\n\n    vec3 viewStartEndDir = vViewEnd - vViewStart;\n\n    vec3 viewStartUp = (modelView * vec4(startUp, 0)).xyz;\n\n    // the normal of the plane that aligns with the segment and the up vector\n    vViewSegmentNormal = normalize(cross(viewStartUp, viewStartEndDir));\n\n    // the normal orthogonal to the segment normal and the start up vector\n    vViewStartNormal = -normalize(cross(vViewSegmentNormal, viewStartUp));\n\n    // the normal orthogonal to the segment normal and the end up vector\n    vec3 viewEndUp = (modelView * vec4(endUp, 0)).xyz;\n    vViewEndNormal = normalize(cross(vViewSegmentNormal, viewEndUp));\n\n    // Add enough padding in the X screen space direction for \"glow\"\n    float xPaddingPixels = sign(dot(vViewSegmentNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x += xPaddingPixels * pixelToNDC.x;\n\n    // uv is used to read back depth to reconstruct the position at the fragment\n    uv = ndcPos * 0.5 + 0.5;\n\n    gl_Position = vec4(ndcPos, 0, 1);\n  `),u.uniforms.add(new n(\"perScreenPixelRatio\",(e=>e.camera.perScreenPixelRatio))),u.code.add(d`float planeDistance(vec3 planeNormal, vec3 planeOrigin, vec3 pos) {\nreturn dot(planeNormal, pos - planeOrigin);\n}\nfloat segmentDistancePixels(vec3 segmentNormal, vec3 startNormal, vec3 endNormal, vec3 pos, vec3 start, vec3 end) {\nfloat distSegmentPlane = planeDistance(segmentNormal, start, pos);\nfloat distStartPlane = planeDistance(startNormal, start, pos);\nfloat distEndPlane = planeDistance(endNormal, end, pos);\nfloat dist = max(max(distStartPlane, distEndPlane), abs(distSegmentPlane));\nfloat width = fwidth(distSegmentPlane);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}`),u.main.add(d`fragColor = vec4(0.0);\nvec3 dEndStart = vViewEnd - vViewStart;\nif (dot(dEndStart, dEndStart) < 1e-5) {\nreturn;\n}\nvec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\nreturn;\n}\nfloat distance = segmentDistancePixels(\nvViewSegmentNormal,\nvViewStartNormal,\nvViewEndNormal,\npos,\nvViewStart,\nvViewEnd\n);\nvec4 color = laserlineProfile(distance);\nfloat alpha = (1.0 - smoothstep(0.995 - angleCutoffAdjust, 0.999 - angleCutoffAdjust, abs(dot(normal, vViewSegmentNormal))));\nfragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);`),r}const g=r(),f=t(),u=Object.freeze(Object.defineProperty({__proto__:null,build:w},Symbol.toStringTag,{value:\"Module\"}));export{u as L,w as b};\n"],"names":["a","n","constructor","super","arguments","this","innerColor","t","innerWidth","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","angleCutoff","e","pointDistanceOrigin","s","pointDistanceTarget","lineVerticalPlaneSegment","i","intersectsLineSegment","intersectsLineRadius","heightManifoldTarget","lineStartWorld","lineEndWorld","h","o","r","l","origin","c","Map","START","END","EXTRUDE","START_UP","END_UP","_","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","vertices","length","buffers","Math","floor","draw","_ensureVAO","bindVAO","drawArrays","TRIANGLES","dispose","_layout","viewingMode","Global","b","g","_createVAO","_ensureVertexData","_createDataBuffer","u","createVertex","STATIC_DRAW","vertexBuffers","get","setData","reduce","d","createBuffer","f","_setUpVectors","bind","m","getAltitude","setAltitude","start","setVec","extrude","setValues","end","buffer","worldUpAtPosition","p","startUp","endUp","vec3f","vec2f","contrastControlEnabled","spherical","prototype","heightManifoldEnabled","pointDistanceEnabled","lineVerticalPlaneEnabled","intersectsLineEnabled","j","isDecoration","produces","LASERLINES","consumes","required","requireGeometryDepth","_configuration","q","_pathTechniqueConfiguration","E","_heightManifoldEnabled","_pointDistanceEnabled","_lineVerticalPlaneEnabled","_intersectsLineEnabled","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_passParameters","view","stage","renderView","techniques","precompile","initialize","renderCoordsHelper","state","_techniques","_blit","V","PremultipliedAlpha","destroy","_pathVerticalPlaneData","requestRender","T","UPDATE","intersectsLineInfinite","pathVerticalPlaneEnabled","pathVerticalPlaneVertices","P","pathVerticalPlaneBuffers","setParameters","L","_acquireTechnique","render","find","_ref","name","bindParameters","decorations","renderingContext","_ref2","normals","getTexture","_renderUnified","_renderPath","bindFramebuffer","fbo","colors","fboCache","acquire","width","height","setClearColor","clear","C","COLOR","DEPTH","unbindTexture","blend","release","D","_updatePassParameters","compiled","bindTechnique","screen","camera","vector","w","c0","Number","MAX_VALUE","frustum","test","constructOnly","_angleCutoff","_style","_heightManifoldTarget","_intersectsLine","_lineVerticalPlaneSegment","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProperties","testData","createResources","_ensureRenderer","destroyResources","_disposeRenderer","updateVisibility","_syncRenderer","_syncHeightManifold","_syncIntersectsLine","_syncPathVerticalPlane","_syncLineVerticalPlane","_syncPointDistance","_syncAngleCutoff","style","_syncStyle","intersectsWorldUpAtLocation","intersectsLine","_syncIntersectsLineInfinite","pathVerticalPlane","pointDistanceLine","target","_isDecoration","_renderer","attached","visible","forEachMaterial","fragment","include","uniforms","add","pixelRatio","depth","attachment","code","y","A","v","computeScreenPixelSizeAt","viewMatrix","S","F","H","G","max","eye","perRenderPixelRatio","perScreenPixelRatio","main","O","R","N","W","z","M","I","U","cos","B","x","$","Object","freeze","defineProperty","__proto__","build","defaultAngleCutoff","Symbol","toStringTag","value","vertex","projectionMatrix","_ref3","_ref4","fullViewport","attributes","varyings"],"sourceRoot":""}