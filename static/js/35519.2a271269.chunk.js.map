{"version":3,"file":"static/js/35519.2a271269.chunk.js","mappings":"8KAI4FA,eAAeC,EAAEA,GAAoB,IAAlBC,EAACC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACF,EAAEK,cAAe,GAAG,MAAMJ,EAAE,MAAM,GAAG,MAAMK,QAAQL,EAAEM,kBAAkBP,EAAEQ,cAAcC,oBAAoBC,GAAGT,GAAGU,cAAcC,EAAEC,YAAYC,EAAEC,cAAcC,EAAEC,cAAcC,GAAGlB,EAAE,GAAGM,EAAEa,SAAS,KAAK,MAAM,CAAC,KAAK,MAAMC,EAAEV,GAAEW,EAAAA,EAAAA,IAAErB,GAAG,GAAGsB,GAAEC,EAAAA,EAAAA,IAAEvB,EAAEQ,YAAY,IAAIF,KAAKc,IAAI,OAAON,GAAGQ,EAAEE,KAAKV,GAAGQ,GAAGV,GAAGZ,EAAEQ,aAAaiB,IAAIb,KAAKU,EAAEH,SAASP,IAAIU,EAAEE,KAAKZ,GAAGU,GAAGN,GAAGhB,EAAEQ,aAAaiB,IAAIT,KAAKM,EAAEH,SAASH,IAAIM,EAAEE,KAAKR,GAAGE,GAAGA,EAAEQ,QAASL,IAAI,MAAMM,SAASJ,GAAGF,EAAEC,GAAGC,GAAGvB,EAAEQ,aAAaiB,IAAIF,KAAKD,EAAEH,SAASI,IAAID,EAAEE,KAAKD,KAAMD,CAAC,CAAC,SAASrB,EAAEoB,EAAEE,GAAG,OAAOF,EAAEhB,cAAcgB,EAAEhB,cAAc,MAAMkB,GAAGA,EAAEK,6BAA6B,MAAMP,EAAEQ,qBAAqBR,EAAEQ,qBAAqB,IAAI,CAAC,SAASvB,EAAEe,EAAEE,GAAG,OAAO,MAAMtB,EAAEoB,EAAE,CAACO,4BAA4BL,GAAG,C,0HCA7Z,MAAMT,EAAEA,IAAI,IAAId,EAAE,cAAc8B,EAAAA,EAAEC,iBAAiBjB,IAAIkB,WAAAA,GAAcC,SAAS/B,WAAWgC,KAAKC,OAAO,KAAKD,KAAKE,kBAAiB,EAAGF,KAAKG,2BAA2B,CAAC,CAAC,eAAIC,GAAc,OAAOJ,KAAKG,2BAA2B,GAAGH,KAAKE,gBAAgB,CAAC,eAAIE,CAAYjB,GAAGa,KAAKE,iBAAiBf,CAAC,CAAC,YAAIkB,GAAW,OAAM,CAAE,CAAC,WAAIC,GAAU,OAAO,MAAMN,KAAKC,QAAQD,KAAKC,OAAOK,UAAUN,KAAKC,OAAOM,SAAS,CAAC,WAAID,CAAQnB,GAAGa,KAAKQ,gBAAgB,UAAUrB,EAAE,CAACsB,gBAAAA,GAAmB,OAAOT,KAAKG,8BAA6B3B,EAAAA,EAAAA,IAAG,IAAIwB,KAAKG,6BAA8B,GAAG,OAAOhB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAAC4B,eAAc,KAAM5C,EAAE6C,UAAU,cAAS,IAAQxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAAC4B,eAAc,KAAM5C,EAAE6C,UAAU,YAAO,IAAQxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAAC8B,KAAKC,WAAW/C,EAAE6C,UAAU,cAAc,OAAMxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKhB,EAAE6C,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACgC,UAAS,KAAMhD,EAAE6C,UAAU,WAAW,OAAMxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKhB,EAAE6C,UAAU,UAAU,OAAMxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKhB,EAAE6C,UAAU,kCAA6B,GAAQ7C,GAAEqB,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,GAAE,0CAA0CpB,GAAGA,E,wHCAj+B,IAAIoB,EAAE,cAAcJ,EAAAA,EAAEgB,WAAAA,CAAYlB,GAAGmB,MAAMnB,EAAE,CAACmC,UAAAA,GAAaf,KAAKgB,YAAW7B,EAAAA,EAAAA,IAAG,IAAIa,KAAKiB,iBAAiBX,QAAU1B,GAAGoB,KAAKM,QAAQ1B,EAAGJ,EAAAA,IAAG,CAAC0C,UAAAA,GAAalB,KAAKmB,eAAenB,KAAKoB,SAASpB,KAAKqB,SAASC,OAAO,CAACC,YAAAA,GAAevB,KAAKwB,KAAK,WAAU,EAAG,GAAGtC,GAAEN,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,GAAE,4CAA4CV,E,wHCA+uFuC,EAAmhCtC,E,wLAA9lG,SAASuC,EAAEvC,EAAErB,GAAG,OAAO6D,EAAExC,EAAG,IAAIrB,EAAG,CAAC,SAAS8D,EAAEzC,GAAG,OAAOwC,EAAExC,EAAGA,GAAGA,EAAE0C,MAAO,CAAC,SAASF,EAAExC,EAAEX,GAAG,MAAMU,GAAEnB,EAAAA,EAAAA,MAAIsB,GAAEtB,EAAAA,EAAAA,MAAI,IAAIa,GAAE,EAAG,OAAOkD,IAAI,MAAMhD,EAAEN,EAAEsD,GAAG,GAAG,UAAUA,EAAEC,OAAO,CAAC,MAAMvD,GAAEV,EAAAA,EAAAA,IAAEgE,EAAEE,aAAYpC,EAAAA,EAAAA,IAAEqC,EAAAA,GAAEC,QAAQ7C,GAAE8C,EAAAA,EAAAA,IAAEhD,EAAEiD,MAAMC,OAAO7D,EAAE8D,GAAG,MAAMjD,IAAIT,GAAEF,EAAAA,EAAAA,IAAEI,EAAEO,EAAEH,GAAG,CAAC,IAAIN,EAAE,OAAO,KAAK,MAAMI,GAAElB,EAAAA,EAAAA,IAAEgE,EAAES,WAAU3C,EAAAA,EAAAA,IAAEqC,EAAAA,GAAEC,QAAQ9D,GAAE+D,EAAAA,EAAAA,IAAEhD,EAAEiD,MAAMC,OAAOrD,EAAEsD,GAAG,OAAO,MAAMlE,EAAE,MAAKM,EAAAA,EAAAA,IAAEI,EAAEV,EAAEiB,GAAG,IAAIyC,EAAEU,YAAYtD,EAAEuD,UAAUpD,EAAEwC,MAAM/C,EAAE4D,IAAItE,GAAG,KAAK,CAA8Z,SAASuE,EAAExD,EAAErB,EAAE8B,GAAgB,IAAdpB,EAACR,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAKkB,EAAClB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAM,OAA7b,SAAWF,EAAE8B,GAAoB,IAAlBpB,EAACR,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,EAAEkB,EAAClB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAKqB,EAACrB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAUY,EAAE,KAAK,OAAOkD,IAAI,GAAG,UAAUA,EAAEC,SAASnD,EAAEd,EAAE8E,wBAAwBC,8BAA6B1D,EAAAA,EAAAA,IAAE2C,EAAEE,YAAYc,EAAEhB,EAAEE,YAAYe,GAAGnD,EAAEpB,EAAEa,GAAG,MAAMT,GAAG,MAAMM,KAAIE,EAAAA,EAAAA,cAAER,EAAEA,EAAEM,IAAI,OAAO,KAAK,GAAG,MAAMN,EAAE,OAAO,KAAK,MAAME,EAAEhB,EAAE8E,wBAAwBC,8BAA6B1D,EAAAA,EAAAA,IAAE2C,EAAES,UAAUO,EAAEhB,EAAES,UAAUQ,GAAGnD,EAAEpB,EAAEa,GAAG,OAAO,MAAMP,GAAI,MAAMI,KAAGE,EAAAA,EAAAA,cAAEN,EAAEA,EAAEI,GAA+B,KAA3B,IAAI4C,EAAEkB,SAASpE,EAAEqE,OAAOnE,GAAQ,CAAwCoE,CAAE/D,EAAES,GAAEuD,EAAAA,EAAAA,IAAErF,EAAEqB,EAAES,GAAGpB,EAAEU,EAAE,CAAC,SAASkE,EAAEjE,EAAErB,EAAE8B,EAAEpB,GAAG,MAAMU,EAAEU,EAAEyD,MAAMlE,EAAE6C,aAAa,OAAO,MAAM9C,EAAEyD,EAAE7E,EAAEoB,EAAEU,EAAE0D,cAAc9E,GAAG,IAAI,CAAsJ,SAAS+E,EAAEpE,EAAErB,EAAE8B,GAAG,IAAIpB,EAAE,KAAK,MAAMU,EAAE,IAAIsE,EAAAA,GAAE,OAAOtE,EAAEuE,KAAK/B,EAAEvC,EAAhN,SAAWA,EAAErB,GAAG,MAAM8B,EAAE8D,EAAElF,EAAEmF,EAAE/E,GAAEgF,EAAAA,EAAAA,MAAIzE,EAAE0E,mBAAmBC,kBAAkBhG,EAAE8B,GAAG,MAAMkC,GAAE5C,EAAAA,EAAAA,IAAE6E,EAAAA,EAAAA,IAAEnF,GAAGgB,GAAEP,EAAAA,EAAAA,GAAEb,EAAEV,EAAEqB,EAAEiD,MAAMC,OAAO2B,MAAM,OAAO9E,EAAAA,EAAAA,GAAE4C,EAAEA,EAAElC,IAAGmD,EAAAA,EAAAA,IAAEjF,EAAEgE,EAAElD,EAAE,CAA8DqF,CAAE9E,EAAErB,KAAK2F,KAAsH,SAAWtE,EAAErB,GAAG,MAAM8B,GAAE7B,EAAAA,EAAAA,MAAIS,GAAEI,EAAAA,EAAAA,GAAEd,GAAGqB,EAAE0E,mBAAmBC,kBAAkBhG,EAAE8B,GAAG,MAAMV,GAAEnB,EAAAA,EAAAA,MAAImG,GAAEnG,EAAAA,EAAAA,MAAIqB,EAAEF,KAAOG,EAAAA,EAAAA,GAAEH,EAAEA,EAAEpB,IAAGqG,EAAAA,EAAAA,IAAEvE,EAAEV,EAAEA,GAAG,WAAWC,EAAEiF,cAAaxF,EAAAA,EAAAA,GAAEM,GAAGmF,KAAKC,MAAKxF,EAAAA,EAAAA,GAAEc,EAAEV,IAAI,KAAKV,IAAGa,EAAAA,EAAAA,GAAEH,GAAEF,EAAAA,EAAAA,GAAEE,EAAEU,EAAE,MAAM9B,IAAUM,EAAAA,EAAAA,GAAEc,EAAEA,EAAEpB,GAAGoB,GAAG,OAAOC,IAAIA,EAAEqD,YAAYpD,GAAE0C,EAAAA,EAAAA,GAAE5C,EAAEC,EAAEqD,cAAcrD,EAAEsD,UAAUrD,GAAE0C,EAAAA,EAAAA,GAAEoC,EAAE/E,EAAEsD,YAAYtD,EAAE,CAA7ZoF,CAAEpF,EAAErB,IAAI2F,KAAKe,EAAErF,EAAES,IAAI6D,KAAMtE,IAAIA,EAAE8D,OAAOH,EAAE3D,EAAE6D,SAASF,EAAE3D,EAAE8D,OAAOF,EAAE5D,EAAE6D,SAASD,EAAEvE,EAAEW,IAAKA,IAAIX,EAAE,KAAKU,EAAEuF,QAAQtF,GAAGX,EAAE,CAA8S,SAASkG,EAAEvF,EAAEX,GAAG,MAAMU,EAAEA,IAAI,MAAMG,GAAEvB,EAAAA,EAAAA,IAAEoB,GAAEU,EAAAA,EAAAA,IAAE+E,IAAI/F,GAAEuD,EAAAA,EAAAA,IAAEhD,EAAEiD,MAAMC,OAAOhD,EAAEiD,GAAG,GAAG,MAAM1D,EAAE,OAAO,KAAK,MAAMkD,GAAE8C,EAAAA,EAAAA,IAAEpG,EAAEI,EAAE8E,EAAEC,GAAG,OAAO7B,IAAI,IAAI,OAAO3C,IAAI,MAAMrB,EAAEoB,EAAEC,EAAE6C,aAAa,GAAG,MAAMlE,EAAE,OAAO,KAAK,MAAM8B,EAAEV,EAAEC,EAAEoD,WAAW,OAAO,MAAM3C,EAAE,KAAK,IAAIT,EAAEqD,YAAY1E,EAAE2E,UAAU7C,GAAG,CAAC,SAAS4E,EAAErF,EAAErB,GAAG,MAAM8B,EAAET,EAAE0E,mBAAmB,OAAO1E,IAAI,MAAMX,EAAEoB,EAAEiF,iBAAiB1F,EAAEqD,YAAY,IAAI0B,EAAAA,EAAE,CAACY,iBAAiBhH,KAAKoB,EAAEU,EAAEiF,iBAAiB1F,EAAEsD,UAAU,IAAIyB,EAAAA,EAAE,CAACY,iBAAiBhH,KAAK,OAAO,MAAMU,GAAG,MAAMU,EAAE,IAAIC,EAAE6D,SAASxE,EAAEyE,OAAO/D,GAAG,KAAK,CAAO,SAAS6F,EAAE5F,GAAG,IAAIrB,EAAE,KAAK,OAAO8B,IAAI,OAAOA,EAAEmC,QAAQ,IAAI,QAAQjE,EAAEqB,EAAE6F,iBAAiB,MAAM,IAAI,MAAM,IAAI,SAAS,MAAMlH,IAAIA,EAAEmH,SAASnH,EAAE,MAAM,OAAO8B,EAAE,CAAC,SAASsF,EAAEtF,GAAS,IAAPpB,EAACR,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,KAAM,MAAMkB,EAAE,IAAI4D,EAAAA,EAAElD,EAAEwC,MAAMgC,aAAalF,EAAEiG,QAAQC,eAAc,EAAGlG,EAAEiG,QAAQE,MAAMC,EAAAA,EAAEC,IAAIrG,EAAEiG,QAAQK,KAAI,EAAG,MAAMnG,GAAEF,EAAAA,EAAAA,MAAIP,EAAE,CAAC6G,wBAAuB,EAAGC,cAAa,EAAGC,QAAQ,IAAIC,KAAK9D,GAAE/D,EAAAA,EAAAA,MAAIe,EAAEN,GAAGoB,EAAEkF,iBAAiB9F,EAAEG,IAAIS,EAAEiG,IAAIC,QAAQlG,EAAEiG,IAAIC,OAAOC,QAAQ,EAAEnH,EAAE+G,QAAQK,IAAIC,EAAAA,IAAGrH,EAAE+G,QAAQO,OAAOD,EAAAA,IAAGrG,EAAEgD,wBAAwBuD,4BAA2BrI,EAAAA,EAAAA,IAAEqB,EAAEE,GAAGH,EAAEN,GAAG,MAAMJ,EAAEU,EAAEkH,QAAQC,IAAI,IAAIrH,EAAE,GAAGR,EAAE8H,qBAAqBxE,GAAG9C,EAAER,EAAE+H,cAAcC,EAAAA,EAAEC,QAAQhF,EAAEiF,OAAOjF,EAAEkF,UAAU,CAAC,IAAIzH,EAAEkH,QAAQN,OAAOQ,qBAAqBxE,GAAG,OAAO,KAAK9C,EAAEyC,EAAEiF,MAAM,CAAC,MAAM,CAACE,SAAShH,EAAEiE,mBAAmBgB,iBAAiB/C,EAAE,IAAIoC,EAAAA,EAAE,CAACY,iBAAiBhG,KAAK+H,YAAY7H,IAAI,IAAIZ,EAAE,OAAOe,IAAI,GAAG,UAAUA,EAAE4C,OAAO,CAAC,MAAMjE,EAAEkB,EAAEG,EAAE6C,aAAa5D,EAAE,MAAMN,EAAEA,EAAE8I,SAAS,IAAI,CAAC,GAAG,MAAMxI,EAAE,OAAO,KAAK,MAAMN,EAAEkB,EAAEG,EAAEoD,WAAW,OAAO,MAAMzE,GAAG8I,SAAS,IAAIzH,EAAE6D,SAAS5E,EAAE6E,OAAOnF,EAAE8I,SAASC,YAAY/I,EAAE+I,aAAa,KAAK,EAAW1H,EAAgDsC,IAAIA,EAAE,CAAC,IAAlDtC,EAAEuH,OAAO,GAAG,SAASvH,EAAEA,EAAEwH,MAAM,GAAG,QAAoB,MAAMhC,GAAEnG,EAAAA,EAAAA,MAAIkF,GAAE3F,EAAAA,EAAAA,MAAI4F,GAAE5F,EAAAA,EAAAA,MAAIuE,GAAEwE,EAAAA,EAAAA,K,0HCA39H,SAAS5C,EAAEhF,EAAEV,GAAG,OAAOoB,EAAAA,EAAAA,IAAG,IAAIV,EAAEkB,YAAc,IAAe,SAAWlB,EAAEV,GAAGU,EAAEkB,YAAwB,SAAWlB,EAAEV,GAAGY,EAAEF,GAAG,MAAM6H,KAAK5H,EAAEkC,SAASvD,GAAGoB,EAAEJ,EAAE,IAAIN,EAAE,CAACuI,KAAK5H,EAAEkC,SAASvD,EAAEmD,iBAAiB/B,IAAWA,EAAE8H,KAAKlI,EAAEK,EAAE8H,MAAMjB,IAAIlH,EAAI,CAA5IqF,CAAEjF,EAAEV,GAAGY,EAAEF,EAAE,CAApDnB,CAAEmB,EAAEV,GAAII,EAAAA,GAAE,CAA4K,SAASQ,EAAEF,GAAG,MAAM6H,KAAKvI,EAAEwI,KAAK7H,GAAGD,EAAE,MAAMC,IAAIX,EAAEyI,MAAMhC,OAAO9F,GAAGD,EAAE8H,KAAK,KAAK,CAAC,SAASjE,EAAE5D,EAAEH,GAAG,MAAMY,EAAET,EAAE+H,cAActI,GAAEM,EAAAA,EAAAA,IAAGrB,UAAU,GAAG+B,EAAE,CAAC,MAAMpB,EAAEoB,EAAEuH,QAAQC,MAAO,QAASxH,GAAGyH,cAAc7I,GAAEV,EAAAA,EAAAA,IAAEoB,EAAE,CAAC,MAAMN,EAApnB,SAAWJ,EAAEV,GAAGU,EAAE4B,aAAY,EAAG,MAAM4G,KAAKlI,EAAEiI,KAAKnH,GAAGpB,EAAEoB,EAAE0H,WAAWxI,EAAE,IAAIF,GAAEI,EAAAA,EAAAA,IAAElB,EAAG,KAAK8B,EAAE0H,aAAaxI,IAAIc,EAAE0H,WAAW,QAAS,OAAOpI,EAAAA,EAAAA,IAAGrB,gBAAgBiE,EAAAA,EAAAA,IAAG,KAAKtD,EAAEwI,MAAMO,OAAQrI,GAAGN,GAAEO,EAAAA,EAAAA,IAAEP,IAAKd,EAAE,CAAsbM,CAAEe,EAAE,CAACqI,OAAOtI,IAAI4C,EAAE9C,GAAGyI,sBAAoB,MAAO,GAAIvD,GAAE1F,EAAAA,EAAAA,IAAE,EAACa,EAAAA,EAAAA,IAAG,IAAIF,EAAE6H,KAAM,SAAU,KAAKlF,KAAKlD,EAAEyI,aAAcL,KAAKjJ,GAAGoB,EAAE,IAAIpB,IAAIA,EAAEwD,eAAevC,GAAG0I,kBAAkB3J,UAAUa,EAAEuI,SAAQrJ,EAAAA,EAAAA,IAAEoB,EAAE,CAAC,MAAMiF,GAAG,GAAGjF,EAAEyI,WAAU7I,EAAAA,EAAAA,IAAEqF,IAAIrC,IAAI,MAAMqC,CAAC,CAAC,QAAQD,GAAGe,QAAQ,GAAI,CAACuC,OAAOxI,GAAG4I,cAAcJ,SAAS,OAAOrI,EAAE+H,cAActI,EAAEA,EAAEuI,QAAQU,QAAS,KAAK1I,EAAE+H,gBAAgBtI,IAAIO,EAAE+H,cAAc,OAAQ,CAACrJ,eAAea,EAAEQ,EAAEV,GAAG,MAAMW,EAAED,EAAEmC,SAASyG,QAAQ,aAAa/E,EAAE7D,EAAE,CAAC0I,aAAapJ,GAAGuJ,iBAAiBL,gBAAgBlJ,GAAGkJ,gBAAgBD,qBAAqBA,KAAK,MAAMpG,SAAS7C,GAAGU,EAAE,OAAOV,EAAEwJ,OAAOxJ,EAAEyJ,OAAO9I,MAAM,CAAC,CAAC,C,8OCArlB,IAAIC,EAAE,cAAcZ,EAAAA,EAAEsB,WAAAA,CAAYX,GAAGY,MAAMZ,GAAGa,KAAKkI,iBAAgB,EAAGlI,KAAKmI,mBAAmB,IAAI,CAACpH,UAAAA,GAAaf,KAAKgB,WAAWhB,KAAKqB,SAAS+G,eAAeC,GAAG,aAAclJ,IAAI,MAAML,EAAEK,EAAEmJ,KAAK,MAAMxJ,IAAIA,aAAagD,EAAAA,GAAGhD,aAAamF,EAAAA,GAAGnF,aAAagD,EAAAA,GCA3oC,SAAW9C,GAAG,OAAOA,EAAE4B,MAAM,IAAI,iBAAiB,IAAI,UAAU,IAAI,wBAAwB,IAAI,oBAAoB,IAAI,MAAM,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,kBAAkB,IAAI,0BAA0B,IAAI,MAAM,IAAI,kBAAkB,IAAI,aAAa,IAAI,2BAA2B,IAAI,gBAAgB,IAAI,YAAY,IAAI,cAAc,IAAI,mBAAmB,IAAI,cAAc,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,QAAQ,IAAI,gBAAgB,IAAI,UAAU,IAAI,cAAc,IAAI,MAAM,IAAI,UAAU,KAAK,KAAK,OAAM,EAAG,IAAI,eAAe,IAAI,iBAAiB,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,eAAe,IAAI,YAAY,IAAI,QAAQ,IAAI,kBAAkB,IAAI,OAAO,IAAI,cAAc,IAAI,QAAQ,IAAI,MAAM,IAAI,WAAW,IAAI,MAAM,IAAI,OAAO,OAAM,EAAG,QAAQ,OAAOzB,EAAAA,EAAAA,IAAEH,EAAE4B,OAAM,EAAG,CDAkRuD,CAAErF,IAAIE,EAAAA,EAAEuJ,UAAUvI,MAAMwI,MAAM,iBAAiB,UAAU1J,EAAE2J,aAAa3J,EAAE4J,gBAAgB5J,EAAE8B,4FAA4FzB,EAAEwJ,kBAAkB3I,KAAKqB,SAAS+G,eAAenJ,SAASH,IAAIK,EAAEwJ,kBAAkB3J,EAAAA,EAAEuJ,UAAUvI,MAAMwI,MAAM,iBAAiB,iFAAiFrJ,EAAEwJ,qBAAuzH,SAAWxJ,EAAEL,GAAGoF,EAAE3E,IAAIJ,IAAI+E,EAAE0E,IAAIzJ,EAAE,CAAC0J,IAAI,GAAGC,iBAAiB,OAAO5E,EAAEhC,IAAI/C,IAAI0J,IAAIvJ,KAAKR,EAAE,CAAx3HgI,CAAE9G,KAAK+G,KAAK/G,MAAMA,KAAKgB,WAAW,EAAC3B,EAAAA,EAAAA,IAAG,IAAIW,KAAKiB,iBAAiBY,MAAQ,KAAK7B,KAAKkI,iBAAiBlI,KAAK+I,oCAAoC/I,KAAKgJ,qBAAsBpK,EAAAA,KAAGS,EAAAA,EAAAA,IAAG,IAAIW,KAAKqB,SAAS4H,qBAAuB,IAAIjJ,KAAKgJ,oBAAqBpK,EAAAA,IAAGoB,KAAKqB,SAAS+G,eAAeC,GAAG,SAAU,IAAIrI,KAAKgJ,sBAAsB3J,EAAAA,EAAAA,IAAG,IAAI,CAACW,KAAKiB,iBAAiBsG,OAAOvH,KAAKiB,iBAAiBX,SAAW,KAAKN,KAAKkJ,0BAA0BlJ,KAAKmJ,wBAAwBnJ,KAAKoJ,mCAAoCxK,EAAAA,KAAGS,EAAAA,EAAAA,IAAG,IAAIW,KAAKqJ,0BAA4B,IAAIrJ,KAAKgJ,uBAAwBhJ,KAAKgB,WAAW,EAAC3B,EAAAA,EAAAA,IAAG,IAAIW,KAAKqB,SAASiI,MAAQ,KAAKtJ,KAAKkI,kBAAkBlI,KAAKuJ,oCAAoCvJ,KAAKmJ,0BAA2BvK,EAAAA,KAAGS,EAAAA,EAAAA,IAAG,IAAI,cAAcW,KAAKqB,SAASmI,QAAQ5I,KAAO,IAAIZ,KAAKoJ,kCAAmCxK,EAAAA,KAAI,YAAYoB,KAAKkJ,0BAA0BlJ,KAAKuJ,oCAAoCvJ,KAAKmJ,wBAAwBnJ,KAAKoJ,iCAAiC,CAACK,OAAAA,GAAUzJ,KAAKiB,iBAAiBsG,SAASvH,KAAKiB,iBAAiBsG,QAAO,EAAGvH,KAAK+G,KAAK2C,MAAM7H,MAAM,KAAK7B,KAAKkJ,0BAA0BlJ,KAAKmJ,yBAAm0F,SAAWhK,EAAEL,GAAG,IAAIoF,EAAE3E,IAAIJ,GAAG,MAAM,IAAIwK,MAAM,0CAA0C,MAAMnL,EAAE0F,EAAEhC,IAAI/C,GAAGH,EAAER,GAAGqK,IAAIe,YAAY9K,KAAK,EAAE,IAAIN,IAAI,IAAIQ,EAAE,MAAM,IAAI2K,MAAM,gDAAgDnL,EAAEqK,IAAIgB,OAAO7K,EAAE,GAAG,IAAIR,EAAEqK,IAAI5K,QAAQiG,EAAEgC,OAAO/G,EAAE,CAA3iGwE,CAAE3D,KAAK+G,KAAK/G,MAAMA,KAAK4I,IAAI,OAAO,KAAK,CAAC,6BAAIS,GAA4B,MAAMlK,EAAEa,KAAK+G,KAAK+C,cAAcC,MAAM,OAAO5K,EAAE6K,OAAO7K,EAAE8K,OAAO7L,EAAAA,IAAG8L,QAASC,IAAA,IAAEC,cAAcjL,GAAEgL,EAAA,OAAGhL,EAAE4K,QAAQ,CAACR,iCAAAA,GAAoC,MAAMpK,EAAEa,KAAKqB,SAASiI,MAAMxK,EAAEkB,KAAKmI,mBAAmB,GAAG,MAAMrJ,GAAG,MAAMK,GAAG,MAAML,GAAG,MAAMK,GAAGA,EAAE8I,OAAOnJ,GAAG,OAAO,IAAIN,EAAE,KAAKa,EAAE,KAAK,GAAG,MAAMF,GAAGkL,SAAS,CAAC,MAAMvL,EAAEK,EAAEkL,SAASvF,iBAAiBlG,GAAEF,EAAAA,EAAAA,IAAES,EAAEa,KAAK+G,MAAM,MAAMnI,IAAGuD,EAAAA,EAAAA,GAAEnC,KAAKqB,SAASvC,EAAEE,EAAAA,EAAEuJ,UAAUvI,OAAOxB,GAAET,EAAAA,EAAAA,IAAEa,EAAEoB,KAAK+G,KAAK,CAACuD,YAAYtK,KAAKqB,SAASiJ,cAAapL,EAAAA,EAAAA,MAAK,MAAMV,IAAIa,EAAE,CAACkL,QAAQpL,EAAEoL,QAAQC,KAAKrL,EAAEqL,KAAKH,SAASlL,EAAEkL,SAASI,MAAMtL,EAAEsL,MAAMC,OAAOvL,EAAEuL,QAAQ,CAAC1K,KAAKmI,mBAAmB9I,EAAEW,KAAKkI,iBAAgB,EAAGlI,KAAKiB,iBAAiBY,MAAMrD,EAAEwB,KAAKkI,iBAAgB,CAAE,CAACa,iCAAAA,GAAoC,MAAM5J,EAAEa,KAAKiB,iBAAiBY,MAAMrD,GAAEuE,EAAAA,EAAAA,IAAE5D,EAAEa,KAAK+G,KAAK/G,KAAK+G,KAAKjC,iBAAiB,IAAIhG,EAAAA,GAAG,IAAIE,EAAE,KAAK,MAAMR,IAAIQ,EAAE,CAACuL,QAAQ/L,EAAE+L,QAAQC,KAAKhM,EAAEgM,KAAKH,SAAS7L,EAAE6L,SAASI,MAAMjM,EAAEiM,MAAMC,OAAOlM,EAAEkM,SAAS1K,KAAKmI,mBAAmBnJ,EAAEgB,KAAKkI,iBAAgB,EAAGlI,KAAKqB,SAASiI,MAAM9K,EAAEwB,KAAKkI,iBAAgB,EAAGlI,KAAKmJ,uBAAuB,CAACD,uBAAAA,GAA0B,GAAGtF,EAAE,OAAO,MAAMzE,EAAEgE,EAAEnD,KAAK+G,MAAM,GAAI5H,EAAS,GAAGa,KAAKiB,iBAAiBsG,OAAO,MAAMpI,EAAE2J,kBAAkB3J,EAAE2J,mBAAmB9I,MAAM4D,GAAE,EAAGzE,EAAE2J,iBAAiB7H,iBAAiBsG,QAAO,EAAG3D,GAAE,GAAI,MAAMzE,EAAE2J,kBAAkB3J,EAAE2J,iBAAiB9I,KAAKgJ,oBAAoB7J,EAAE2J,iBAAiB9I,SAAS,CAAC,GAAG,MAAMb,EAAE2J,kBAAkB3J,EAAE2J,mBAAmB9I,KAAK,OAAO,MAAMb,EAAE2J,kBAAkB3J,EAAE2J,mBAAmB9I,OAAOb,EAAE2J,iBAAiB,KAAK9I,KAAKgJ,oBAAoB,CAAC,CAACG,qBAAAA,IAAy4B,SAAWhK,GAAG,MAAML,EAAEqE,EAAEhE,GAAGX,EAAEM,GAAGgK,iBAAiB,MAAMtK,GAAGyC,iBAAiBY,OAAOrD,EAAEyC,iBAAiBX,QAAQnB,EAAEuK,MAAM7H,MAAMrD,EAAEyC,iBAAiBY,MAAM1C,EAAEuK,MAAM7H,MAAM,IAAI,CAAvhC8I,CAAE3K,KAAK+G,KAAK,CAACqC,+BAAAA,IAA2gC,SAAWjK,GAAG,MAAML,EAAEqE,EAAEhE,GAAGX,EAAEM,GAAGgK,iBAAiB3J,EAAEuK,MAAMkB,aAAa,cAAcpM,GAAG6C,SAASmI,QAAQ5I,IAAI,CAArlCiK,CAAE7K,KAAK+G,KAAK,CAACiC,iBAAAA,GAAoB,MAAM7J,EAAE,MAAMa,KAAKiB,iBAAiBY,OAAO7B,KAAKiB,iBAAiBX,SAASN,KAAKiB,iBAAiBsG,OAAOzI,EAAE,GAAGN,EAAEW,IAAI,WAAWA,EAAEA,EAAE2L,OAAOtL,QAAQhB,GAAGM,EAAEQ,KAAKH,IAAIa,KAAKqB,SAAS+G,eAAe5I,QAAQhB,GAAGwB,KAAK+G,KAAK+C,cAActK,QAAShB,IAAIA,EAAEuM,YAAY,sBAAsBvM,IAAIA,EAAEwM,kBAAkB7L,IAAIL,EAAEG,SAAST,EAAEyM,QAAQ,kBAAkBzM,GAAGA,EAAE4L,cAAc5K,QAAShB,IAAIA,EAAEwM,kBAAkB7L,IAAIL,EAAEG,SAAST,EAAE0M,eAAiB,MAAMlL,KAAK+G,KAAKoE,iBAAiBnL,KAAK+G,KAAKoE,eAAeH,kBAAkB7L,IAAIa,KAAKqB,SAAS4H,qBAAqB,IAAG9J,EAAAA,EAAAA,GAAE,EAACrB,EAAAA,EAAAA,OAAKsB,EAAEuB,UAAU,YAAO,IAAQxB,EAAAA,EAAAA,GAAE,EAACrB,EAAAA,EAAAA,OAAKsB,EAAEuB,UAAU,gBAAW,IAAQxB,EAAAA,EAAAA,GAAE,EAACrB,EAAAA,EAAAA,OAAKsB,EAAEuB,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACrB,EAAAA,EAAAA,OAAKsB,EAAEuB,UAAU,4BAA4B,MAAMvB,GAAED,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,GAAE,iDAAiDR,GAAG,MAAM8E,EAAE,IAAIkH,IAAI,IAAIxH,GAAE,EAA+W,SAAST,EAAEhE,GAAG,OAAO+E,EAAEhC,IAAI/C,EAAE,C,IEA99EkM,E,0PAAG,IAAIC,EAAG,cAAcC,EAAAA,EAAE,cAAQF,EAAGrL,KAAX,GAAgBF,WAAAA,CAAYtB,GAAGuB,MAAMvB,GAAGwB,KAAKwL,OAAO1M,EAAAA,EAAEkB,KAAKyL,qBAAqB,EAAEzL,KAAK0L,0BAAyB,EAAG1L,KAAK2L,MAAM,OAAO3L,KAAK4L,iBAAiB,KAAK5L,KAAK6L,yBAAyB,KAAK7L,KAAK8L,sBAAsB,KAAK9L,KAAK+L,mBAAmB,KAAK/L,KAAKgM,WAAW,KAAKhM,KAAKiM,oBAAoBtH,EAAAA,GAAE3E,KAAKkM,wBAAwB,KAAKlM,KAAKmM,+BAA+B,KAAKnM,KAAKoM,kCAAkC,KAAKpM,KAAKqM,aAAYtI,EAAAA,EAAAA,KAAI/D,KAAKsM,cAAc,KAAKtM,KAAKuM,oBAAoB,CAAC,EAAEvM,KAAKwM,qBAAoBzO,EAAAA,EAAAA,MAAIiC,KAAKyM,eAAe,CAAC,CAACC,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,KAAK1M,KAAK2M,cAAaC,EAAAA,EAAAA,GAAGpO,EAAEuI,KAAK3E,MAAMgC,YAAY,CAACrD,UAAAA,GAAa,GAAG,MAAMf,KAAKqB,SAAS,MAAM,IAAIsI,MAAM,6DAA6D,MAAMnL,EAAEA,IAAIwB,KAAK6M,+BAA+BrO,GAAGA,EAAEsO,WAAW,MAAM9M,KAAKiB,iBAAiBY,QAAOiB,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,MAAM7B,KAAKqM,aAAarM,KAAK+M,WAAW,OAAO5N,EAAE,IAAI6N,EAAAA,EAAEhN,KAAK+G,KAAKkG,EAAAA,EAAEC,iBAAiBlN,KAAK4L,iBAAiBzM,EAAEa,KAAKmN,aAAanH,IAAI7G,GAAGa,KAAKgB,WAAW,CAAChB,KAAKoN,yBAAyBjO,GAAGA,EAAEkO,OAAOhF,GAAG,eAAgBvJ,IAAIkB,KAAKsN,aAAaxO,GAAGN,EAAEW,OAAQ,MAAML,GAAGkB,KAAK+G,KAAKwG,OAAOC,WAAWC,iBAAiBC,WAAWC,sBAAsBC,OAAO5O,EAAE,IAAIwF,EAAAA,EAAExE,KAAK+G,KAAM,CAACvI,EAAEW,KAAIwE,EAAAA,EAAAA,GAAE3D,KAAK+G,KAAKwG,MAAMM,SAAS,CAACC,YAAYtP,EAAEuP,cAAc5O,EAAE6O,iBAAiBlP,KAAMkB,KAAK6L,yBAAyB7M,EAAEgB,KAAKmN,aAAanH,IAAIhH,GAAGgB,KAAKgB,WAAW,CAAChB,KAAKiO,iCAAiCjP,GAAGA,EAAEqO,OAAOhF,GAAG,eAAgBlJ,IAAIa,KAAKkO,qBAAqB/O,GAAGX,EAAEQ,OAAQ,MAAMJ,EAAE,IAAI4F,EAAAA,EAAExE,KAAK+G,KAAM,CAACvI,EAAEW,KAAIuE,EAAAA,EAAAA,GAAE1D,KAAK+G,KAAKwG,MAAMM,SAAS,CAACC,YAAYtP,EAAEuP,cAAc5O,EAAE6O,iBAAiBlP,KAAMkB,KAAK8L,sBAAsBlN,EAAEoB,KAAKmN,aAAanH,IAAIpH,GAAGoB,KAAKgB,WAAW,CAAChB,KAAKmO,8BAA8BvP,GAAGA,EAAEyO,OAAOhF,GAAG,eAAgBlJ,IAAIa,KAAKoO,kBAAkBjP,GAAGX,EAAEI,OAAQoB,KAAK+L,mBAAmB/L,KAAKyM,eAAe5G,IAAK,CAAC1G,EAAEL,KAAK,MAAME,EAAE,IAAIkG,EAAAA,EAAElF,KAAK+G,KAAK5H,GAAG,OAAOa,KAAKgB,WAAW,CAAChB,KAAKqO,0BAA0BrP,GAAGA,EAAEqO,OAAOhF,GAAG,eAAgBlJ,IAAIa,KAAKsO,cAAcnP,EAAEL,GAAGN,EAAEQ,OAAQA,IAAKgB,KAAKmN,aAAaoB,QAAQvO,KAAK+L,oBAAoB/L,KAAKmM,gCAA+BqC,EAAAA,EAAAA,IAAGxO,KAAK+G,MAAM/G,KAAKoM,mCAAkCqC,EAAAA,EAAAA,IAAGzO,KAAK+G,MAAM/G,KAAKoM,kCAAkC3B,MAAMnI,EAAAA,GAAEtC,KAAKgB,YAAWlD,EAAAA,EAAAA,IAAG,IAAI,CAACkC,KAAKiB,iBAAiBY,MAAM7B,KAAKqB,SAASiJ,aAAe,IAAItK,KAAK0O,sBAAuB9O,EAAAA,KAAII,KAAKgB,WAAW,EAAC3B,EAAAA,EAAAA,IAAG,IAAI,WAAWW,KAAKoC,MAAQ,KAAKpC,KAAK2O,qBAAqB3O,KAAK4O,QAAS1P,EAAAA,KAAGpB,EAAAA,EAAAA,IAAG,IAAIkC,KAAK+G,KAAK3E,MAAMC,OAAS,IAAIrC,KAAK6O,oBAAqB,CAACpF,OAAAA,GAAUzJ,KAAK8O,mBAAmB9O,KAAK+O,2BAA2B/O,KAAKoM,mCAAkCpN,EAAAA,EAAAA,IAAEgB,KAAKoM,mCAAmCpM,KAAKmM,gCAA+BnN,EAAAA,EAAAA,IAAEgB,KAAKmM,+BAA+B,CAAC,SAAI/J,GAAQ,MAAM5D,IAAIwB,KAAKiB,iBAAiBY,MAAM1C,IAAIa,KAAK+M,WAAW,OAAOvO,EAAEA,GAAGW,EAAE,UAAUX,IAAIW,EAAE,SAAS,QAAQ,OAAO,CAAC,UAAI6P,GAAS,OAAOhP,KAAKuH,OAAOvH,KAAKiP,oBAAoB,YAAYjP,KAAKkP,KAAK,YAAY,MAAMlP,KAAKmP,mBAAmB,WAAW,KAAK,IAAI,CAAC,YAAI9N,CAAS7C,GAAG,GAAG,MAAMA,EAAE,MAAM,IAAImL,MAAM,6DAA6D3J,KAAKoP,cAAc,YAAYpP,KAAKwB,KAAK,WAAWhD,EAAE,CAAC,QAAI0Q,GAAO,OAAOlP,KAAK2L,KAAK,CAAC0D,SAAA,KAAOrP,KAAKsP,qBAAoB,EAAhC,GAAmC,cAAIvC,GAAa,OAAO/M,KAAKuP,KAAK,aAAa,CAAC,cAAIxC,CAAWvO,GAAGwB,KAAKwB,KAAK,aAAahD,GAAGwB,KAAKiB,iBAAiBuO,SAAS,MAAMhR,GAAG,WAAWA,EAAEoC,KAAKZ,KAAKyP,kBAAkB,CAAC,sBAAIR,GAAqB,OAAOjP,KAAKuH,SAASvH,KAAK+M,YAAY,UAAU/M,KAAK2L,KAAK,CAAC,sBAAIwD,GAAqB,OAAO,MAAMnP,KAAK+M,YAAY,UAAU/M,KAAK+M,WAAWnM,KAAKZ,KAAK+M,WAAW2C,kBAAkB,IAAI,CAACC,KAAAA,CAAMnR,GAAGwB,KAAK4P,6BAA6B5P,KAAK2L,MAAMnN,EAAEwB,KAAKuH,SAASvH,KAAK+G,KAAKO,WAAWtH,KAAK,CAAC4O,IAAAA,GAAO5O,KAAKuH,SAASvH,KAAK+G,KAAKO,WAAW,KAAK,CAACuI,UAAAA,GAAa7P,KAAK4P,6BAA6B,SAAS5P,KAAK2L,OAAO,MAAM3L,KAAKiB,iBAAiBY,QAAQ7B,KAAK2L,MAAM,QAAQ,CAACxK,YAAAA,GAAenB,KAAK2L,MAAM,OAAO3L,KAAK8P,oBAAoB,KAAK,CAACC,MAAAA,GAAS/P,KAAKgQ,mBAAkB,EAAG,CAACC,MAAAA,GAASjQ,KAAKgQ,mBAAkB,EAAG,CAACA,iBAAAA,CAAkBxR,GAAGwB,KAAK0O,sBAAsBlQ,GAAGwB,KAAK+O,0BAA0B,CAACmB,YAAAA,CAAa1R,GAAG,OAAOA,EAAEoC,MAAM,IAAI,eAAe,IAAIuP,EAAG3R,GAAG,OAAOwB,KAAKiP,mBAAmBjP,KAAKoQ,mBAAmB5R,IAAIA,EAAE6R,kBAAkBrQ,KAAKsQ,eAAe9R,IAAIA,EAAE6R,kBAAkB,MAAM,IAAI,eAAerQ,KAAKuQ,eAAe/R,GAAG,MAAM,IAAI,aAAawB,KAAKwQ,aAAahS,IAAIA,EAAE6R,kBAAkB,MAAM,IAAI,kBAAkB,IAAIF,EAAG3R,GAAG,OAAO,YAAYwB,KAAK2L,MAAMnN,EAAEiS,MAAO5S,gBAAgBmC,KAAK0Q,qBAAqBlS,IAAIA,EAAE6R,oBAAqBrQ,KAAKoQ,mBAAmB5R,IAAIA,EAAE6R,kBAAkB,MAAM,IAAI,OAAOrQ,KAAK+M,YAAYvO,EAAE6R,kBAAkB,MAAM,IAAI,WAAWrQ,KAAK2Q,WAAWnS,IAAIA,EAAE6R,kBAAkB,MAAM,IAAI,SAASrQ,KAAK4Q,SAASpS,IAAIA,EAAE6R,kBAAkB,CAACQ,gBAAAA,GAAmB7Q,KAAKiB,iBAAiB6P,SAAS9Q,KAAK+Q,kBAAkB,CAACT,cAAAA,CAAe9R,GAAG,MAAMW,EAAEa,KAAK+M,WAAW,GAAGvO,EAAEwS,YAAYhR,KAAKmP,oBAAoB,MAAMhQ,GAAG,UAAUA,EAAEyB,KAAK,CAAC,MAAM9B,GAAEmS,EAAAA,EAAAA,IAAGzS,GAAG,OAAOwB,KAAK4L,iBAAiByB,OAAO6D,KAAK,OAAO,CAACnP,OAAO5C,EAAEgS,eAAe,SAAS,QAAQC,YAAY5S,EAAE4S,YAAYzB,MAAM7Q,EAAEuS,YAAYvS,IAAIK,EAAEgS,gBAAe,GAAG,CAAE,CAAC,OAAM,CAAE,CAACZ,cAAAA,CAAe/R,GAAGwB,KAAKwM,oBAAoB1J,EAAEtE,EAAEsE,EAAE9C,KAAKwM,oBAAoBzJ,EAAEvE,EAAEuE,EAAE/C,KAAKsR,2BAA2B,UAAU9S,EAAE4S,aAAapR,KAAK8P,qBAAoBmB,EAAAA,EAAAA,IAAGzS,GAAGwB,KAAKuM,oBAAoB,CAACsC,eAAAA,GAAkB7O,KAAK8P,oBAAoB9P,KAAKwM,oBAAoBxM,KAAKuM,qBAAqBvM,KAAK0O,qBAAqB,CAAC8B,YAAAA,CAAahS,GAAG,GAAGA,EAAEwS,YAAYhR,KAAKmP,oBAAoB,MAAMnP,KAAKiB,iBAAiBY,MAAM,CAAC,MAAM1C,GAAE8R,EAAAA,EAAAA,IAAGzS,GAAG,OAAOwB,KAAK4L,iBAAiByB,OAAO6D,KAAK,OAAO,CAACnP,OAAO,MAAM4N,MAAMxQ,EAAEkS,YAAYlS,KAAI2D,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,MAAM7B,KAAKqM,aAAarM,KAAK+M,WAAW,MAAK,CAAE,CAAC,OAAM,CAAE,CAACqD,kBAAAA,CAAmB5R,GAAG,IAAIwB,KAAKiP,mBAAmB,OAAM,EAAG,MAAMnQ,GAAEmS,EAAAA,EAAAA,IAAGzS,GAAGQ,GAAE+E,EAAAA,EAAAA,KAAI,GAAG/D,KAAKuR,WAAWzS,GAAE,EAAGkB,KAAKuM,oBAAoBvN,GAAG,CAAC,GAAG,iBAAiBR,EAAEoC,KAAK,CAAC,MAAMzB,GAAEqS,EAAAA,EAAAA,IAAGxR,KAAK+G,KAAK3E,MAAMC,OAAOvD,EAAE2S,GAAIzR,KAAK+M,WAAW2E,EAAGvS,EAAEX,EAAEwS,UAAUhS,EAAEwK,OAAOxK,EAAE,CAAC,OAAO8D,EAAAA,EAAAA,GAAE9D,EAAEgB,KAAKqM,aAAarM,KAAKqB,SAASiI,OAAMqI,EAAAA,EAAAA,IAAG3S,EAAEgB,KAAK+G,KAAK/G,KAAK+G,KAAKjC,iBAAiB,IAAI3F,EAAAA,GAAG,iBAAiBX,EAAEoC,MAAMZ,KAAK4O,QAAO,CAAE,CAAC,OAAM,CAAE,CAAC,0BAAM8B,CAAqBlS,GAAG,GAAG,YAAYwB,KAAKkP,KAAK,OAAM,EAAG,MAAM/P,QAAQa,KAAK+G,KAAK6K,SAAQX,EAAAA,EAAAA,IAAGzS,IAAIM,EAAEK,EAAEiH,QAAQqI,GAAG,GAAG,GAAG3P,EAAE,CAAC,MAAMN,EAAE,YAAYM,EAAE8B,MAAM9B,EAAE+S,QAAQ,GAAGrT,EAAE,CAAC,MAAMW,EAAEX,EAAEsT,aAAatT,EAAEyM,MAAM9L,GAAGa,KAAKqB,SAAS+G,eAAe9I,KAAKH,EAAE,CAAC,MAAMA,EAAE2G,OAAOmF,MAAMjL,KAAKqB,SAAS+G,eAAe9I,KAAKH,EAAE2G,OAAOmF,OAAOjL,KAAKqB,SAAS4H,sBAAqB,EAAG,OAAOjJ,KAAK4O,QAAO,CAAE,CAAC+B,UAAAA,CAAWnS,GAAG,OAAOA,EAAEuT,MAAMC,EAAAA,IAAGxT,EAAEuT,MAAME,EAAAA,MAAKjS,KAAKuM,oBAAoB/N,EAAEuT,MAAK,EAAG,MAAM/R,KAAKsM,eAAetM,KAAK8P,oBAAoB9P,KAAKwM,oBAAoBxM,KAAKuM,sBAAqB,EAAG,CAACqE,QAAAA,CAASpS,GAAG,QAAQA,EAAEuT,MAAMC,EAAAA,IAAGxT,EAAEuT,MAAME,EAAAA,KAAIjS,KAAKuM,oBAAoB/N,EAAEuT,eAAe/R,KAAKuM,oBAAoB/N,EAAEuT,KAAK,MAAM/R,KAAKsM,eAAetM,KAAK8P,oBAAoB9P,KAAKwM,oBAAoBxM,KAAKuM,sBAAqB,EAAG,CAACe,YAAAA,CAAa9O,GAAG,GAAG,UAAUA,EAAEuD,QAAQ,MAAM/B,KAAKiB,iBAAiBY,QAAQrD,EAAE6S,YAAY,OAAO,MAAMlS,GAAEqS,EAAAA,EAAAA,IAAGxR,KAAK+G,KAAK3E,MAAMC,OAAO7D,EAAE6S,YAAYI,IAAI3O,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,MAAM7B,KAAKqM,aAAarM,KAAK+M,WAAW2E,EAAGvS,EAAE,KAAKa,KAAK4L,iBAAiBsG,eAAelS,KAAKiB,iBAAiBY,MAAM,CAACuL,wBAAAA,CAAyB5O,GAAG,OAAO2T,EAAAA,EAAAA,IAAG3T,EAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAK+M,WAAW,GAAG,MAAM/N,GAAG,UAAUA,EAAE4B,KAAK,OAAO,MAAMhC,EAAE,MAAMoB,KAAKiB,iBAAiBY,OAAMiB,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,OAAMkC,EAAAA,EAAAA,MAAK,KAAK5E,EAAEsE,MAAK2O,EAAAA,EAAAA,IAAGpS,KAAK+G,KAAK/H,EAAEqT,aAAa5O,KAAKzD,KAAKsS,4BAA4BtT,IAAIyE,KAAKzD,KAAKuS,sBAAsBvT,IAAIF,EAAE2E,KAAM,KAAK,MAAM7E,GAAGoB,KAAKwS,oBAAoB5T,MAAQ,CAAC0T,2BAAAA,CAA4B9T,GAAG,OAAOW,IAAI,GAAG,MAAMa,KAAKiB,iBAAiBY,MAAM,OAAO,KAAK,MAAa7C,EAAEqF,KAAKgC,KAAK,EAAEhC,KAAKoO,KAAI9Q,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,GAAE5B,KAAKiB,iBAAiBY,OAAO1C,EAAEuD,IAAIgK,YAAW3J,EAAAA,EAAAA,GAAE5D,EAAEuD,IAAIgK,aAAtF,KAAqG,GAAG9N,IAAGqH,EAAAA,EAAAA,IAAEjG,KAAKqM,YAAYxK,MAAM1C,EAAEsD,WAAW3E,IAAGmI,EAAAA,EAAAA,IAAEjG,KAAKqM,YAAYxK,MAAMrD,EAAEkU,YAAY,OAAOlU,EAAEmU,MAAMnU,EAAEmU,OAAO,EAAE3T,GAAGJ,EAAEI,EAAElB,EAAEqB,EAAE,CAACoT,qBAAAA,CAAsB/T,GAAG,MAAM,KAAK,GAAG,MAAMwB,KAAKiB,iBAAiBY,MAAM,OAAO,MAAM1C,GAAEgD,EAAAA,EAAAA,GAAEoB,EAAAA,GAAErB,MAAMlC,KAAKqM,YAAY7C,QAAQ1K,GAAEqD,EAAAA,EAAAA,GAAEoB,EAAAA,GAAErB,OAAMN,EAAAA,EAAAA,GAAE5B,KAAKqM,eAAczI,EAAAA,EAAAA,GAAE9E,EAAEA,GAAGN,EAAEmU,QAAOvT,EAAAA,EAAAA,GAAEN,EAAEA,EAAEK,GAAG,MAAMH,GAAE4F,EAAAA,EAAAA,GAAE9F,EAAEkB,KAAKiB,iBAAiBY,MAAM+Q,OAAO5S,KAAKiB,iBAAiBY,MAAMgR,QAAO9O,EAAAA,EAAAA,MAAK/D,KAAKwS,oBAAoBxT,GAAG,CAACkP,oBAAAA,CAAqB1P,GAAG,GAAG,UAAUA,EAAEuD,QAAQ,MAAM/B,KAAKiB,iBAAiBY,QAAQrD,EAAE6S,YAAY,OAAO,MAAMlS,GAAE2T,EAAAA,EAAAA,IAAG9S,KAAKiB,iBAAiBY,MAAM7B,KAAK+G,KAAKlD,mBAAmBkP,EAAAA,GAAGC,SAAQ/Q,EAAAA,EAAAA,OAAKnD,GAAE0S,EAAAA,EAAAA,IAAGxR,KAAK+G,KAAK3E,MAAMC,OAAO7D,EAAE6S,YAAYI,GAAIzS,GAAE2L,EAAAA,EAAAA,OAAIrF,EAAAA,EAAAA,IAAEnG,EAAEL,EAAEE,MAAK8D,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,MAAM7B,KAAKqM,aAAarM,KAAK+M,WAAW,CAACnM,KAAK,SAASqS,YAAY9T,EAAEuT,WAAW1T,GAAG,CAACiP,gCAAAA,CAAiCzP,GAAG,OAAO2T,EAAAA,EAAAA,IAAG3T,EAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAK+M,WAAW,GAAG,MAAM/N,GAAG,WAAWA,EAAE4B,KAAK,OAAO,MAAMhC,EAAE,MAAMoB,KAAKiB,iBAAiBY,OAAMiB,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,OAAMkC,EAAAA,EAAAA,MAAK,KAAK5E,EAAEsE,MAAK2O,EAAAA,EAAAA,IAAGpS,KAAK+G,KAAK/H,EAAEiU,cAAcxP,KAAKzD,KAAKkT,+BAA+BlU,IAAIyE,KAAKzD,KAAKmT,oCAAoCrU,EAAE2E,KAAM,KAAK,MAAM7E,GAAGoB,KAAKwS,oBAAoB5T,MAAQ,CAACwP,iBAAAA,CAAkB5P,GAAG,GAAG,UAAUA,EAAEuD,QAAQ,MAAM/B,KAAKiB,iBAAiBY,QAAQrD,EAAE6S,YAAY,OAAO,MAAMlS,GAAE2T,EAAAA,EAAAA,IAAG9S,KAAKiB,iBAAiBY,MAAM7B,KAAK+G,KAAKlD,mBAAmBkP,EAAAA,GAAGK,MAAKnR,EAAAA,EAAAA,OAAKnD,GAAE0S,EAAAA,EAAAA,IAAGxR,KAAK+G,KAAK3E,MAAMC,OAAO7D,EAAE6S,YAAYI,GAAIzS,GAAE2L,EAAAA,EAAAA,OAAIrF,EAAAA,EAAAA,IAAEnG,EAAEL,EAAEE,MAAK8D,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,MAAM7B,KAAKqM,aAAarM,KAAK+M,WAAW,CAACnM,KAAK,SAASqS,YAAY9T,EAAEuT,WAAW1T,GAAG,CAACmP,6BAAAA,CAA8B3P,GAAG,OAAO2T,EAAAA,EAAAA,IAAG3T,EAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAK+M,WAAW,GAAG,MAAM/N,GAAG,WAAWA,EAAE4B,KAAK,OAAO,MAAMhC,EAAE,MAAMoB,KAAKiB,iBAAiBY,OAAMiB,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,OAAMkC,EAAAA,EAAAA,MAAK,KAAK5E,EAAEsE,MAAK2O,EAAAA,EAAAA,IAAGpS,KAAK+G,KAAK/H,EAAEiU,cAAcxP,KAAKzD,KAAKkT,+BAA+BlU,IAAIyE,KAAKzD,KAAKmT,oCAAoCrU,EAAE2E,KAAM,KAAK,MAAM7E,GAAGoB,KAAKwS,oBAAoB5T,MAAQ,CAACsU,8BAAAA,CAA+B1U,GAAG,OAAOW,IAAI,GAAG,MAAMa,KAAKiB,iBAAiBY,MAAM,OAAO,KAAK,MAAM/C,GAAE0E,EAAAA,EAAAA,IAAEhF,EAAEyU,aAAajU,GAAEqU,EAAAA,EAAAA,IAAG7U,EAAEkU,WAAWvT,EAAEsD,UAAUzC,KAAKiB,iBAAiBY,MAAM2H,OAAO1K,GAAG,MAAM,IAAIK,EAAEmU,WAAWxU,EAAEyU,YAAYvU,GAAG,CAACmU,gCAAAA,GAAmC,OAAO3U,IAAI,GAAG,MAAMwB,KAAKiB,iBAAiBY,MAAM,OAAO,MAAM1C,GAAE0L,EAAAA,EAAAA,IAAEnG,EAAAA,GAAExC,MAAM1D,EAAE+U,YAAY/U,EAAE8U,YAAY,GAAG,MAAMnU,EAAE,OAAO,MAAML,GAAE6D,EAAAA,EAAAA,GAAEY,EAAAA,GAAErB,MAAMlC,KAAKqM,YAAYuG,OAAOzT,GAAGH,GAAE2D,EAAAA,EAAAA,GAAEY,EAAAA,GAAErB,MAAMlC,KAAKqM,YAAYwG,OAAO1T,GAAGP,GAAEgG,EAAAA,EAAAA,GAAE5E,KAAKiB,iBAAiBY,MAAM2H,OAAO1K,EAAEE,GAAE+E,EAAAA,EAAAA,MAAK/D,KAAKwS,oBAAoB5T,GAAG,CAAC0P,aAAAA,CAAc9P,EAAEW,GAAG,GAAG,UAAUX,EAAEuD,QAAQ,MAAM/B,KAAKiB,iBAAiBY,QAAQrD,EAAE6S,YAAY,OAAO,MAAMvS,GAAE0S,EAAAA,EAAAA,IAAGxR,KAAK+G,KAAK3E,MAAMC,OAAO7D,EAAE6S,YAAYI,GAAIzS,EAAEuE,EAAAA,GAAErB,OAAMoD,EAAAA,EAAAA,IAAEtF,KAAKiB,iBAAiBY,MAAMA,MAAM/C,EAAEE,MAAK8D,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,MAAM7B,KAAKqM,aAAarM,KAAK+M,WAAW,CAACnM,KAAK,SAAS4S,gBAAgBrU,EAAEuT,YAAWvP,EAAAA,EAAAA,IAAEnE,IAAI,CAACqP,yBAAAA,CAA0B7P,GAAG,OAAO2T,EAAAA,EAAAA,IAAG3T,EAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAK+M,WAAW,GAAG,MAAM/N,GAAG,WAAWA,EAAE4B,MAAM,MAAMZ,KAAKiB,iBAAiBY,MAAM,OAAO,MAAMjD,GAAEkE,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,OAAMkC,EAAAA,EAAAA,MAAK5E,EAAEsE,MAAK2O,EAAAA,EAAAA,IAAGpS,KAAK+G,KAAK/G,KAAKiB,iBAAiBY,MAAMA,QAAQ4B,KAAKzD,KAAKyT,uBAAuBzU,IAAIF,EAAE2E,KAAM,KAAKzD,KAAKwS,oBAAoB5T,MAAQ,CAAC6U,sBAAAA,CAAuBjV,GAAG,OAAOW,IAAI,GAAG,MAAMa,KAAKiB,iBAAiBY,MAAM,OAAO,MAAM/C,EAAEkB,KAAKyM,eAAejO,EAAEgV,iBAAiBxU,GAAE0U,EAAAA,EAAAA,IAAG5U,EAAEN,EAAEkU,WAAWvT,EAAEsD,UAAUzC,KAAK+G,KAAK3E,MAAMC,OAAOrC,KAAKqM,aAAYvJ,EAAAA,EAAAA,GAAE9C,KAAKiB,iBAAiBY,QAAQ7B,KAAKwS,oBAAoBxT,GAAG,CAACwT,mBAAAA,CAAoBhU,GAAG,MAAMW,EAAEa,KAAKiB,iBAAiB,GAAG,MAAM9B,EAAE,MAAM,IAAIwK,MAAM,kCAAkCxK,EAAE0C,MAAMrD,CAAC,CAACsR,mBAAAA,CAAoBtR,GAAO,IAALW,EAACnB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAG,GAAG,YAAYgC,KAAKkP,KAAK,OAAO,IAAIpQ,EAAEkB,KAAKsM,cAAc,GAAGtM,KAAKsM,cAAc,KAAK,MAAM9N,EAAE,OAAOwB,KAAK8O,wBAAwB9O,KAAK0O,sBAAsB,GAAG1O,KAAKuH,OAAO,CAAC,MAAMvI,EAAE,MAAMF,EAAEA,GAAEiF,EAAAA,EAAAA,KAAI,GAAGjF,EAAE,MAAMA,GAAEgE,EAAAA,EAAAA,GAAEhE,EAAE6U,GAAI,KAAK3T,KAAKuR,WAAW/S,GAAE,EAAGW,EAAEH,GAAG,CAAC,MAAMR,EAAEoV,EAAAA,GAAG,IAAIzU,GAAE,EAAG,MAAML,IAAIK,GAAEwC,EAAAA,EAAAA,IAAE6B,EAAAA,EAAAA,IAAE1E,EAAE+C,QAAO2B,EAAAA,EAAAA,IAAExE,EAAE6C,QAAQrD,IAAGmD,EAAAA,EAAAA,IAAED,EAAAA,EAAAA,GAAE6B,EAAAA,GAAErB,MAAMpD,EAAE8T,SAAQlR,EAAAA,EAAAA,GAAE6B,EAAAA,GAAErB,MAAMlD,EAAE4T,SAASpU,GAAGW,IAAIa,KAAKyL,qBAAqB,GAAGzL,KAAKsM,cAActN,CAAC,CAAC,CAAC,MAAMgB,KAAKsM,eAAe,MAAMtM,KAAKgM,YAAY,IAAIhM,KAAKyL,qBAAqBzL,KAAKgM,YAAW/H,EAAAA,EAAAA,IAAE,CAAC4P,OAAO1J,IAAiB,IAAf2J,UAAUtV,GAAE2L,EAAInK,KAAKyL,qBAAqBpH,KAAKgC,IAAIrG,KAAKyL,qBAAqBjN,GAAG,IAAIuV,EAAAA,IAAG,GAAG/T,KAAK0O,sBAAsB,IAAI1O,KAAKyL,sBAAsBzL,KAAK8O,sBAAsB,MAAM9O,KAAKsM,eAAe,MAAMtM,KAAKgM,WAAWhM,KAAK8O,mBAAmB,MAAM9O,KAAKsM,eAAetM,KAAK0O,qBAAqB,CAACI,gBAAAA,GAAmB9O,KAAKgM,YAAWpN,EAAAA,EAAAA,IAAEoB,KAAKgM,WAAW,CAACgI,cAAAA,CAAexV,GAAG,MAAMW,GAAEf,EAAAA,EAAAA,IAAEI,EAAEgI,EAAAA,GAAEtE,OAAO,OAAOlC,KAAK+G,KAAKnE,wBAAwBqR,+BAA+B9U,EAAEa,KAAK2M,cAAc3M,KAAK2M,aAAavG,QAAQC,GAAG,CAACkL,UAAAA,CAAW/S,EAAEW,EAAEL,EAAEE,GAAG,MAAMJ,EAAEoB,KAAKgU,eAAexV,GAAGV,EAAEyF,EAAAA,GAAErB,MAAM,IAAItD,EAAE0H,qBAAqBxI,GAAG,OAAM,EAAG,MAAM8B,EAAEhB,EAAEsV,qBAAqB3Q,EAAAA,GAAErB,OAAO7C,EAAEW,KAAK+G,KAAK3E,MAAMC,QAAOV,EAAAA,EAAAA,GAAE/B,EAAEP,EAAE8U,aAAa,IAAGvQ,EAAAA,EAAAA,GAAEhE,EAAEA,GAAG,GAAG,MAAMV,GAAEkV,EAAAA,EAAAA,IAAGtW,EAAEuB,GAAG4E,GAAG9E,EAAE,GAAG,GAAGD,EAAEmV,EAAAA,GAAGtW,GAAE6F,EAAAA,EAAAA,GAAEL,EAAAA,GAAErB,MAAMtC,EAAEqE,IAAG7E,EAAAA,EAAAA,GAAErB,EAAEA,EAAED,GAAG,MAAMM,EAAE4B,KAAKqB,SAASiJ,YAAYgK,EAAAA,GAAGC,OAAOD,EAAAA,GAAGE,uBAAuB1S,EAAEhD,EAAEkT,EAAAA,IAAGsC,EAAAA,GAAGG,SAAS3V,EAAEmT,EAAAA,IAAGqC,EAAAA,GAAGI,WAAWtW,EAAE,OAAOuW,EAAAA,EAAAA,IAAG5W,EAAE6B,EAAEV,EAAEA,EAAEG,EAAEyC,EAAE9B,KAAK+G,KAAKlD,mBAAmB7E,IAAG,CAAE,CAAC+P,wBAAAA,GAA2B/O,KAAKkM,yBAAwBtN,EAAAA,EAAAA,IAAEoB,KAAKkM,wBAAwB,CAACoF,wBAAAA,GAA2BtR,KAAK+O,2BAA2B/O,KAAK4L,iBAAiBxJ,OAAOwS,EAAAA,GAAG5U,KAAK6L,yBAAyBzJ,OAAOwS,EAAAA,GAAG5U,KAAK8L,sBAAsB1J,OAAOwS,EAAAA,GAAG5U,KAAKkM,wBAAwBlM,KAAKwL,OAAOqJ,WAAY,KAAK7U,KAAK4L,iBAAiBxJ,QAAQwS,EAAAA,GAAG5U,KAAK6L,yBAAyBzJ,QAAQwS,EAAAA,GAAG5U,KAAK8L,sBAAsB1J,QAAQwS,EAAAA,IAAK5U,KAAKiM,oBAAoB,CAACyC,mBAAAA,GAAsB,GAAGrD,EAAGiE,oBAAoB,OAAO,IAAI9Q,EAAEW,EAAEL,GAAE,EAAG,GAAG,MAAMkB,KAAKiB,iBAAiBY,MAAMrD,EAAEwB,KAAKiB,iBAAiBY,MAAM1C,EAAEa,KAAKsM,eAAe9N,EAAEM,GAAE,MAAO,CAAC,GAAG,MAAMkB,KAAKsM,cAAc,OAAOtM,KAAK8U,2BAA0B,QAAS9U,KAAK+U,4BAA2B,GAAI5V,EAAEX,EAAEwB,KAAKsM,cAAcxN,GAAE,CAAE,CAAC,GAAGkB,KAAK8U,2BAA2BhW,IAAIA,EAAE,CAAC,MAAMK,GAAE6V,EAAAA,EAAAA,IAAGxW,EAAEkG,EAAAA,GAAExC,QAAO+S,EAAAA,EAAAA,IAAGjV,KAAK4L,iBAAiBzM,EAAEX,EAAEwB,KAAK+G,KAAK3E,MAAMC,SAAQ6S,EAAAA,EAAAA,IAAGlV,KAAK6L,yBAAyB1M,EAAEX,EAAEwB,KAAK+G,KAAKlD,qBAAoBsR,EAAAA,EAAAA,IAAGnV,KAAK8L,sBAAsB3M,EAAEX,GAAGwB,KAAK+L,mBAAmBvM,QAAS,CAACV,EAAEE,KAAIoW,EAAAA,EAAAA,IAAGtW,EAAEkB,KAAKyM,eAAezN,GAAGG,EAAEX,GAAI,CAACwB,KAAK+U,4BAA4B/U,KAAKmP,qBAAqBrQ,GAAG,UAAUkB,KAAK2L,QAAQ3L,KAAKqV,6BAA6BlW,GAAGa,KAAKyP,kBAAkB,CAACqF,yBAAAA,CAA0BtW,GAAGwB,KAAK4L,iBAAiB0J,UAAU9W,EAAEwB,KAAK6L,yBAAyByJ,UAAU9W,EAAEwB,KAAK8L,sBAAsBwJ,UAAU9W,GAAGwB,KAAKqB,SAASiJ,YAAYtK,KAAK+L,mBAAmBvM,QAASL,GAAGA,EAAEmW,UAAU9W,EAAG,CAAC6W,4BAAAA,CAA6B7W,GAAG,MAAMW,GAAE6V,EAAAA,EAAAA,IAAGxW,EAAEkG,EAAAA,GAAExC,OAAOpD,GAAEoE,EAAAA,EAAAA,GAAEK,EAAAA,GAAErB,OAAMa,EAAAA,EAAAA,GAAEvE,EAAEoU,SAAQ7P,EAAAA,EAAAA,GAAEvE,EAAEqU,QAAQ,GAAG7T,GAAEmF,EAAAA,EAAAA,IAAEO,EAAAA,GAAExC,MAAMpD,GAAGF,GAAEsF,EAAAA,EAAAA,IAAElF,EAAEG,EAAEH,GAAGgB,KAAKoM,kCAAkCmJ,UAAU3W,EAAEoB,KAAKmM,+BAA+BoJ,UAAU3W,CAAC,CAACmW,0BAAAA,CAA2BvW,GAAG,MAAMW,EAAEa,KAAKoM,kCAAkCtN,EAAEkB,KAAKmM,+BAA+B3N,IAAIW,EAAEqW,UAAS,EAAG1W,EAAE0W,UAAS,GAAIrW,EAAEmB,QAAQ9B,EAAEM,EAAEwB,QAAQ9B,CAAC,CAACiR,gBAAAA,GAAmB,MAAMjR,GAAE4E,EAAAA,EAAAA,IAAEpD,KAAK+G,KAAK0O,gBAAgBjX,EAAE,IAAIwB,KAAKyL,qBAAqB,MAAMtM,GAAEoF,EAAAA,EAAAA,IAAE9C,EAAAA,IAAGtC,EAAE,IAAIa,KAAKyL,qBAAqBzL,KAAKoM,kCAAkCsJ,MAAMlX,EAAEwB,KAAKmM,+BAA+BwJ,gBAAgBxW,EAAEa,KAAKmM,+BAA+ByJ,UAAU9O,EAAAA,EAAC,CAAC+F,8BAAAA,CAA+BrO,GAAG,IAAIA,EAAEsO,SAAS,OAAO9M,KAAK4L,iBAAiBxL,aAAY,EAAGJ,KAAK6L,yBAAyBzL,aAAY,EAAGJ,KAAK8L,sBAAsB1L,aAAY,OAAQJ,KAAK+L,mBAAmBvM,QAAShB,IAAIA,EAAE4B,aAAY,IAAMJ,KAAK4L,iBAAiBxL,YAAYJ,KAAK4L,mBAAmBpN,EAAEwB,KAAK6L,yBAAyBzL,YAAYJ,KAAK6L,2BAA2BrN,EAAEwB,KAAK8L,sBAAsB1L,YAAYJ,KAAK8L,wBAAwBtN,EAAEwB,KAAK+L,mBAAmBvM,QAASL,IAAIA,EAAEiB,YAAYjB,IAAIX,GAAI,CAACoR,0BAAAA,GAA6B5P,KAAKqB,SAAS2G,OAAOhI,KAAK2O,oBAAoB,CAAC,QAAIkH,GAAO,MAAM,CAAChU,MAAM7B,KAAKiB,iBAAiBY,MAAMiU,sBAAsBtX,IAAIwB,KAAKiM,oBAAoBzN,GAAG,GAAG,SAASkT,EAAGlT,EAAEW,EAAEL,EAAEE,GAAG,MAAMJ,GAAEmX,EAAAA,EAAAA,IAAGjX,GAAE8C,EAAAA,EAAAA,GAAE5C,GAAGR,EAAEkO,WAAUzK,EAAAA,EAAAA,OAAKnE,GAAE6M,EAAAA,EAAAA,MAAI,OAAOrF,EAAAA,EAAAA,IAAE1G,EAAEJ,EAAEV,GAAG,CAAC8C,KAAK,QAAQ8O,kBAAkBvQ,EAAEgS,gBAAe,EAAGkB,WAAWzT,EAAE+T,MAAM,EAAED,WAAW5U,GAAG,IAAI,CAAC,SAASqS,EAAG3R,GAAG,MAAM,UAAUA,EAAE4S,aAAa,IAAI5S,EAAEwX,MAAM,EAACxX,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,cAAS,IAAQnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,IAAE,CAACpB,eAAc,KAAM4K,EAAG3K,UAAU,YAAO,IAAQnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,wBAAmB,IAAQnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,IAAE,CAAChB,UAAS,KAAMwK,EAAG3K,UAAU,QAAQ,OAAMnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,IAAE,CAAChB,UAAS,KAAMwK,EAAG3K,UAAU,SAAS,OAAMnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,WAAW,OAAMnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,gCAA2B,IAAQnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,aAAQ,IAAQnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,OAAO,OAAMnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,IAAE,CAACmU,MAAM,QAAQ3K,EAAG3K,UAAU,aAAa,OAAMnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,qBAAqB,OAAMnC,EAAAA,EAAAA,GAAE,EAACsD,EAAAA,EAAAA,OAAKwJ,EAAG3K,UAAU,qBAAqB,MAAM2K,EAAGD,GAAG7M,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,GAAE,2CAA2C4M,GAAI,MAAMqI,GAAG5P,EAAAA,EAAAA,KAAI0N,GAAG1M,EAAAA,EAAAA,M,0BCAt6jB,IAAI5B,EAAE,cAAchE,EAAAA,EAAEW,WAAAA,CAAYhB,GAAGiB,MAAMjB,GAAGkB,KAAKkW,mBAAmB,KAAKlW,KAAKmW,sBAAsB,KAAKnW,KAAKwP,UAAS,EAAGxP,KAAKoW,SAAQ,CAAE,CAACrV,UAAAA,GAAa,MAAMjC,EAAEkB,KAAKiB,iBAAiB,GAAG,MAAMnC,EAAE,MAAM,IAAI6K,MAAM,wCAAwC3J,KAAKkW,oBAAmBrL,EAAAA,EAAAA,IAAE7K,KAAK+G,MAAM/G,KAAKmW,uBAAsB/W,EAAAA,EAAAA,IAAEY,KAAK+G,MAAM/G,KAAKgB,WAAW,EAACpC,EAAAA,EAAAA,IAAG,KAAK,MAAMO,EAAE,MAAML,EAAE+C,OAAO7B,KAAKiB,iBAAiBX,SAASiH,OAAO/I,GAAGwB,KAAKiB,kBAAkBmV,QAAQxX,EAAE4Q,SAAStQ,EAAE6H,KAAKnH,GAAGI,MAAMyV,eAAepW,GAAGO,EAAE,MAAM,CAACU,QAAQnB,EAAEoI,OAAO/I,EAAE4X,QAAQxX,EAAE4Q,SAAStQ,EAAE0W,WAAUlX,EAAAA,EAAAA,IAAEW,GAAGgX,cAAalS,EAAAA,EAAAA,IAAE9E,KAAOP,GAAGkB,KAAKyP,iBAAiB3Q,GAAII,EAAAA,KAAGN,EAAAA,EAAAA,IAAG,IAAIE,EAAE+C,MAAQ/C,GAAGkB,KAAKsW,aAAaxX,GAAII,EAAAA,KAAGV,EAAAA,EAAAA,IAAEwB,KAAKkW,qBAAoB1X,EAAAA,EAAAA,IAAEwB,KAAKmW,wBAAuBvX,EAAAA,EAAAA,IAAG,IAAI,cAAcoB,KAAKqB,UAAUmI,QAAQ5I,KAAO9B,IAAIkB,KAAKkW,mBAAmBtL,aAAa9L,EAAEkB,KAAKmW,sBAAsBvL,aAAa9L,GAAII,EAAAA,KAAI,CAACuK,OAAAA,GAAUzJ,KAAK4I,IAAI,OAAO,KAAK,CAAC0N,YAAAA,CAAaxX,GAAG,GAAG,MAAMA,EAAE,OAAOkB,KAAKkW,mBAAmBV,UAAS,EAAGxV,KAAKmW,sBAAsBX,UAAS,EAAG,MAAMrW,GAAE+E,EAAAA,EAAAA,GAAEpC,EAAAA,GAAEI,OAAMnE,EAAAA,EAAAA,GAAEe,EAAE8T,SAAQ7U,EAAAA,EAAAA,GAAEe,EAAE+T,QAAQ,GAAGrU,GAAEQ,EAAAA,EAAAA,IAAEiF,EAAAA,GAAE/B,MAAM/C,GAAGP,GAAEmF,EAAAA,EAAAA,IAAEjF,EAAEmF,EAAAA,GAAE/B,OAAOhD,GAAEpB,EAAAA,EAAAA,IAAEU,EAAEI,EAAEJ,GAAGwB,KAAKmW,sBAAsBZ,UAAUrW,EAAEc,KAAKkW,mBAAmBX,UAAUrW,CAAC,CAACuQ,gBAAAA,CAAgBtF,GAAsE,IAApE7J,QAAQxB,EAAEyI,OAAOpI,EAAEiX,QAAQ5X,EAAEgR,SAAS5Q,EAAEgX,UAAU1W,EAAEmX,aAAazW,GAAEuK,EAAEnK,KAAKmW,sBAAsBT,MAAM9V,EAAEI,KAAKmW,sBAAsB1L,MAAMjM,EAAE2D,EAAAA,GAAEwI,EAAAA,GAAE3K,KAAKmW,sBAAsBI,eAAepX,EAAE,MAAKyF,EAAAA,EAAAA,IAAE,GAAG5E,KAAKkW,mBAAmBP,gBAAgB/R,EAAAA,GAAE5D,KAAKkW,mBAAmBN,UAAUhX,EAAEM,EAAEd,EAAAA,GAAE4B,KAAKkW,mBAAmB5V,QAAQxB,EAAEkB,KAAKmW,sBAAsB7V,QAAQxB,CAAC,IAAGA,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKuD,EAAExC,UAAU,YAAO,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKuD,EAAExC,UAAU,gBAAW,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKuD,EAAExC,UAAU,wBAAmB,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKuD,EAAExC,UAAU,gBAAW,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKuD,EAAExC,UAAU,eAAU,GAAQwC,GAAErE,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,GAAE,oDAAoD8D,G,gBCA7pE,IAAI/E,GAAE,eAAce,EAAAA,EAAAA,GAAEP,EAAAA,IAAIkB,WAAAA,CAAYhB,GAAGiB,MAAMjB,GAAGkB,KAAKY,KAAK,gBAAgBZ,KAAKqB,SAAS,KAAKrB,KAAKgH,KAAK,KAAKhH,KAAK6B,MAAM,KAAK7B,KAAKuH,QAAO,EAAGvH,KAAKkH,cAAc,KAAKlH,KAAKwW,uBAAuB,KAAKxW,KAAKyW,oBAAoB,IAAI,CAAC1V,UAAAA,GAAaf,KAAKwW,uBAAuB,IAAI1Y,EAAE,CAACiJ,KAAK/G,KAAK+G,KAAK1F,SAASrB,KAAKqB,SAASJ,iBAAiBjB,OAAOA,KAAKyW,oBAAoB,IAAIpX,EAAE,CAAC0H,KAAK/G,KAAK+G,KAAK1F,SAASrB,KAAKqB,SAASJ,iBAAiBjB,OAAOA,KAAKgB,YAAWjD,EAAAA,GAAAA,IAAEiC,KAAKJ,GAAG,CAAC6J,OAAAA,IAAU1G,EAAAA,GAAAA,IAAE/C,MAAMA,KAAKwW,wBAAuBhY,EAAAA,EAAAA,IAAEwB,KAAKwW,wBAAwBxW,KAAKyW,qBAAoBjY,EAAAA,EAAAA,IAAEwB,KAAKyW,oBAAoB,CAAC,YAAI3F,GAAW,OAAO9Q,KAAKwW,uBAAuBJ,OAAO,CAAC,YAAItF,CAAShS,GAAGkB,KAAKwW,uBAAuBJ,SAAStX,CAAC,CAAC,YAAI0Q,GAAW,OAAOxP,KAAKwW,wBAAwBhH,WAAU,CAAE,CAAC,YAAIA,CAAS1Q,GAAGkB,KAAKwW,yBAAyBxW,KAAKwW,uBAAuBhH,SAAS1Q,EAAE,CAAC,YAAI4X,GAAW,CAACC,KAAAA,CAAM7X,GAAG,OAAOkB,KAAKuH,QAAO,GAAGzF,EAAAA,GAAAA,IAAE9B,KAAK,CAAC+H,iBAAiBjJ,EAAE4I,gBAAgB5I,GAAGA,EAAE6Q,MAAM,UAAU,CAAC,wBAAMiH,CAAmB9X,GAAG,OAAOkB,KAAKuH,QAAO,GAAGtD,EAAAA,GAAAA,IAAEjE,KAAK,CAAC4H,aAAa9I,EAAE4I,gBAAgB5I,GAAGA,EAAE6Q,MAAM,YAAY,IAAG7Q,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAAC4B,UAAS,KAAM1C,GAAEuC,UAAU,YAAO,IAAQ7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAACwB,eAAc,EAAGmW,aAAY,KAAMzY,GAAEuC,UAAU,gBAAW,IAAQ7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,YAAO,IAAQ7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,aAAQ,IAAQ7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,cAAS,IAAQ7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,WAAW,OAAM7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,WAAW,OAAM7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,qBAAgB,IAAQ7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,8BAAyB,IAAQ7B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKd,GAAEuC,UAAU,2BAAsB,GAAQvC,IAAEU,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,GAAE,+CAA+CZ,IAAG,MAAMM,GAAEN,E,+MCAziC,MAAMA,UAAU0D,EAAAA,GAAG,SAASK,EAAEL,GAAG,MAAM1D,EAAE,IAAIL,EAAAA,IAAG+Y,OAAO3U,EAAE4U,SAAS5T,EAAE6T,SAAS5X,GAAGhB,GAAG6Y,OAAOhT,EAAEiT,yBAAyBtS,GAAG9C,EAAE,OAAO9C,EAAAA,EAAAA,IAAEmD,EAAEL,GAAG1D,EAAE+Y,QAAQrY,EAAAA,EAAEgD,GAAG1D,EAAE+Y,QAAQvY,EAAAA,EAAEkD,GAAG1D,EAAE2Y,SAASI,QAAQvX,EAAAA,GAAEkC,GAAG1D,EAAE+Y,QAAQjY,EAAAA,EAAE4C,GAAG1D,EAAE+Y,QAAQhT,EAAAA,EAAErC,GAAG1D,EAAEgZ,WAAWpR,IAAI9B,EAAAA,EAAEmT,SAAS,QAAQjZ,EAAEgZ,WAAWpR,IAAI9B,EAAAA,EAAEoT,IAAI,QAAQ1S,GAAGxG,EAAEgZ,WAAWpR,IAAI9B,EAAAA,EAAEqT,kBAAkB,SAASpV,EAAEqV,KAAKxR,IAAItH,EAAAA,CAAC;;;;;OAK5nDZ,EAAAA,EAAAA,IAAE8G,EAAE,wCAAwCxF,EAAE4G,IAAI,OAAO,OAAO,CAACyR,WAAU,IAAKrY,EAAE4G,IAAI,YAAY,QAAQ7C,EAAEgU,QAAQ3Y,EAAAA,GAAG2E,EAAEuU,SAAS1R,IAAI,IAAI3G,EAAAA,EAAE,UAAWF,GAAGA,EAAE4G,SAAU,IAAInC,EAAAA,EAAE,MAAOzE,GAAGA,EAAEwY,YAAaH,KAAKxR,IAAItH,EAAAA,CAAC;;;OAG/MZ,EAAAA,EAAAA,IAAEmG,IAAI9E,EAAAA,EAAEyY,sBAAsB;;iEAE6BxZ,CAAC,CAAC,MAAM+E,EAAE0U,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,4BAA4B7Z,EAAE8Z,MAAM/V,GAAGgW,OAAOC,YAAY,CAACnC,MAAM,W,mQCV2mB,MAAMrR,UAAUhF,EAAAA,EAAEE,WAAAA,CAAYX,EAAES,GAAGG,MAAMZ,EAAES,EAAE,IAAIpB,EAAAA,EAAEE,EAAAA,EAAG,IAAI,kCAAoC4G,EAAE,CAAC+S,iBAAAA,CAAkB7Z,EAAEoB,GAAG,MAAM0Y,QAAQpU,EAAE+S,OAAOvY,EAAE6Z,aAAa3T,EAAE4T,SAASlT,GAAG9G,EAAEsI,EAAE5C,IAAIpF,EAAAA,EAAE2Z,KAAK,OAAOxU,EAAAA,EAAAA,IAAE,CAACyU,UAASvZ,EAAAA,EAAAA,IAAET,GAAGoI,EAAEnF,EAAAA,IAAE3C,EAAAA,EAAAA,IAAEkF,GAAG,KAAKyU,SAAQ/U,EAAAA,EAAAA,IAAE0B,GAAGsT,UAAU,CAACC,MAAK3Z,EAAAA,EAAAA,IAAEgF,IAAI4U,YAAWhb,EAAAA,EAAAA,IAAEU,GAAGua,aAAYna,EAAAA,EAAAA,IAAEsF,EAAExF,GAAGsa,WAAW5Z,EAAAA,GAAE6Z,aAAarU,EAAExG,EAAAA,GAAE,KAAK8a,YAAYtU,EAAEhF,EAAE7B,EAAAA,GAAE+D,EAAAA,GAAE,KAAKqX,eAAc9Z,EAAAA,EAAAA,IAAEb,IAAI,CAAC4a,kBAAAA,CAAmBja,GAAG,OAAOa,KAAKqZ,kBAAkBrZ,KAAKqY,kBAAkBlZ,GAAE,GAAIa,KAAKqY,kBAAkBlZ,GAAE,EAAG,CAACma,WAAAA,CAAYna,GAAG,OAAOA,EAAEa,KAAKqZ,kBAAkBtZ,MAAMuZ,aAAa,EAAE,MAAMhU,EAAE,IAAI8F,IAAI,CAAC,CAAClH,EAAAA,EAAEmT,SAAS,GAAG,CAACnT,EAAAA,EAAEoT,IAAI,GAAG,CAACpT,EAAAA,EAAEqT,kBAAkB,K,0DCAt7B,MAAMvY,UAAUJ,EAAAA,EAAEkB,WAAAA,CAAYX,GAAGY,QAAQC,KAAKuZ,OAAOpa,EAAEa,KAAKwY,SAAS1Z,EAAAA,GAAE0a,KAAKxZ,KAAKyZ,cAAa,EAAGzZ,KAAK0Z,YAAW,EAAG1Z,KAAKuY,cAAa,EAAGvY,KAAK2Z,kBAAiB,EAAG3Z,KAAK4Z,kBAAiB,EAAG5Z,KAAKkX,0BAAyB,EAAGlX,KAAK6Z,sBAAsBrb,EAAAA,EAAEgb,KAAKxZ,KAAK8Z,eAAe5a,EAAAA,GAAEsa,KAAKxZ,KAAK+Z,2BAA0B,EAAG/Z,KAAKga,eAAc,EAAGha,KAAKia,gCAA+B,EAAGja,KAAKka,WAAU,CAAE,GAAE/a,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,GAAE,CAACua,MAAMrb,EAAAA,GAAEsb,SAASpb,EAAE2B,UAAU,gBAAW,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,oBAAe,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,kBAAa,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,oBAAe,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,gCAA2B,GCA3G,MAAMkK,UAAUzL,EAAAA,EAAEU,WAAAA,CAAYX,GAAGY,MAAMZ,EAAE2D,GAAG9C,KAAKqa,yBAAyB3b,EAAEsB,KAAKsa,eAAc,EAAGta,KAAKua,SAAS,IAAInP,IAAI,CAAC,CAAChN,EAAAA,EAAEoc,gBAAgBrb,IAAGX,EAAAA,EAAAA,IAAEW,IAAI,CAACf,EAAAA,EAAEqc,qBAAqBtb,IAAGS,EAAAA,EAAAA,IAAET,IAAIa,KAAK0a,WAAWhB,YAAY,CAACtb,EAAAA,EAAEuc,mCAAmCxb,IAAGS,EAAAA,EAAAA,IAAET,KAAKa,KAAK0a,WAAWhB,YAAY,CAACtb,EAAAA,EAAEwc,gBAAgBzb,IAAGS,EAAAA,EAAAA,IAAET,KAAIX,EAAAA,EAAAA,IAAEW,MAAMa,KAAK6a,eAAe,IAAIvV,EAAEnG,EAAEoa,OAAO,CAACuB,OAAAA,GAAU9a,KAAK+a,cAAc,CAACC,aAAQ,GAAQ,CAACC,gBAAAA,CAAiB9b,EAAEX,GAAG,OAAOuB,MAAMkb,iBAAiB9b,EAAEX,EAAEwB,KAAK6a,gBAAgB7a,KAAK6a,eAAerC,SAASxY,KAAK0a,WAAWlC,SAASxY,KAAK6a,eAAeK,cAAclb,KAAK0a,WAAWQ,cAAclb,KAAK6a,eAAenB,WAAW1Z,KAAK0a,WAAWhB,WAAW1Z,KAAK6a,eAAetC,aAAa/Z,EAAE+Z,aAAavY,KAAK6a,eAAevC,QAAQ9Z,EAAE8Z,QAAQtY,KAAK6a,eAAepB,aAAajb,EAAE6D,OAAO8Y,kBAAkBrd,EAAAA,GAAEkC,KAAK6a,eAAelB,iBAAiBnb,EAAEmb,iBAAiB3Z,KAAK6a,eAAejB,iBAAiBpb,EAAEob,iBAAiB5Z,KAAK6a,eAAe3D,yBAAyBlX,KAAK0a,WAAWxD,yBAAyBlX,KAAK6a,cAAc,CAAC,WAAIva,GAAU,OAAM,CAAE,CAAC8a,gBAAAA,CAAiBjc,GAAG,OAAO,IAAIgE,EAAEhE,EAAE,CAACkc,kBAAAA,GAAqB,IAAIlc,EAAE8E,EAAAA,GAAE,OAAOjE,KAAK0a,WAAWxD,2BAA2B/X,EAAEA,EAAE2I,QAAQwT,IAAIjc,EAAAA,EAAEkY,oBAAoB,IAAIxT,EAAE5E,EAAE,EAAE,MAAMgE,UAAUvE,EAAAA,EAAEkB,WAAAA,CAAYX,GAAGY,MAAM,IAAIZ,KAAKA,EAAEoc,SAASb,aAAa1a,KAAK0a,WAAWvb,EAAE,MAAMX,EAAEwB,KAAKwb,UAAUd,WAAWM,SAAQhc,EAAAA,EAAAA,GAAER,IAAIW,EAAE0O,SAAS4N,QAAQzV,IAAIxH,EAAE,CAACsc,OAAAA,GAAU9a,KAAK0a,WAAW7M,SAAS4N,QAAQxW,OAAOjF,KAAKwb,UAAUd,WAAWM,QAAQ,CAACU,SAAAA,CAAUvc,GAAG,OAAOa,KAAK2b,aAAaja,EAAEvC,EAAE,EAAE,MAAM4E,UAAUjC,EAAAA,EAAE8Z,KAAAA,CAAMpd,EAAEoB,EAAEd,EAAEF,EAAEI,EAAEE,GAAG,IAAI,MAAMpB,KAAKkC,KAAK6b,mBAAmBC,OAAOC,OAAO,CAAC,MAAMnd,EAAEE,EAAEoD,IAAIpE,GAAG,GAAGc,EAAE,GAAGd,IAAIuB,EAAAA,EAAEkY,kBAAkB,EAACxZ,EAAAA,EAAAA,IAAE,IAAIa,EAAEod,MAAM,MAAMxd,EAAEQ,EAAEid,SAASne,EAAEqB,EAAAA,IAAGX,IAAG0F,EAAAA,EAAAA,IAAEtF,EAAEJ,EAAEU,EAAE,MAAM0E,EAAAA,EAAAA,IAAE9F,EAAEc,EAAEJ,EAAEoB,EAAEZ,EAAEE,EAAE,CAAC,OAAO,IAAI,EAAE,MAAM4D,UAAU5D,EAAAA,GAAEY,WAAAA,CAAYX,EAAEX,GAAGuB,QAAQC,KAAKgb,QAAQ7b,EAAEa,KAAKuZ,OAAO/a,EAAEwB,KAAK0Z,YAAW,EAAG1Z,KAAKkb,eAAc,EAAGlb,KAAKwY,SAAS1Z,EAAAA,GAAE0a,KAAKxZ,KAAK+F,QAAQ,EAAE/F,KAAKkX,0BAAyB,CAAE,CAAC,aAAIS,GAAY,OAAO3X,KAAKgb,QAAQrD,SAAS,E,6CCAl+F,MAAMnZ,EAAE,CAAC0d,KAAK,CAAC,EAAE,GAAGC,IAAI,CAAC,EAAE,GAAG,YAAY,CAAC,EAAE,GAAG,aAAa,CAAC,EAAE,GAAG,YAAY,CAAC,EAAE,IAAIjd,EAAE,CAACgd,KAAK1d,EAAE0d,KAAK,WAAW,IAAI1d,EAAE0d,QAAQ1d,EAAE2d,KAAKA,IAAI3d,EAAE2d,IAAI,YAAY3d,EAAE,aAAa,gBAAgB,IAAIA,EAAE,gBAAgBA,EAAE2d,KAAK,oBAAoB,IAAI3d,EAAE,gBAAgBA,EAAE2d,OAAO3d,EAAE2d,KAAKC,KAAK,KAAK,aAAa5d,EAAE,cAAc,iBAAiB,IAAIA,EAAE,iBAAiBA,EAAE,cAAc,qBAAqB,IAAIA,EAAE,iBAAiBA,EAAE,gBAAgBA,EAAE,cAAc,YAAYA,EAAE,aAAa6d,MAAM,MAAM3d,EAAE,EAAoE,SAASuF,EAAEzF,GAAG,MAAM,CAAC8d,QAAQ,CAAC9d,EAAEA,GAAG+d,WAAW,EAAE,CAAC,SAASze,EAAEU,GAAG,MAAM,UAAUA,GAAGoC,KAAqB,SAAWpC,GAAG,OAAO,MAAMA,EAApM,SAAWA,EAAEU,GAAG,OAAO,MAAMV,EAAEA,EAAE,CAAC8d,QAAQ9d,EAAEkL,QAAQ6S,WAAWrd,EAAE,CAAqIN,CAAEM,EAAEV,GAAGE,GAAG,IAAI,CAA3DW,CAAEb,EAAEge,OAAO,IAAI,C,4DCA9f,SAAStd,EAAEA,GAAG,MAAMV,EAAE,IAAIW,EAAAA,EAAED,GAAG,OAAOV,EAAE2G,QAAQE,MAAMvH,EAAAA,EAAEyH,IAAI/G,EAAE2G,QAAQsX,eAAc,EAAGje,CAAC,C,uECAlC,MAAMoB,UAAUd,EAAAA,GAAEgB,WAAAA,GAAcC,SAAS/B,WAAWgC,KAAK0c,MAAKle,EAAAA,EAAAA,IAAE,EAAE,EAAE,GAAGwB,KAAK2c,MAAKne,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAE,CAACoe,SAAAA,CAAUpe,EAAEM,EAAEc,EAAEhB,EAAEO,EAAED,GAAG,OAAOnB,EAAAA,EAAAA,IAAES,EAAEoB,EAAEhB,EAAEO,OAAE,EAAOD,EAAE,CAAC2d,eAAAA,CAAgBre,EAAEM,EAAEc,EAAEhB,GAAG,OAAOoB,KAAK0c,KAAK,GAAG1c,KAAK2c,KAAK,GAAG/c,EAAE,GAAGI,KAAK0c,KAAK,GAAG1c,KAAK2c,KAAK,GAAG/c,EAAE,IAAG7B,EAAAA,EAAAA,IAAES,EAAEM,EAAEkB,KAAK0c,KAAK1c,KAAK2c,UAAK,EAAO/d,EAAE,E,qFCAuiCgG,E,sBAAlsC,SAASV,EAAE1F,EAAEV,GAAG,OAAOU,EAAE,GAAGV,EAAE,GAAGU,EAAE,GAAGV,EAAE,EAAE,CAA2J,SAASwH,EAAE9G,EAAEoB,EAAEhB,EAAEM,GAAM,IAAJ4C,EAAC9D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACY,EAAG,OAAOd,EAAAA,EAAAA,IAAEgF,EAAE5D,EAAEN,IAAGd,EAAAA,EAAAA,IAAE8F,EAAEhE,EAAEkC,GAApG,SAAWtD,EAAEV,EAAE8B,GAAG,MAAMT,GAAED,EAAAA,EAAAA,IAAEU,EAAE9B,IAAGgE,EAAAA,EAAAA,IAAElC,IAAUxB,EAAAA,EAAAA,IAAEI,EAAEoB,EAAET,EAAE,CAAkD4E,CAAEW,EAAEd,EAAEd,IAAG3D,EAAAA,EAAAA,IAAEX,EAAEsD,EAAE4C,EAAE,CAAwF,SAAStB,EAAE5E,EAAEW,EAAED,EAAE4C,IAAGhE,EAAAA,EAAAA,IAAEgF,EAAE3D,EAAED,GAAG,MAAMd,EAAE0D,GAAElD,EAAAA,EAAAA,IAAEkE,GAAG,OAAOlD,EAAAA,EAAAA,IAAEpB,EAAEU,EAAE4D,EAAE1E,EAAE,CAA2J,SAAS+E,EAAE3E,EAAEW,GAAG,MAAMP,EAAEJ,EAAEmR,MAAMzQ,EAAEV,EAAEse,IAAIhb,EAAE3C,EAAEwQ,MAAMvR,EAAEe,EAAE2d,IAAIhe,GAAEhB,EAAAA,EAAAA,IAAEgF,EAAE5D,EAAEN,GAAGQ,GAAEtB,EAAAA,EAAAA,IAAE6E,EAAEvE,EAAE0D,GAAG9C,EAAEkF,EAAEpF,EAAEM,GAAG,GAAGiF,KAAKoO,IAAIzT,IAAImF,EAAE,MAAM,GAAG,MAAMpG,GAAED,EAAAA,EAAAA,IAAE8F,EAAEhF,EAAEkD,GAAGmC,EAAEC,EAAE9E,EAAErB,GAAGiB,EAAE+E,EAAEG,EAAEpF,EAAEf,GAAGiB,EAAE,GAAGiF,GAAG,GAAG,GAAGF,GAAG,GAAG5E,EAAEyB,OAAOgE,EAAEmY,KAAK,MAAM,EAACnd,EAAAA,EAAAA,IAAE8E,EAAE9F,EAAEE,EAAEmF,SAAS,GAAGzF,EAAEoC,OAAOgE,EAAEmY,OAAOhZ,GAAG,GAAG5E,EAAEyB,OAAOgE,EAAEmY,MAAM,MAAM,EAACnd,EAAAA,EAAAA,IAAE8E,EAAE9F,EAAEE,EAAEmF,IAAI,MAAM,EAAE,CAAC,SAASvF,EAAEF,EAAEW,EAAEP,GAAG,MAAMR,EAAE,GAAGU,GAAEhB,EAAAA,EAAAA,IAAEgF,EAAEtE,EAAEse,IAAIte,EAAEmR,OAAOvQ,GAAEtB,EAAAA,EAAAA,IAAE6E,EAAEnE,EAAEmR,MAAMxQ,GAAGH,GAAE8C,EAAAA,EAAAA,IAAEhD,GAAGf,EAAE,GAAEmB,EAAAA,EAAAA,IAAEJ,EAAEM,GAAG8E,EAAEnG,EAAEA,EAAE,EAAEiB,IAAG8C,EAAAA,EAAAA,IAAE1C,GAAGR,EAAEA,GAAG,GAAG,IAAIsF,EAAE,CAAC,MAAMpG,GAAGC,GAAG,EAAEiB,IAAIR,EAAEoC,OAAOgE,EAAEmY,MAAMjf,GAAG,IAAIM,EAAEkB,MAAKM,EAAAA,EAAAA,IAAE8E,EAAElG,EAAEmR,MAAM7Q,EAAEhB,GAAG,MAAM,GAAGoG,EAAE,EAAE,CAAC,MAAMpG,EAAEuG,KAAK2Y,KAAK9Y,GAAG/E,IAAIpB,EAAED,IAAI,EAAEkB,IAAIR,EAAEoC,OAAOgE,EAAEmY,MAAM5d,GAAG,IAAIf,EAAEkB,MAAKM,EAAAA,EAAAA,IAAE8E,EAAElG,EAAEmR,MAAM7Q,EAAEK,IAAI,MAAMP,IAAIb,EAAED,IAAI,EAAEkB,IAAIR,EAAEoC,OAAOgE,EAAEmY,MAAMne,GAAG,IAAIR,EAAEkB,MAAKM,EAAAA,EAAAA,IAAEgE,EAAEpF,EAAEmR,MAAM7Q,EAAEF,GAAG,CAAC,OAAOR,CAAC,EAAQ,SAASI,GAAGA,EAAEA,EAAEye,IAAI,GAAG,MAAMze,EAAEA,EAAEue,KAAK,GAAG,MAAM,CAA/C,CAAiDnY,IAAIA,EAAE,CAAC,IAAI,MAAMT,EAAE,KAAKrB,GAAE9D,EAAAA,EAAAA,MAAI2D,GAAE3D,EAAAA,EAAAA,MAAI4E,GAAE5E,EAAAA,EAAAA,MAAI0F,GAAE1F,EAAAA,EAAAA,K,kGCA39C,MAAMsG,GAAEnG,EAAAA,EAAAA,MAAI+d,MAAM1Z,EAAAA,EAAE6T,UAAUvV,GAAE3C,EAAAA,EAAAA,MAAI+d,MAAM1Z,EAAAA,EAAE6T,UAAU8F,QAAQ3Z,EAAAA,EAAE8T,KAAKlY,GAAED,EAAAA,EAAAA,MAAI+d,MAAM1Z,EAAAA,EAAE6T,UAAU+F,OAAO5Z,EAAAA,EAAE6Z,OAAkE7e,IAAzDW,EAAAA,EAAAA,MAAI+d,MAAM1Z,EAAAA,EAAE6T,UAAU8F,QAAQ3Z,EAAAA,EAAE8T,KAAK8F,OAAO5Z,EAAAA,EAAE8Z,YAAane,EAAAA,EAAAA,MAAI+d,MAAM1Z,EAAAA,EAAE6T,UAAUkG,MAAM/Z,EAAAA,EAAE8T,MAAK1X,GAAET,EAAAA,EAAAA,MAAI+d,MAAM1Z,EAAAA,EAAE6T,UAAUkG,MAAM/Z,EAAAA,EAAE8T,KAAK8F,OAAO5Z,EAAAA,EAAE8Z,U","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import r from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r.EsriPromiseMixin(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractive(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,screenPointObjectToArray as n,castScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as o,d as l,l as s,c,e as i,g as a,f as u}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import m from\"../../../../geometry/Point.js\";import{projectPoint as f}from\"../../../../geometry/projectionUtils.js\";import{intersectRay as d,create as g,getNormal as E,fromPositionAndNormal as y}from\"../../../../geometry/support/plane.js\";import{create as S,closestPoints as j}from\"../../../../geometry/support/ray.js\";import{projectPoint as v}from\"../../../../geometry/support/vector.js\";import{sv2d as R}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{Intersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as I}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{IntersectorType as U}from\"../../webgl-engine/lib/IntersectorType.js\";import{terrainId as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function T(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(e,t){const o=p(),l=p();let s=!1;return c=>{const i=t(c);if(\"start\"===c.action){const t=n(c.screenStart,r(R.get())),l=w(e.state.camera,t,Q);null!=l&&(s=d(i,l,o))}if(!s)return null;const a=n(c.screenEnd,r(R.get())),u=w(e.state.camera,a,Q);return null==u?null:d(i,u,l)?{...c,renderStart:o,renderEnd:l,plane:i,ray:u}:null}}function D(n,r,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=n.sceneIntersectionHelper.intersectElevationFromScreen(e(c.screenStart.x,c.screenStart.y),r,t,l),null!=s&&null!=o&&!f(s,s,o)))return null;if(null==s)return null;const i=n.sceneIntersectionHelper.intersectElevationFromScreen(e(c.screenEnd.x,c.screenEnd.y),r,t,l);return null!=i&&(null==o||f(i,i,o))?{...c,mapStart:s,mapEnd:i}:null}}function M(e,n,r,t=null,o=null){return D(e,r,b(n,e,r),t,o)}function N(e,n,r,t){const o=r.toMap(e.screenStart);return null!=o?M(n,o,r.elevationInfo,t):null}function h(e,n){const r=K,t=L,s=g();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=o(E(s),r,l(t,n,e.state.camera.eye));return o(c,c,r),y(n,c,s)}function G(e,n,r){let t=null;const o=new O;return o.next(T(e,h(e,n))).next(k(e,n)).next(F(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function k(e,n){const r=p(),t=s(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const o=p(),m=p(),f=o=>{if(l(o,o,n),v(r,o,o),\"global\"===e.viewingMode){s(o)*Math.sign(i(r,o))<.001-t&&l(o,a(o,r,.001),n)}return u(o,o,n),o};return e=>(e.renderStart=f(c(o,e.renderStart)),e.renderEnd=f(c(m,e.renderEnd)),e)}function A(e,t){const o=o=>{const l=n(o,r(J)),s=w(e.state.camera,l,Q);if(null==s)return null;const c=j(t,s,K,L);return c?.[0]};return e=>{const n=o(e.screenStart);if(null==n)return null;const r=o(e.screenEnd);return null==r?null:{...e,renderStart:n,renderEnd:r}}}function F(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new m({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new m({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var q;function z(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function B(r,t=null){const o=new x(r.state.viewingMode);o.options.selectionMode=!0,o.options.store=I.MIN,o.options.hud=!1;const l=e(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=p(),i=t??r.spatialReference,a=e=>{r.map.ground&&r.map.ground.opacity<1?s.exclude.add(H):s.exclude.delete(H),r.sceneIntersectionHelper.intersectIntersectorScreen(n(e,l),o,s);const t=o.results.min;let a;if(t.getIntersectionPoint(c))a=t.intersector===U.TERRAIN?q.GROUND:q.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;a=q.GROUND}return{location:r.renderCoordsHelper.fromRenderCoords(c,new m({spatialReference:i})),surfaceType:a}};let u;return e=>{if(\"start\"===e.action){const n=a(e.screenStart);u=null!=n?n.location:null}if(null==u)return null;const n=a(e.screenEnd);return null!=n?.location?{...e,mapStart:u,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=t(),K=p(),L=p(),Q=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,k as projectToWorldUp,B as screenToMap3D,M as screenToMapXYAtLocation,N as screenToMapXYForManipulatedObject,T as screenToRenderPlane,C as screenToRenderPlaneFromEvent,A as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{removeMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as i,onAbort as a}from\"../../core/promiseUtils.js\";import{watch as r,syncAndInitial as s,on as l,whenOnce as c}from\"../../core/reactiveUtils.js\";function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=a(n,(()=>{r.activeTool===i&&(r.activeTool=null)}));return o((async o=>{await c((()=>!t.tool?.active),o),s=e(s)}),n)}function m(o,t){return r((()=>o.interactive),(()=>p(o,t)),s)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=o((async o=>{if(r){const t=r.promise.catch((()=>{}));r?.abort(),await t,n(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=t([l((()=>e.tool),\"cancel\",(()=>{c()&&s.abort()}))]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,n(o)}catch(v){if(o.aborted||!i(v)||c())throw v}finally{m?.remove()}}),{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally((()=>{e.userOperation===s&&(e.userOperation=null)}))}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}export{u as activateAnalysisViewTool,m as connectAnalysisViewToTool,f as removeAnalysisViewTool,y as startExclusiveInteractiveOperation,d as startPlaceOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import t from\"../../../../core/Accessor.js\";import a from\"../../../../core/Logger.js\";import{watch as l,sync as s}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as o}from\"../../../../chunks/boundedPlane.js\";import c from\"../../../../layers/Layer.js\";import h from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as u,projectAndElevationAlignShape as d,projectedShapeToPlane as p,planeToShape as y}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as w}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as v}from\"../../terrain/isTerrainSurfaceLayer.js\";let f=class extends t{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof c||i instanceof h)?i instanceof c&&v(i)?(a.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(a.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),S(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),s),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),s),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane(),this._updateViewSlicePlaneDecoration()}),s),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),s),l((()=>\"web-scene\"!==this.analysis.origin?.type),(()=>this._updateViewSlicePlaneDecoration()),s)],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane(),this._updateViewSlicePlaneDecoration()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slice.plane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(u).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let t=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=d(e,this.view);null==s&&w(this.analysis,i,a.getLogger(this)),t=p(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},o()),null!=t&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=t,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,t=y(e,this.view,this.view.spatialReference,new i);let a=null;null!=t&&(a={heading:t.heading,tilt:t.tilt,position:t.position,width:t.width,height:t.height}),this._currentSlicePlane=a,this._internalChange=!0,this.analysis.shape=t,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(g)return;const e=b(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(g=!0,e.activeController.analysisViewData.active=!1,g=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){V(this.view)}_updateViewSlicePlaneDecoration(){_(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],t=e=>{\"layers\"in e?e.layers.forEach(t):i.push(e)};this.analysis.excludedLayers.forEach(t),this.view.allLayerViews.forEach((t=>{t.destroyed||(\"slicePlaneEnabled\"in t&&(t.slicePlaneEnabled=e&&!i.includes(t.layer)),\"sublayerViews\"in t&&t.sublayerViews.forEach((t=>{t.slicePlaneEnabled=e&&!i.includes(t.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([n()],f.prototype,\"view\",void 0),e([n()],f.prototype,\"analysis\",void 0),e([n()],f.prototype,\"analysisViewData\",void 0),e([n()],f.prototype,\"_allLayerAndSubLayerViews\",null),f=e([r(\"esri.views.3d.analysis.Slice.SliceController\")],f);const m=new Map;let g=!1;function V(e){const i=b(e),t=i?.activeController;null!=t?.analysisViewData.plane&&t.analysisViewData.visible?e.slice.plane=t.analysisViewData.plane:e.slice.plane=null}function _(e){const i=b(e),t=i?.activeController;e.slice.isDecoration=\"web-scene\"!==t?.analysis.origin?.type}function S(e,i){m.has(e)||m.set(e,{all:[],activeController:null}),m.get(e)?.all.push(i)}function b(e){return m.get(e)}function L(e,i){if(!m.has(e))throw new Error(\"view expected in global slice register\");const t=m.get(e),a=t?.all.lastIndexOf(i)??-1;if(!t||-1===a)throw new Error(\"controller expected in global slice register\");t.all.splice(a,1),0===t.all.length&&m.delete(e)}export{f as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"viewshed\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case\"parquet\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,when as l,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as h}from\"../../../../core/scheduling.js\";import{createScreenPoint as p,screenPointObjectToArray as u}from\"../../../../core/screenUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as _,fromScaling as v,multiply as m}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{e as P,l as y,c as w,g,f,t as M,n as T,i as D}from\"../../../../chunks/vec32.js\";import{create as V,clone as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as k,ZEROS as S}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{d as E,a as x,n as C,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as R,intersectRay as I,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as z}from\"../../../../geometry/support/ray.js\";import{sv3d as G,sm4d as A,sv2d as U}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as L,getTiltRotateTexture as K}from\"../images/Factory.js\";import{ResizeManipulator as B}from\"./ResizeManipulator.js\";import{RotateManipulator as F}from\"./RotateManipulator.js\";import{getOutlineColor as N,planeColor as q}from\"./settings.js\";import{ShiftManipulator as Z,OffsetMode as W}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as J,planePreviewOutlineWidth as Q,forceVerticalModifier as X,forceHorizontalModifier as Y,previewFadeDurationSeconds as $,previewFadeDotThreshold as tt,initialDepthOffsetFrac as et}from\"./sliceToolConfig.js\";import{createGridVisualElement as it,createOutlineVisualElement as at,planeToShape as st,createRotatePlane as nt,RotationAxis as rt,resizePlane as lt,calculatePlaneHalfSize as ot,SliceOrientation as ht,createPlane as pt,DidPointerMoveRecentlyFlag as ut,calculateBoundedPlaneTranslateRotate as ct,updateShiftRestartHandle as dt,updateRotateHeadingHandle as _t,updateRotateTiltHandle as vt,updateResizeHandle as mt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as wt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as gt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as ft}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as Mt}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Tt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=class extends ft{static{Vt=this}constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._mode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=J,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=E(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=p(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Tt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&x(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new Z(this.view,W.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view.stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new F(this.view,((t,e)=>L(this.view.stage.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new F(this.view,((t,e)=>K(this.view.stage.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new B(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=it(this.view),this._previewPlaneOutlineVisualElement=at(this.view),this._previewPlaneOutlineVisualElement.width=Q,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r)),this.addHandles([l((()=>\"sliced\"===this.state),(()=>{this.finishToolCreation(),this.stop()}),o),n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this.active?this._placingSlicePlane||\"exclude\"===this.mode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null:null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get mode(){return this._mode}static{this.disableEngineLayers=!1}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _placingSlicePlane(){return this.active&&!this.inputState&&\"place\"===this._mode}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}start(t){this._finishToolCreationIfValid(),this._mode=t,this.active||(this.view.activeTool=this)}stop(){this.active&&(this.view.activeTool=null)}onActivate(){this._finishToolCreationIfValid(),\"none\"===this._mode&&null==this.analysisViewData.plane&&(this._mode=\"place\")}onDeactivate(){this._mode=\"none\",this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!St(t))return;this._placingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!St(t))return;\"exclude\"===this._mode?t.defer((async()=>{await this._onClickExcludeLayer(t)&&t.stopPropagation()})):this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),x(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(!this._placingSlicePlane)return!1;const i=Dt(t),a=E();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=gt(this.view.state.camera,i,xt);this.inputState=kt(e,t.pointerId,a.origin,a)}return x(a,this._startPlane),this.analysis.shape=st(a,this.view,this.view.spatialReference,new e),\"pointer-drag\"!==t.type&&this.stop(),!0}return!1}async _onClickExcludeLayer(t){if(\"exclude\"!==this.mode)return!1;const e=await this.view.hitTest(Dt(t)),i=e.results.at(0);if(i){const t=\"graphic\"===i.type&&i.graphic;if(t){const e=t.sourceLayer||t.layer;e&&this.analysis.excludedLayers.push(e)}}else e.ground.layer?this.analysis.excludedLayers.push(e.ground.layer):this.analysis.excludeGroundSurface=!0;return this.stop(),!0}_onKeyDown(t){return(t.key===X||t.key===Y)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==X&&t.key!==Y||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=gt(this.view.state.camera,t.screenPoint,xt);x(this.analysisViewData.plane,this._startPlane),this.inputState=kt(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?x(this.analysisViewData.plane,E()):null;e.next(wt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(C(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=w(G.get(),this._startPlane.origin),i=w(G.get(),C(this._startPlane));g(i,i,-t.depth),f(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,E());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=nt(this.analysisViewData.plane,this.view.renderCoordsHelper,rt.HEADING,R()),i=gt(this.view.state.camera,t.screenPoint,xt),a=V();I(e,i,a)&&(x(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?x(this.analysisViewData.plane,E()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=nt(this.analysisViewData.plane,this.view.renderCoordsHelper,rt.TILT,R()),i=gt(this.view.state.camera,t.screenPoint,xt),a=V();I(e,i,a)&&(x(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?x(this.analysisViewData.plane,E()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=_(A.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=M(G.get(),this._startPlane.basis1,e),a=M(G.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,E());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=gt(this.view.state.camera,t.screenPoint,xt),a=G.get();I(this.analysisViewData.plane.plane,i,a)&&(x(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:b(a)})}_createResizeDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=x(this.analysisViewData.plane,E());e.next(wt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=lt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,x(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){if(\"exclude\"===this.mode)return;let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(this.active){const a=null!=i?i:E();if(i=null!=i?x(i,Et):null,this._pickPlane(t,!0,e,a)){const t=tt;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(T(G.get(),i.basis1),T(G.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=h({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=u(t,U.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=G.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(G.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&g(r,r,-1);const o=ot(n,l),h=(e?1:-1)*o*et,p=g(G.get(),r,h);f(p,p,n);const u=this.analysis.tiltEnabled?ht.TILTED:ht.HORIZONTAL_OR_VERTICAL,c=i[X]?ht.VERTICAL:i[Y]?ht.HORIZONTAL:u;return pt(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=ut,this.rotateHeadingManipulator.state|=ut,this.rotateTiltManipulator.state|=ut,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~ut,this.rotateHeadingManipulator.state&=~ut,this.rotateTiltManipulator.state&=~ut}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e,i=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=this._previewPlane??t,i=!1;else{if(null==this._previewPlane)return this._setManipulatorVisibility(!1),void this._setPreviewPlaneVisibility(!1);e=t=this._previewPlane,i=!0}if(this._setManipulatorVisibility(!i),!i){const e=ct(t,A.get());dt(this.shiftManipulator,e,t,this.view.state.camera),_t(this.rotateHeadingManipulator,e,t,this.view.renderCoordsHelper),vt(this.rotateTiltManipulator,e,t),this.resizeManipulators.forEach(((i,a)=>mt(i,this._resizeHandles[a],e,t)))}this._setPreviewPlaneVisibility(!this._creatingPointerId&&(i||\"place\"===this._mode)),this._updatePreviewPlaneTransform(e),this._updateMaterials()}_setManipulatorVisibility(t){this.shiftManipulator.available=t,this.rotateHeadingManipulator.available=t,this.rotateTiltManipulator.available=t&&this.analysis.tiltEnabled,this.resizeManipulators.forEach((e=>e.available=t))}_updatePreviewPlaneTransform(t){const e=ct(t,A.get()),i=D(G.get(),y(t.basis1),y(t.basis2),1),a=v(A.get(),i),s=m(a,e,a);this._previewPlaneOutlineVisualElement.transform=s,this._previewPlaneGridVisualElement.transform=s}_setPreviewPlaneVisibility(t){const e=this._previewPlaneOutlineVisualElement,i=this._previewPlaneGridVisualElement;t&&(e.attached=!0,i.attached=!0),e.visible=t,i.visible=t}_updateMaterials(){const t=N(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=k(q);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=S}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}_finishToolCreationIfValid(){this.analysis.valid&&this.finishToolCreation()}get test(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};function kt(t,e,i,a){const s=Pt(i,C(a),t.direction,R()),n=V();return I(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function St(t){return\"mouse\"!==t.pointerType||0===t.button}t([c()],bt.prototype,\"_clock\",void 0),t([c({constructOnly:!0})],bt.prototype,\"view\",void 0),t([c()],bt.prototype,\"analysisViewData\",void 0),t([c({readOnly:!0})],bt.prototype,\"state\",null),t([c({readOnly:!0})],bt.prototype,\"cursor\",null),t([c()],bt.prototype,\"analysis\",null),t([c()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([c()],bt.prototype,\"_mode\",void 0),t([c()],bt.prototype,\"mode\",null),t([c({value:null})],bt.prototype,\"inputState\",null),t([c()],bt.prototype,\"_placingSlicePlane\",null),t([c()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([d(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Et=E(),xt=z();export{bt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as m,l as p}from\"../../../../chunks/vec32.js\";import{ZEROS as u}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o),t(this._gridVisualElement),t(this._outlineVisualElement),s((()=>\"web-scene\"!==this.analysis?.origin?.type),(i=>{this._gridVisualElement.isDecoration=i,this._outlineVisualElement.isDecoration=i}),o)])}destroy(){this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),p(i.basis1),p(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:u,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as e}from\"./AnalysisView3D.js\";import{SliceController as l}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y,startPlaceOperation as c,startExclusiveInteractiveOperation as h}from\"../../analysis/analysisViewUtils.js\";let u=class extends(e(s)){constructor(i){super(i),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.plane=null,this.active=!0,this.userOperation=null,this._analysisVisualization=null,this._analysisController=null}initialize(){this._analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this._analysisController=new l({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this._analysisVisualization=t(this._analysisVisualization),this._analysisController=t(this._analysisController)}get editable(){return!this._analysisVisualization.preview}set editable(i){this._analysisVisualization.preview=!i}get showGrid(){return this._analysisVisualization?.showGrid??!1}set showGrid(i){this._analysisVisualization&&(this._analysisVisualization.showGrid=i)}get testData(){}place(i){return this.active=!0,c(this,{placementOptions:i,onToolActivated:i=>i.start(\"place\")})}async pickLayerToExclude(i){return this.active=!0,h(this,{abortOptions:i,onToolActivated:i=>i.start(\"exclude\")})}};i([o({readOnly:!0})],u.prototype,\"type\",void 0),i([o({constructOnly:!0,nonNullable:!0})],u.prototype,\"analysis\",void 0),i([o()],u.prototype,\"tool\",void 0),i([o()],u.prototype,\"plane\",void 0),i([o()],u.prototype,\"active\",void 0),i([o()],u.prototype,\"editable\",null),i([o()],u.prototype,\"showGrid\",null),i([o()],u.prototype,\"userOperation\",void 0),i([o()],u.prototype,\"_analysisVisualization\",void 0),i([o()],u.prototype,\"_analysisController\",void 0),u=i([a(\"esri.views.3d.analysis.SliceAnalysisView3D\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{If as n,glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as m}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{NoParameters as c}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";class u extends c{}function w(c){const u=new p,{vertex:w,fragment:b,varyings:f}=u,{output:h,perspectiveInterpolation:j}=c;return a(w,c),u.include(i,c),u.include(s,c),u.fragment.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(m.POSITION,\"vec3\"),u.attributes.add(m.UV0,\"vec2\"),j&&u.attributes.add(m.PERSPECTIVEDIVIDE,\"float\"),w.main.add(d`\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${n(j,\"gl_Position *= perspectiveDivide;\")}`),f.add(\"vpos\",\"vec3\",{invariant:!0}),f.add(\"vTexCoord\",\"vec2\"),b.include(t),b.uniforms.add(new l(\"opacity\",(e=>e.opacity)),new g(\"tex\",(e=>e.glTexture))).main.add(d`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${n(h===e.ObjectAndLayerIdColor,\"fragColor = vec4(0, 0, 0, 1); return;\")}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),u}const b=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:u,build:w},Symbol.toStringTag,{value:\"Module\"}));export{b as I,u as a,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{oitPolygonOffset as l,getDrawBuffers as s,depthWrite as n,oitDepthTest as o,oitBlending as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as c,stencilWriteMaskOn as u}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as d}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,defaultColorWrite as f,cullingParams as g,premultipliedAlpha as P}from\"../../../webgl/renderState.js\";class j extends r{constructor(e,r){super(e,r,new t(d,(()=>import(\"./ImageMaterial.glsl.js\"))),I)}_getPipelineState(t,r){const{oitPass:m,output:d,hasOccludees:j,cullFace:I}=t,S=m===i.NONE;return h({blending:e(d)?S?P:a(m):null,culling:g(I),depthTest:{func:o(m)},depthWrite:n(t),drawBuffers:s(m,d),colorWrite:f,stencilWrite:j?u:null,stencilTest:j?r?p:c:null,polygonOffset:l(t)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const I=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{j as ImageMaterialTechnique,I as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(e){super(),this.draped=e,this.cullFace=i.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1,this.snowCover=!1}}e([r({count:i.COUNT})],a.prototype,\"cullFace\",void 0),e([r()],a.prototype,\"enableOffset\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0),e([r()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import s from\"../lib/GLMaterial.js\";import{isUpdatableTexture as a}from\"../lib/ITexture.js\";import{MaterialParameters as o}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{assert as p}from\"../lib/Util.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as c}from\"./DefaultBufferWriter.js\";import{PositionUvLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as f}from\"./TriangleMaterial.js\";import{writeBufferFloat as m,writeDefaultAttribute as g}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as d,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as I}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class _ extends f{constructor(e){super(e,x),this.vertexAttributeLocations=d,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,e=>t(e)],[u.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._configuration=new I(e.draped)}dispose(){this.setParameters({texture:void 0})}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<n,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new b(e)}createBufferWriter(){let e=h;return this.parameters.perspectiveInterpolation&&(e=e.clone().f32(l.PERSPECTIVEDIVIDE)),new E(e)}}class b extends s{constructor(e){super({...e,...e.material.parameters}),this.parameters=e;const t=this._material.parameters.texture;a(t)&&e.textures.updater.add(t)}dispose(){this.parameters.textures.updater.remove(this._material.parameters.texture)}beginSlot(e){return this.getTechnique(T,e)}}class E extends c{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===l.PERSPECTIVEDIVIDE){p(1===s.size);const t=a.getField(n,e);t&&m(s,t,o)}else g(n,s,t,r,a,o)}return null}}class x extends o{constructor(e,t){super(),this.texture=e,this.draped=t,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}get glTexture(){return this.texture.glTexture}}export{_ as ImageMaterial,x as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Intersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as n}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function o(o){const t=new e(o);return t.options.store=n.MIN,t.options.excludeLabels=!0,t}export{o as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Material as i}from\"../lib/Material.js\";import{intersectTriangleGeometry as p}from\"../lib/RayIntersections.js\";class r extends i{constructor(){super(...arguments),this._pp0=t(0,0,1),this._pp1=t(0,0,0)}intersect(t,i,r,s,e,o){return p(t,r,s,e,void 0,o)}intersectDraped(t,i,r,s){return this._pp0[0]=this._pp1[0]=r[0],this._pp0[1]=this._pp1[1]=r[1],p(t,i,this._pp0,this._pp1,void 0,s)}}export{r as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,scaleAndAdd as r,add as e,length as s,dot as o,squaredLength as c,scale as u,distance as i,copy as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,clone as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,n,r){const e=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/i(n,r)}function E(t,n,r){const e=o(r,n)/c(r);return u(t,r,e)}function I(t,r,s,o,c=s){return n(x,o,s),n(g,r,c),E(A,g,x),e(t,c,A)}function L(t,e,s,u){n(x,u,s),n(g,e,s);const i=o(x,g)/c(x);return i>0?r(t,s,x,i):f(t,s)}function N(t,e,o,c){n(x,e,o);const u=c/s(x);return r(t,o,x,u)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[p(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[p(e)]:[]}function b(t,e){const s=t.start,o=t.end,c=e.start,u=e.end,i=n(x,o,s),f=n(M,u,c),a=m(i,f);if(Math.abs(a)<=v)return[];const p=n(g,s,c),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||e.type===j.LINE)return[r(A,s,i,h)]}else if(t.type===j.LINE&&(E>=0||e.type===j.LINE))return[r(A,s,i,h)];return[]}function d(t,e,s){const u=[],i=n(x,t.end,t.start),f=n(M,t.start,e),a=c(i),p=2*o(i,f),m=p*p-4*a*(c(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&u.push(r(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),e=(-p+n)/(2*a);(t.type===j.LINE||e>=0)&&u.push(r(A,t.start,i,e));const s=(-p-n)/(2*a);(t.type===j.LINE||s>=0)&&u.push(r(g,t.start,i,s))}return u}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=a(),M=a(),g=a(),A=a();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const I=e().vec3f(O.POSITION),c=e().vec3f(O.POSITION).vec2f16(O.UV0),f=e().vec3f(O.POSITION).vec4u8(O.COLOR),v=e().vec3f(O.POSITION).vec2f16(O.UV0).vec4u8(O.OLIDCOLOR),t=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OLIDCOLOR);export{f as PositionColorLayout,I as PositionLayout,c as PositionUvLayout,v as PositionUvOlidLayout,t as PositionUvf32Layout,r as PositionUvf32OlidLayout};\n"],"names":["async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","r","EsriPromiseMixin","constructor","super","this","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractive","constructOnly","prototype","type","Boolean","readOnly","initialize","addHandles","analysisViewData","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","q","T","P","C","plane","c","action","screenStart","R","get","w","state","camera","Q","screenEnd","renderStart","renderEnd","ray","M","sceneIntersectionHelper","intersectElevationFromScreen","x","y","mapStart","mapEnd","D","b","N","toMap","elevationInfo","G","O","next","K","L","g","renderCoordsHelper","worldUpAtPosition","E","eye","h","m","v","viewingMode","Math","sign","k","F","execute","A","J","j","fromRenderCoords","spatialReference","z","disableDisplay","remove","B","options","selectionMode","store","I","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","map","ground","opacity","add","H","delete","intersectIntersectorScreen","results","min","getIntersectionPoint","intersector","U","TERRAIN","GROUND","OTHER","location","surfaceType","S","view","tool","tools","userOperation","promise","catch","abort","activeTool","active","signal","shouldRejectOnCancel","onToolActivated","aborted","abortOptions","finally","clone","placementOptions","valid","equals","_internalChange","_currentSlicePlane","excludedLayers","on","item","getLogger","error","title","id","preventDefault","set","all","activeController","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","excludeGroundSurface","_updateActiveController","_updateViewSlicePlane","_updateViewSlicePlaneDecoration","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","origin","destroy","slice","Error","lastIndexOf","splice","allLayerViews","items","concat","filter","flatMap","_ref","sublayerViews","position","tiltEnabled","heading","tilt","width","height","V","isDecoration","_","layers","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","Map","Vt","bt","ft","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_mode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Tt","_updateManipulatorsInteractive","grabbing","inputState","Z","W","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","_createRotateTiltDragPipeline","_onRotateTiltGrab","_createResizeDragPipeline","_onResizeGrab","addMany","it","at","_updateManipulators","finishToolCreation","stop","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_placingSlicePlane","mode","_creatingPointerId","removeHandles","static","disableEngineLayers","_get","showGrid","_updateMaterials","creatingPointerId","start","_finishToolCreationIfValid","onActivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","St","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","defer","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","hasBeenDragged","pointerType","screenPoint","_resetPointerMoveTimeout","_pickPlane","gt","xt","kt","st","hitTest","graphic","sourceLayer","key","X","Y","renderLocation","Mt","wt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","abs","startPoint","depth","basis1","basis2","nt","rt","HEADING","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","yt","rotateAxis","rotateAngle","activeHandleIdx","_resizeDragUpdatePlane","lt","Et","tt","update","deltaTime","$","_pickMinResult","intersectToolIntersectorScreen","getTransformedNormal","viewForward","ot","et","ht","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","pt","ut","setTimeout","_setManipulatorVisibility","_setPreviewPlaneVisibility","ct","dt","_t","vt","mt","_updatePreviewPlaneTransform","available","transform","attached","effectiveTheme","color","backgroundColor","gridColor","test","setPointerMoveTimerMs","Pt","button","value","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","_analysisVisualization","_analysisController","testData","place","pickLayerToExclude","nonNullable","vertex","fragment","varyings","output","perspectiveInterpolation","include","attributes","POSITION","UV0","PERSPECTIVEDIVIDE","main","invariant","uniforms","glTexture","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","ImageMaterialPassParameters","build","Symbol","toStringTag","_getPipelineState","oitPass","hasOccludees","cullFace","NONE","blending","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","draped","None","enableOffset","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","snowCover","count","COUNT","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","_configuration","dispose","setParameters","texture","getConfiguration","hasSlicePlane","relativeElevation","createGLMaterial","createBufferWriter","f32","material","_material","updater","beginSlot","getTechnique","write","vertexBufferLayout","fields","keys","size","getField","dash","dot","none","solid","pattern","pixelRatio","style","excludeLabels","_pp0","_pp1","intersect","intersectDraped","end","LINE","sqrt","RAY","vec3f","vec2f16","vec4u8","COLOR","OLIDCOLOR","vec2f"],"sourceRoot":""}