{"version":3,"file":"static/js/74862.935c7ed4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js","../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileFeatureIndex.js","../node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SourceLayerData.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/Feature.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./brushes/WGLBrushTileDebugInfo.js\";const n=(e,r)=>e.key.level-r.key.level!==0?e.key.level-r.key.level:e.key.row-r.key.row!==0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this.tileInfoView=e,this.sortFunction=n}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this.tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT|e.LABEL,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{signal as t}from\"../../../../../core/signal.js\";import{CollisionJob as e}from\"./CollisionJob.js\";import{declutterBudget as i,fadeDuration as s}from\"./config.js\";import{SymbolDeclutterer as r}from\"./SymbolDeclutterer.js\";import{SymbolRepository as o}from\"./SymbolRepository.js\";import{Visibility as l}from\"../style/StyleDefinition.js\";const a=.5,n=1e-6;class c{constructor(e,s,a,c,h,y=i){this.styleRepository=s,this._declutterBudget=y,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._offsetFromScreenCenter=[0,0],this._completed=!1,this._fading=t(!1);const _=(t,e,i)=>this._createCollisionJob(t,e,i),u=t=>{const e=this.styleRepository.getStyleLayerByUID?.(t);if(e){if(this._zoom+n<e.minzoom||this._zoom-n>=e.maxzoom)return!1;const t=e.getLayoutProperty?.(\"visibility\");if(t&&t.getValue()===l.NONE)return!1}return!0},m=(t,e)=>(this.styleRepository.getStyleLayerByUID?.(t.styleLayerUID)?.z??0)-(this.styleRepository.getStyleLayerByUID?.(e.styleLayerUID)?.z??0);this._symbolRepository=new o(h,c),this._symbolDeclutterer=new r(e,c,this._symbolRepository,this.styleRepository,_,a,m,u)}get symbolRepository(){return this._symbolRepository}_createCollisionJob(t,i,s){return this.updateDecluttererViewState(),new e(t,i,s,this.styleRepository,this._zoom,this._viewState.rotation)}get fading(){return this._fading.value}get decluttererOffset(){return this._offsetFromScreenCenter}registerFeatureTile(t){this.symbolRepository?(this.symbolRepository.registerFeatureTile(t),this.restartDeclutter()):console.error(\"InternalError: Symbol repository not yet initialized\")}unregisterFeatureTile(t){this.symbolRepository?(this._symbolRepository.unregisterFeatureTile(t),this.restartDeclutter()):console.error(\"InternalError: Symbol repository not yet initialized\")}insertFeatureTileMetrics(t,e){this.symbolRepository?(this.symbolRepository.insertFeatureTileMetrics(t,e),this.restartDeclutter()):console.error(\"InternalError: Symbol repository not yet initialized\")}removeFeatureTileMetrics(t,e){this.symbolRepository?(this.symbolRepository.removeFeatureTileMetrics(t,e),this.restartDeclutter()):console.error(\"InternalError: Symbol repository not yet initialized\")}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on(\"symbols-changed\",(()=>{this._symbolRepository.registerVectorTile(t),this.restartDeclutter()}))),this._symbolRepository.registerVectorTile(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.unregisterVectorTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]};const i=[0,0];e.toScreen(i,e.center);const s=[0,0];return e.toScreen(s,this._declutterViewState.center),this._offsetFromScreenCenter[0]=i[0]-s[0],this._offsetFromScreenCenter[1]=i[1]-s[1],this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this.updateDecluttererViewState(),this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(this._declutterBudget),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){null!=this._stableNotificationHandle&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this._fading.value=!1}),(1+a)*s)}_notifyUnstable(){null!=this._stableNotificationHandle&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this._fading.value=!0}updateDecluttererViewState(){this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._offsetFromScreenCenter[0]=0,this._offsetFromScreenCenter[1]=0}}export{c as SymbolFader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{toConst as n}from\"../../compilerUtils.js\";import\"../../has.js\";import e from\"../../PooledArray.js\";import{q as h}from\"../../../chunks/quickselect.js\";class s{constructor(t=9,i){this._compareMinX=u,this._compareMinY=d,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),Y.prune(),B.prune(),w.prune(),j.prune()}all(t){r(this._data,t)}search(t,i){let n=this._data;const e=this._toBBox;if(M(t,n))for(Y.clear();n;){for(let h=0,s=n.children.length;h<s;h++){const s=n.children[h],a=n.leaf?e(s):s;M(t,a)&&(n.leaf?i(s):g(t,a)?r(s,i):Y.push(s))}n=Y.pop()}}collides(t){let i=this._data;const n=this._toBBox;if(!M(t,i))return!1;for(Y.clear();i;){for(let e=0,h=i.children.length;e<h;e++){const h=i.children[e],s=i.leaf?n(h):h;if(M(t,s)){if(i.leaf||g(t,s))return!0;Y.push(h)}}i=Y.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){const t=this._data;this._data=i,i=t}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new S([]),this}remove(i){if(!i)return this;let e,h=this._data,s=null,a=0,r=!1;const o=this._toBBox(i);for(w.clear(),j.clear();h||w.length>0;){if(h||(h=w.pop(),s=w.data[w.length-1],a=j.pop()??0,r=!0),h.leaf&&(e=t(h.children,n(i),h.children.length,h.indexHint),-1!==e))return h.children.splice(e,1),w.push(h),this._condense(w),this;r||h.leaf||!g(h,o)?s?(a++,h=s.children[a],r=!1):h=null:(w.push(h),j.push(a),a=0,s=h,h=h.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,i,n,e){const h=n-i+1;let s=this._maxEntries;if(h<=s){const e=new S(t.slice(i,n+1));return l(e,this._toBBox),e}e||(e=Math.ceil(Math.log(h)/Math.log(s)),s=Math.ceil(h/s**(e-1)));const a=new y([]);a.height=e;const r=Math.ceil(h/s),o=r*Math.ceil(Math.sqrt(s));X(t,i,n,o,this._compareMinX);for(let l=i;l<=n;l+=o){const i=Math.min(l+o-1,n);X(t,l,i,r,this._compareMinY);for(let n=l;n<=i;n+=r){const h=Math.min(n+r-1,i);a.children.push(this._build(t,n,h,e-1))}}return l(a,this._toBBox),a}_insert(t,i,n){const e=this._toBBox,h=n?t:e(t);w.clear();const s=a(h,this._data,i,w);for(s.children.push(t),m(s,h);i>=0&&w.data[i].children.length>this._maxEntries;)this._split(w,i),i--;o(h,w,i)}_split(t,i){const n=t.data[i],e=n.children.length,h=this._minEntries;this._chooseSplitAxis(n,h,e);const s=this._chooseSplitIndex(n,h,e);if(!s)return;const a=n.children.splice(s,n.children.length-s),r=n.leaf?new S(a):new y(a);r.height=n.height,l(n,this._toBBox),l(r,this._toBBox),i?t.data[i-1].children.push(r):this._splitRoot(n,r)}_splitRoot(t,i){this._data=new y([t,i]),this._data.height=t.height+1,l(this._data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,h,s;e=h=1/0;for(let a=i;a<=n-i;a++){const i=c(t,0,a,this._toBBox),r=c(t,a,n,this._toBBox),o=p(i,r),l=f(i)+f(r);o<e?(e=o,s=a,h=l<h?l:h):o===e&&l<h&&(h=l,s=a)}return s}_chooseSplitAxis(t,i,n){const e=t.leaf?this._compareMinX:u,h=t.leaf?this._compareMinY:d;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,h)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const h=this._toBBox,s=c(t,0,i,h),a=c(t,n-i,n,h);let r=x(s)+x(a);for(let o=i;o<n-i;o++){const i=t.children[o];m(s,t.leaf?h(i):i),r+=x(s)}for(let o=n-i-1;o>=i;o--){const i=t.children[o];m(a,t.leaf?h(i):i),r+=x(a)}return r}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const h=i.data[n-1],s=h.children;s.splice(t(s,e,s.length,h.indexHint),1)}else this.clear();else l(e,this._toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this._compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this._compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this._toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,h=1/0;for(let s=0,a=i.children.length;s<a;s++){const a=i.children[s],r=f(a),o=_(t,a)-r;o<h?(h=o,e=r<e?r:e,n=a):o===h&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}function r(t,i){let e=t;for(B.clear();e;){if(!0===e.leaf)for(const t of e.children)i(n(t));else B.pushArray(e.children);e=B.pop()??null}}function o(t,i,n){for(let e=n;e>=0;e--)m(i.data[e],t)}function l(t,i){c(t,0,t.children.length,i,t)}function c(t,i,n,e,h){h||(h=new S([])),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let s,a=i;a<n;a++)s=t.children[a],m(h,t.leaf?e(s):s);return h}function m(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function u(t,i){return t.minX-i.minX}function d(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function x(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function p(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),s=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,s-e)}function g(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function M(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function X(t,i,n,e,s){const a=[i,n];for(;a.length;){const i=a.pop(),n=a.pop();if(i-n<=e)continue;const r=n+Math.ceil((i-n)/e/2)*e;h(t,r,n,i,s),a.push(n,r,r,i)}}const Y=new e,B=new e,w=new e,j=new e({deallocator:void 0});class E{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class b extends E{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class S extends b{constructor(t){super(),this.children=t,this.leaf=!0}}class y extends b{constructor(t){super(),this.children=t,this.leaf=!1}}export{E as BBox,s as PooledRBush};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{LRUCache as e}from\"../../../../core/LRUCache.js\";import{fromValues as i,create as t,intersects as s}from\"../../../../geometry/support/aaBoundingRect.js\";import{tilePixelSize as l}from\"./constants.js\";import o from\"../../tiling/TileCoverage.js\";import r from\"../../tiling/TileKey.js\";const n=1e-6,a=(e,i)=>e+1/(1<<2*i);class c{constructor(i,t){this._tiles=new Map,this._tileCache=new e(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=i.acquireTile,this.releaseTile=i.releaseTile,this.tileInfoView=i.tileInfoView,this._container=t}destroy(){for(const e of this._tiles.values())e.dispose();this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,!0,\"smallest\");if(!t)return!0;const{spans:s,lodInfo:l}=t,{level:n}=l,a=this._tiles,c=new Set,h=new Set;for(const{row:o,colFrom:_,colTo:f}of s)for(let e=_;e<=f;e++){const i=r.getId(n,o,l.normalizeCol(e),l.getWorldForColumn(e)),t=this._getOrAcquireTile(i);c.add(i),t.processed()?this._addToContainer(t):h.add(new r(i))}for(const[o,r]of a)r.isCoverage=c.has(o);for(const o of h)this._findPlaceholdersForMissingTiles(o,c);let d=!1;for(const[o,r]of a)r.neededForCoverage=c.has(o),r.neededForCoverage||r.isHoldingForFade&&i.intersects(t,r.key)&&c.add(o),r.isFading&&(d=!0);for(const o of this._tiles.keys())c.has(o)||this._releaseTile(o);return o.pool.release(t),!d}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}getIntersectingTiles(e,l,o,r,n){const a=[0,0],c=[0,0];r.toMap(a,e-o,l+o),r.toMap(c,e+o,l-o);const h=Math.min(a[0],c[0]),d=Math.min(a[1],c[1]),_=Math.max(a[0],c[0]),f=Math.max(a[1],c[1]),T=i(h,d,_,f),u=t(),p=[];for(const i of this._visibleTiles.values())this.tileInfoView.getTileBounds(u,i.key),s(T,u)&&p.push(i);if(null!=n&&n.length>0){const e=new Set(p.map((e=>e.id))),i=n.filter((i=>!e.has(i.tileKey.id))).map((e=>this._visibleTiles.get(e.tileKey.id))).filter((e=>void 0!==e));p.push(...i)}return p}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const l of this._tiles.values())this._addPlaceholderChild(t,l,e,i);const s=t.reduce(a,0);Math.abs(1-s)<n||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,s){i.key.level<=t.level||!i.hasData()||d(t,i.key)&&(this._addToContainer(i),s.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){const t=this._tiles;let s=e;for(;;){if(s=h(s),!s||i.has(s))return;const e=t.get(s);if(e?.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new r(e))),this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(e){let i;const t=[],s=this._container;if(s.contains(e))return;const l=this._visibleTiles;for(const o of l.values())this._canConnectDirectly(e,o)&&t.push(o),null==i&&this._canConnectDirectly(o,e)&&(i=o);if(null!=i){for(const s of t)i.childrenTiles.delete(s),e.childrenTiles.add(s),s.parentTile=e;i.childrenTiles.add(e),e.parentTile=i}else for(const o of t)e.childrenTiles.add(o),o.parentTile=e;l.set(e.id,e),s.addChild(e)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),null!=e.parentTile){e.parentTile.childrenTiles.delete(e);for(const i of e.childrenTiles)null!=e.parentTile&&e.parentTile.childrenTiles.add(i)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:s,row:l,col:o,world:r}=i.key;const n=this._visibleTiles;for(;s>0;){if(s--,l>>=1,o>>=1,t.level===s&&t.row===l&&t.col===o&&t.world===r)return!0;if(n.has(`${s}/${l}/${o}/${r}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/l)+1,s=Math.ceil(i[1]/l)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*s}}function h(e){const[i,t,s,l]=e.split(\"/\"),o=parseInt(i,10);return 0===o?null:`${o-1}/${parseInt(t,10)>>1}/${parseInt(s,10)>>1}/${parseInt(l,10)}`}function d(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}export{c as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import t from\"../../../../layers/support/TileInfo.js\";import{tileCoordSize as s,tilePixelSize as r}from\"./constants.js\";import{SymbolFader as i}from\"./decluttering/SymbolFader.js\";import{writeOpacityToBuffers as l}from\"./decluttering/util.js\";import{Visibility as o,StyleLayerType as n}from\"./style/StyleDefinition.js\";import{WGLDrawPhase as a}from\"../webgl/enums.js\";import{RenderableTile as d}from\"../webgl/RenderableTile.js\";import c from\"../webgl/TileContainer.js\";import h from\"../../tiling/TileCoverage.js\";import u from\"../../tiling/TileKey.js\";import{StencilOperation as y,CompareFunction as p,FramebufferBit as m,BlendFactor as f}from\"../../../webgl/enums.js\";const g=1e-6;function b(e,t){if(e){const s=e.getLayoutProperty(\"visibility\");if(!s||s.getValue()!==o.NONE&&(void 0===e.minzoom||e.minzoom<t+g)&&(void 0===e.maxzoom||e.maxzoom>=t-g))return!0}return!1}class _ extends c{constructor(e){super(e),this._backgroundTiles=[],this._computeDisplayInfoView(e)}destroy(){this.removeAllChildren(),this._spriteMosaic?.dispose(),this._spriteMosaic=null,this._glyphMosaic?.dispose(),this._glyphMosaic=null,null!=this._symbolFader&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[]}get fading(){return this._symbolFader?.fading??!1}get symbolFader(){return this._symbolFader}get symbolRepository(){return this._symbolFader?.symbolRepository}setStyleResources(e,t,r,o){if(this._spriteMosaic=e,this._glyphMosaic=t,this._styleRepository=r,this.tileInfoView=o,this._computeDisplayInfoView(o),null==this._symbolFader){const e=(e,t)=>{e.allSymbolsFadingOut=!0,e.lastOpacityUpdate=t,l(e,t,!0),e.decluttered=!0,e.requestRender()};this._symbolFader=new i(\"vector-tile\",this._styleRepository,e,this.children,s)}this._symbolFader.styleRepository=r}setSpriteMosaic(e){this._spriteMosaic?.dispose(),this._spriteMosaic=e}deleteStyleLayers(e){null!=this._symbolFader&&this._symbolFader.deleteStyleLayers(e)}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==a.MAP&&e.drawPhase!==a.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(e){return super.addChild(e),null!=this._symbolFader?this._symbolFader.addTile(e):e.decluttered=!0,this.requestRender(),e}removeChild(e){return null!=this._symbolFader&&this._symbolFader.removeTile(e),this.requestRender(),super.removeChild(e)}renderChildren(e){const{drawPhase:t}=e;t!==a.DEBUG?this._doRender(e):super.renderChildren(e)}removeAllChildren(){for(let e=0;e<this.children.length;e++){const t=this.children[e];null!=this._symbolFader&&this._symbolFader.removeTile(t),t.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){null!=this._symbolFader&&this._symbolFader.restartDeclutter()}_doRender(e){const{context:t,state:s}=e,r=this._styleRepository;if(!r)return;const i=r.layers,l=this._displayInfo.scaleToZoom(s.scale);r.backgroundBucketIds.length>0&&(e.renderPass=\"background\",this._renderBackgroundLayers(e,r.backgroundBucketIds,l)),super.renderChildren(e),e.drawPhase===a.MAP&&this._fade(l,s);const o=this.children.filter((e=>e.visible&&e.hasData()));if(!o||0===o.length)return t.bindVAO(),t.setStencilTestEnabled(!0),void t.setBlendingEnabled(!0);for(const n of o)n.triangleCount=0;t.setStencilWriteMask(0),t.setColorMask(!0,!0,!0,!0),t.setStencilOp(y.KEEP,y.KEEP,y.REPLACE),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setDepthTestEnabled(!0),t.setDepthWriteEnabled(!0),t.setDepthFunction(p.LEQUAL),t.setClearDepth(1),t.clear(m.DEPTH),e.renderPass=\"opaque\";for(let n=i.length-1;n>=0;n--)this._renderStyleLayer(i[n],e,o);t.setDepthWriteEnabled(!1),t.setBlendingEnabled(!0),t.setBlendFunctionSeparate(f.ONE,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA),e.renderPass=\"translucent\";for(let n=0;n<i.length;n++)this._renderStyleLayer(i[n],e,o);t.bindVAO(),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!0);for(const n of o)n.debugInfo.display.triangleCount=n.triangleCount}_fade(e,t){null!=this._symbolFader&&(this._symbolFader.update(e,t)||this.requestRender())}_renderStyleLayer(e,t,s){const{displayLevel:r,painter:i,renderPass:l}=t;if(void 0===e)return;const a=e.getLayoutProperty(\"visibility\");if(a&&a.getValue()===o.NONE)return;let d;switch(e.type){case n.BACKGROUND:return;case n.FILL:if(\"opaque\"!==l&&\"translucent\"!==t.renderPass)return;d=\"vtlFill\";break;case n.LINE:if(\"translucent\"!==l)return;d=\"vtlLine\";break;case n.CIRCLE:if(\"translucent\"!==l)return;d=\"vtlCircle\";break;case n.SYMBOL:if(\"translucent\"!==l)return;d=\"vtlSymbol\"}if(s=e.type===n.SYMBOL?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),\"vtlSymbol\"!==d&&(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+g||void 0!==e.maxzoom&&e.maxzoom<r-g))return;const c=e.uid;t.styleLayerUID=c,t.styleLayer=e;for(const o of s)if(o.layerData.has(c)){i.renderObjects(t,s,d);break}}_renderBackgroundLayers(t,i,l){const{context:o,painter:a,state:c}=t,m=this._styleRepository;let f=!1;for(const e of i){if(m.getLayerById(e).type===n.BACKGROUND&&b(m.getLayerById(e),l)){f=!0;break}}if(!f)return;const g=this.tileInfoView,_=g.getTileCoverage(t.state,0,!0,\"smallest\"),{spans:C,lodInfo:E}=_,{level:F}=E,L=e(),R=[];if(this._renderPasses){const e=this._renderPasses[0];null!=this._clippingInfos&&(e.brushes[0].prepareState(t),e.brushes[0].drawMany(t,this._clippingInfos))}const v=this._backgroundTiles;let S,I=0;for(const{row:n,colFrom:h,colTo:y}of C)for(let t=h;t<=y;t++){if(I<v.length)S=v[I],S.key.set(F,n,E.normalizeCol(t),E.getWorldForColumn(t)),g.getTileBounds(L,S.key,!1),S.x=L[0],S.y=L[3],S.resolution=g.getTileResolution(F);else{const i=new u(F,n,E.normalizeCol(t),E.getWorldForColumn(t)),l=g.getTileBounds(e(),i),o=g.getTileResolution(F);S=new d(i,o,l[0],l[3],r,r,s,s),v.push(S)}S.setTransform(c),R.push(S),I++}o.setStencilWriteMask(0),o.setColorMask(!0,!0,!0,!0),o.setStencilOp(y.KEEP,y.KEEP,y.REPLACE),o.setStencilFunction(p.EQUAL,0,255),o.setStencilTestEnabled(!0);for(const e of i){const s=m.getLayerById(e);s.type===n.BACKGROUND&&b(s,l)&&(t.styleLayerUID=s.uid,t.styleLayer=s,a.renderObjects(t,R,\"vtlBackground\"))}h.pool.release(_)}_computeDisplayInfoView(e){let s=e.tileInfo.lods[0].scale;const i=Math.max(25,e.tileInfo.lods.length),l=[];for(let t=0;t<=i;t++)l.push(s),s/=2;this._displayInfo=t.create({scales:l,size:r,spatialReference:e.spatialReference,numLODs:i})}}export{_ as VectorTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import s from\"../../../../core/pbf.js\";import{PooledRBush as r}from\"../../../../core/libs/rbush/PooledRBush.js\";import{tilePixelSize as i,tileCoordSize as o,tilePixelRatio as l}from\"./constants.js\";import{BucketType as n}from\"./enums.js\";import a from\"./Feature.js\";import{getTileMargins as y}from\"./GeometryUtils.js\";import c from\"./SourceLayerData.js\";import{IndexItem as u}from\"./style/StyleLayer.js\";const h=(e,t)=>{const s=e.vtlSymbol.sourceTile,r=t.vtlSymbol.sourceTile;return s.level!==r.level?s.level-r.level:s.row!==r.row?s.row-r.row:s.col!==r.col?s.col-r.col:e.styleLayerUID-t.styleLayerUID};class m{constructor(e,t,s,r,i){this.tileKey=e,this._tileLayerData=t,this._styleRepository=s,this._tileHandler=r,this._parentLayer=i,this._index=null,this._tileKeyToPBF=new Map}static create(e,t,s,r,i){return new m(e,t,s,r,i)}clear(){this._index?.clear(),this._tileKeyToPBF.clear()}async queryAttributes(e,t,s,i,o){if(0===this._tileLayerData.size||!this._styleRepository||!this._tileHandler)return[];null===this._index&&(this._index=new r(100,d),await this._indexLayers());const l=[];return this._queryIndex(l,e,t,s,this.tileKey.level,i),o&&o?.length>0&&await this._getSymbolsAttributes(l,o),l}async _indexLayers(){const e=this.tileKey,t=this._styleRepository.layers,s=await this._getTilePayload(e);for(const[r,i]of this._tileLayerData){const o=t[r],l=s.find((e=>e.sourceName===o.source));if(!l)continue;const{protobuff:a,key:y}=l;if(i.type!==n.SYMBOL){const t=1<<e.level-y.level,s=e.row-y.row*t,r=e.col-y.col*t;this._indexLayer(o,a,e.level,t,s,r)}}}_indexLayer(e,t,r,l,n,h){const m=e.sourceLayer,d=e.getFeatureFilter(),f=r,_=r+1,p=y(f),g=new s(new Uint8Array(t),new DataView(t));for(;g.next();)switch(g.tag()){case 3:{const t=g.getMessage(),s=new c(t);if(t.release(),s.name!==m)continue;const y=s.getData(),w=s.extent/l,b=w*h-p,x=w*n-p,L=b+w+2*p,v=x+w+2*p,I=w/i,D=o/w,T=w*h,S=w*n;for(;y.nextTag(2);){const t=y.getMessage(),i=new a(t,s);if(t.release(),d&&!d.filter(i,r))continue;const o=i.values||{},l=o._minzoom,n=o._maxzoom;if(l&&l>=10*_||n&&n<=10*f)continue;const c=e.getFeatureInflatedBounds(i,f,s.extent,I);null==c||c[0]>L||c[1]>v||c[2]<b||c[3]<x||(c[0]=(c[0]-T)*D,c[1]=(c[1]-S)*D,c[2]=(c[2]-T)*D,c[3]=(c[3]-S)*D,this._index.insert(new u(e,i,c,D,T,S)))}break}default:g.skip()}g.release()}async _getSymbolsAttributes(e,t){if(!t||0===t.length)return e;const s=[];if(t.sort(h),t.length>0){let e=0,{styleLayerUID:r}=t[0];for(let o=1;o<t.length;o++){const{styleLayerUID:i}=t[o];i!==r&&(s.push({from:e,to:o,styleLayerUID:r,sourceTileKey:t[o-1].vtlSymbol.sourceTile}),e=o,r=i)}const i=t.length-1;s.push({from:e,to:t.length,styleLayerUID:r,sourceTileKey:t[i].vtlSymbol.sourceTile})}const r=this._styleRepository.layers;for(const i of s){const s=await this._getTilePayload(i.sourceTileKey),o=r[i.styleLayerUID],l=!!o&&s.find((e=>e.sourceName===o.source));l&&this._addSymbolsAttributes(e,t.slice(i.from,i.to).map((e=>e.vtlSymbol.featureIndex)),i.styleLayerUID,l)}return e}_addSymbolsAttributes(t,s,r,i){const o=this._styleRepository.layers,l=i.key,n=this.tileKey,a=1<<n.level-l.level,y=n.row-l.row*a,c=n.col-l.col*a;this._getSymbolAttributes(i.protobuff,s,r,a,y,c).forEach((s=>{const{attributes:i,tilePoint:l}=s;t.push({layerId:o[r].id,layerIndex:r,graphic:new e({attributes:i,origin:{type:\"vector-tile\",layerId:o[r].id,layerIndex:r,layer:this._parentLayer}}),tilePoint:l})}))}_getSymbolAttributes(e,t,r,i,l,n){const y=[],u=this._styleRepository.layers;let h=0;t.sort(((e,t)=>e-t));const m=new s(new Uint8Array(e),new DataView(e));for(;m.next();)switch(m.tag()){case 3:{const e=m.getMessage(),s=new c(e);if(e.release(),s.name!==u[r].sourceLayer)continue;const d=s.getData(),f=s.extent/i,_=o/f,p=f*n,g=f*l;let w=0;for(;d.nextTag(2);){const e=d.getMessage();if(w++===t[h]){const t=new a(e,s),r=t.values,i=t.getGeometry(),o=null!=i?[_*(i[0][0].x-p),_*(i[0][0].y-g)]:null;y.push({attributes:r,tilePoint:o}),h++}if(e.release(),h===t.length)return y}break}default:m.skip()}return m.release(),y}_queryIndex(t,s,r,i,o,n){const a=l*i*(window.devicePixelRatio||1);return this._index?.search({minX:s-a,minY:r-a,maxX:s+a,maxY:r+a},(l=>{const{layer:a,feature:y}=l;a.isIntersectingFeature(s,r,i,y,o,n,l)&&t.push({layerId:a.id,layerIndex:a.uid,tilePoint:null,graphic:new e({attributes:y.values,origin:{type:\"vector-tile\",layerId:l.layer.id,layerIndex:l.layer.uid,layer:this._parentLayer}})})})),t}async _getTilePayload(e){return t(this._tileKeyToPBF,e.id,(()=>this._tileHandler.fetchTilePBFs(e))).then((e=>e))}}const d=e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]});export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{clone as t}from\"../../../core/lang.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{isAbortError as r}from\"../../../core/promiseUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as n,hasDiff as o}from\"../../../core/accessorSupport/diffUtils.js\";import h from\"../../../geometry/Point.js\";import{create as u}from\"../../../geometry/support/aaBoundingRect.js\";import{equals as y}from\"../../../geometry/support/spatialReferenceUtils.js\";import{StyleUpdateType as c}from\"../engine/vectorTiles/enums.js\";import{TileHandler as d}from\"../engine/vectorTiles/TileHandler.js\";import{TileManager as _}from\"../engine/vectorTiles/TileManager.js\";import{VectorTile as p}from\"../engine/vectorTiles/VectorTile.js\";import{VectorTileContainer as f}from\"../engine/vectorTiles/VectorTileContainer.js\";import g from\"../engine/vectorTiles/VectorTileFeatureIndex.js\";import{StyleLayerType as m}from\"../engine/vectorTiles/style/StyleDefinition.js\";import T from\"../engine/vectorTiles/style/StyleRepository.js\";import{LayerView2DMixin as C}from\"./LayerView2D.js\";import R from\"../tiling/TileInfoViewPOT.js\";import v from\"../tiling/TileQueue.js\";import H from\"../../layers/LayerView.js\";import w from\"../../layers/RefreshableLayerView.js\";import{TaskPriority as I}from\"../../support/Scheduler.js\";const S=2,D=8,P=512;let Q=class extends(w(C(H))){constructor(){super(...arguments),this._styleChanges=[],this._fetchQueue=null,this._parseQueue=null,this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._styeChanged=!1,this._spriteSourceChanged=!1}get fading(){return this._vectorTileContainer?.fading??!1}get hasVisibleFeatures(){const e=this._vectorTileContainer.children;for(const t of e)if(t.hasFeatures())return!0;return!1}get spriteSourceChanged(){return this._spriteSourceChanged}get styleChanged(){return this._styeChanged}async hitTest(e,t){const i=this._tileHandlerPromise,s=this._vectorTileContainer?.symbolFader;if(!i||!this._isTileHandlerReady||!s)return;await i;let r=null;const a=this._vectorTileContainer?.symbolRepository;a&&(r=a.querySymbols(t,S,s.decluttererOffset,{}));const l=this.view.state,n=this._tileManager.getIntersectingTiles(t.x,t.y,S,l,r);if((!n||0===n.length)&&0===r?.length)return null;e=e.clone().normalize();const o=[],h=[];for(const u of n)o.push(this._queryTile(h,e,S,this.view.state.rotation,u,r?.filter((e=>e.tileKey.id===u.id))));return await Promise.all(o),h}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._tileHandler.devicePixelRatio=e.pixelRatio,void this._loadStyle()):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._pauseQueues(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._resumeQueues()))}attach(){const{style:e}=this.layer.currentStyleInfo;this._styleRepository=new T(e),this._tileInfoView=new R(this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new f(this._tileInfoView),this._tileHandler=new d(this.layer,this._styleRepository,window.devicePixelRatio||1,this.layer.tileInfo.lods.length-1),this.container.addChild(this._vectorTileContainer),this._start(),this.addAttachHandles([this.layer.on(\"paint-change\",(e=>{if(this._styeChanged=!0,e.isDataDriven)this._styleChanges.push({type:c.PAINTER_CHANGED,data:e}),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;const s=i.type===m.SYMBOL;t.setPaintProperties(e.layer,e.paint),s&&this._vectorTileContainer?.restartDeclutter(),this._vectorTileContainer?.requestRender()}})),this.layer.on(\"layout-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;this._styeChanged=!0;const s=n(i.layout,e.layout);if(null!=s){if(o(s,\"visibility\")&&1===E(s))return t.setLayoutProperties(e.layer,e.layout),i.type===m.SYMBOL&&this._vectorTileContainer?.restartDeclutter(),void this._vectorTileContainer?.requestRender();this._styleChanges.push({type:c.LAYOUT_CHANGED,data:e}),this.requestUpdate()}})),this.layer.on(\"style-layer-visibility-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(this._styeChanged=!0,t.setStyleLayerVisibility(e.layer,e.visibility),i.type===m.SYMBOL&&this._vectorTileContainer?.restartDeclutter(),this._vectorTileContainer?.requestRender())})),this.layer.on(\"style-layer-change\",(e=>{this._styleChanges.push({type:c.LAYER_CHANGED,data:e}),this._styeChanged=!0,this.requestUpdate()})),this.layer.on(\"delete-style-layer\",(e=>{this._styleChanges.push({type:c.LAYER_REMOVED,data:e}),this._styeChanged=!0,this.requestUpdate()})),this.layer.on(\"load-style\",(()=>this._loadStyle())),this.layer.on(\"spriteSource-change\",(e=>{this._spriteSourceChanged=!0,this._styleChanges.push({type:c.SPRITES_CHANGED,data:e});const t=this._styleRepository.layers;for(const i of t)switch(i.type){case m.SYMBOL:i.getLayoutProperty(\"icon-image\")&&this._styleChanges.push({type:c.LAYOUT_CHANGED,data:{layer:i.id,layout:i.layout}});break;case m.LINE:i.getPaintProperty(\"line-pattern\")&&this._styleChanges.push({type:c.PAINTER_CHANGED,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}});break;case m.FILL:i.getLayoutProperty(\"fill-pattern\")&&this._styleChanges.push({type:c.PAINTER_CHANGED,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}})}this.requestUpdate()}))])}detach(){this._stop(),this.container.removeAllChildren(),this._vectorTileContainer=s(this._vectorTileContainer),this._tileHandler=s(this._tileHandler)}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}supportsSpatialReference(e){return y(this.layer.tileInfo?.spatialReference,e)}canResume(){let e=super.canResume();const{currentStyleInfo:t}=this.layer;if(e&&t?.layerDefinition){const i=this.view.scale,{minScale:s,maxScale:r}=t.layerDefinition;t?.layerDefinition&&(s&&s<i&&(e=!1),r&&r>i&&(e=!1))}return e}isUpdating(){return this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._updatingHandles.addPromise(this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once(\"attach\",(()=>this.requestUpdate())),t.setData(e),this.requestUpdate()})).catch((e=>{r(e)||i.getLogger(this).error(e)}))),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}async doRefresh(){if(!this.attached)return;if(this.suspended)return this._tileManager.clear(),void this.requestUpdate();this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._tileManager.clearCache(),this._resumeQueues();const e=this._vectorTileContainer.children,t=[];try{for(const i of e){const e=this._updatingHandles.addPromise(this._fetchQueue.push(i.key).then((e=>this._parseQueue.push({key:i.key,data:e}))).then((e=>i.setData(e))).finally((()=>i.featureIndex=null)));t.push(e)}await Promise.all(t)}catch(s){i.getLogger(this).error(\"error refreshing vector-tiles layer-view\",s),this._resumeQueues(),this._isTileHandlerReady=!0}this._isTileHandlerReady=!0,this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new _({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new v({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15,scheduler:this.scheduler,priority:I.MAPVIEW_FETCH_QUEUE}),this._parseQueue=new v({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8,scheduler:this.scheduler,priority:I.MAPVIEW_VECTOR_TILE_PARSING_QUEUE}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository,this._tileInfoView),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue=s(this._fetchQueue),this._parseQueue=s(this._parseQueue),this._tileManager=s(this._tileManager),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){return this._tileHandler.fetchTileData(e,t)}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(l){i.getLogger(this).error(\"error applying vector-tiles style update\",l.message),this._resumeQueues(),this._isTileHandlerReady=!0}const t=this._styleRepository,s=new Set;e.forEach((e=>{if(e.type!==c.LAYER_REMOVED)return;const i=e.data,r=t.getLayerById(i.layer);r&&s.add(r.uid)}));const r=new Set;e.forEach((e=>{let i;switch(e.type){case c.PAINTER_CHANGED:t.setPaintProperties(e.data.layer,e.data.paint),i=e.data.layer;break;case c.LAYOUT_CHANGED:t.setLayoutProperties(e.data.layer,e.data.layout),i=e.data.layer;break;case c.LAYER_REMOVED:return void t.deleteStyleLayer(e.data.layer);case c.LAYER_CHANGED:t.setStyleLayer(e.data.layer,e.data.index),i=e.data.layer.id;break;case c.SPRITES_CHANGED:this._vectorTileContainer.setSpriteMosaic(this._tileHandler.setSpriteSource(e.data.spriteSource))}if(i){const e=t.getLayerById(i);e&&r.add(e.uid)}}));const a=this._vectorTileContainer.children;if(s.size>0){const e=Array.from(s);this._vectorTileContainer.deleteStyleLayers(e);for(const t of a)t.deleteLayerData(e)}if(this._resumeQueues(),r.size>0){const e=Array.from(r),t=[];for(const i of a){const s=this._updatingHandles.addPromise(this._fetchQueue.push(i.key).then((t=>this._parseQueue.push({key:i.key,data:t,styleLayerUIDs:e}))).then((e=>i.setData(e))).finally((()=>i.featureIndex=null)));t.push(s)}await Promise.all(t)}this._styleChanges=[],this._isTileHandlerReady=!0,this.requestUpdate()}async _loadStyle(){const{style:e}=this.layer.currentStyleInfo,i=t(e);this._isTileHandlerReady=!1,this._pauseQueues(),this._clearQueues(),this._styleRepository=new T(i),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=new AbortController;const{signal:s}=this._tileHandlerAbortController;try{this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,i,this.layer.tileInfo.lods.length-1),await this._tileHandlerPromise}catch(n){if(!r(n))throw n}if(s.aborted)return this._resumeQueues(),this._isTileHandlerReady=!0,this._styeChanged=!1,this._spriteSourceChanged=!1,void this.requestUpdate();const a=await this._tileHandler.spriteMosaic,l=this._vectorTileContainer;this._tileInfoView=new R(this.layer.tileInfo,this.layer.fullExtent),l.setStyleResources(a,this._tileHandler.glyphMosaic,this._styleRepository,this._tileInfoView),this._tileManager=new _({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),this._resumeQueues(),this._isTileHandlerReady=!0,this.requestUpdate(),this._styeChanged=!1,this._spriteSourceChanged=!1}_createVectorTile(e){const t=this._tileInfoView.getTileBounds(u(),e),i=this._tileInfoView.getTileResolution(e.level);return new p(e,i,t[0],t[3],512,512,this._styleRepository)}async _queryTile(e,t,i,s,r,a){if(0===r.layerData.size)return;const l=this._ensureTileIndex(r),n=this._tileInfoView.getTileBounds(u(),r.key,!0),o=D*P*((t.x-n[0])/(n[2]-n[0])),h=D*P*(1-(t.y-n[1])/(n[3]-n[1])),y=await l.queryAttributes(o,h,i,s,a);for(const u of y)u.graphic.geometry=this._tileToMapPoint(u.tilePoint,r.transforms.tileUnitsToPixels),e.push({type:\"graphic\",layer:this.layer,graphic:u.graphic,mapPoint:t.clone()});e.sort(((e,t)=>t.graphic.origin.layerIndex-e.graphic.origin.layerIndex))}_tileToMapPoint(e,t){if(!e)return null;const i=e[0]*t[0]+e[1]*t[3]+t[6],s=e[0]*t[1]+e[1]*t[4]+t[7],r=this.view.state,a=[0,0];return r.toMap(a,[i,s]),new h({x:a[0],y:a[1],spatialReference:r.spatialReference})}_ensureTileIndex(e){let t=e.featureIndex;return t||(t=g.create(e.key,e.layerData,this._styleRepository,this._tileHandler,this.layer),e.featureIndex=t),t}_pauseQueues(){this._fetchQueue.pause(),this._parseQueue.pause()}_resumeQueues(){this._fetchQueue.resume(),this._parseQueue.resume()}_clearQueues(){this._fetchQueue.clear(),this._parseQueue.clear()}};function E(e){if(null==e)return 0;switch(e.type){case\"partial\":return Object.keys(e.diff).length;case\"complete\":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case\"collection\":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}e([a()],Q.prototype,\"_isTileHandlerReady\",void 0),Q=e([l(\"esri.views.2d.layers.VectorTileLayerView2D\")],Q);const A=Q;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{tileCoordSize as e}from\"./constants.js\";class t{constructor(s){this.extent=e,this.keys=[],this.values=[],this._pbfLayer=s.clone();const a=s.asUnsafe();for(;a.next();)switch(a.tag()){case 1:this.name=a.getString();break;case 3:this.keys.push(a.getString());break;case 4:this.values.push(a.processMessage(t._parseValue));break;case 5:this.extent=a.getUInt32();break;default:a.skip()}}getData(){return this._pbfLayer}static _parseValue(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Point as e}from\"../../../../geometry/support/TileClipper.js\";var t;!function(e){e[e.moveTo=1]=\"moveTo\",e[e.lineTo=2]=\"lineTo\",e[e.close=7]=\"close\"}(t||(t={}));class s{constructor(e,t,s=0){this.values={},this._geometry=void 0,this._pbfGeometry=null,this.featureIndex=s;const o=t.keys,r=t.values,a=e.asUnsafe();for(;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:{const e=a.getMessage().asUnsafe(),t=this.values;for(;!e.empty();){const s=e.getUInt32(),a=e.getUInt32();t[o[s]]=r[a]}e.release();break}case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}getGeometry(s){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const o=this._pbfGeometry.asUnsafe();let r,a;this._pbfGeometry=null,s?s.reset(this.type):r=[];let n,i=t.moveTo,l=0,h=0,c=0;for(;!o.empty();){if(0===l){const e=o.getUInt32();i=7&e,l=e>>3}switch(l--,i){case t.moveTo:h+=o.getSInt32(),c+=o.getSInt32(),s?s.moveTo(h,c):r&&(a&&r.push(a),a=[],a.push(new e(h,c)));break;case t.lineTo:h+=o.getSInt32(),c+=o.getSInt32(),s?s.lineTo(h,c):a&&a.push(new e(h,c));break;case t.close:s?s.close():a&&!a[0].equals(h,c)&&a.push(a[0].clone());break;default:throw o.release(),new Error(\"Invalid path operation\")}}return s?n=s.result():r&&(a&&r.push(a),n=r),o.release(),this._geometry=n,n}}export{s as default};\n"],"names":["i","a","initialize","this","addHandles","o","layer","r","doRefresh","dataChanged","catch","s","e","getLogger","error","t","n","key","level","row","col","constructor","super","tileInfoView","sortFunction","renderChildren","setStencilReference","createRenderParams","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","push","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","LABEL","target","getStencilTarget","has","children","stencilRef","c","h","y","arguments","length","undefined","styleRepository","_declutterBudget","_tileToHandle","Map","_viewState","rotation","center","size","_declutterViewState","_offsetFromScreenCenter","_completed","_fading","_symbolRepository","_symbolDeclutterer","_","_createCollisionJob","m","getStyleLayerByUID","styleLayerUID","z","_zoom","minzoom","maxzoom","getLayoutProperty","getValue","l","NONE","symbolRepository","updateDecluttererViewState","fading","value","decluttererOffset","registerFeatureTile","restartDeclutter","console","unregisterFeatureTile","insertFeatureTileMetrics","removeFeatureTileMetrics","addTile","decluttered","set","on","registerVectorTile","removeTile","get","unregisterVectorTile","remove","delete","update","toScreen","_continueDeclutter","restart","_notifyUnstable","clear","forEach","stale","_declutterZoom","deleteStyleLayers","running","setScreenSize","continue","_scheduleNotifyStable","_stableNotificationHandle","clearTimeout","setTimeout","_compareMinX","u","_compareMinY","d","_toBBox","_maxEntries","Math","max","_minEntries","ceil","_initFormat","destroy","Y","prune","B","w","j","all","_data","search","M","leaf","g","pop","collides","load","insert","_build","slice","height","_splitRoot","_insert","S","data","indexHint","splice","_condense","toJSON","fromJSON","log","sqrt","X","min","f","_split","_chooseSplitAxis","_chooseSplitIndex","p","_allDistMargin","sort","x","Function","join","pushArray","minX","minY","maxX","maxY","deallocator","E","b","_tiles","_tileCache","dispose","_viewSize","_visibleTiles","acquireTile","releaseTile","_container","values","_updateCacheSize","getTileCoverage","spans","lodInfo","Set","colFrom","colTo","getId","normalizeCol","getWorldForColumn","_getOrAcquireTile","add","processed","_addToContainer","isCoverage","_findPlaceholdersForMissingTiles","neededForCoverage","isHoldingForFade","intersects","isFading","keys","_releaseTile","pool","release","clearCache","getIntersectingTiles","toMap","T","getTileBounds","map","id","filter","tileKey","_addPlaceholderChild","reduce","abs","_addPlaceholderParent","hasData","world","_removeFromContainer","put","contains","_canConnectDirectly","childrenTiles","parentTile","addChild","removeChild","maxSize","split","parseInt","_backgroundTiles","_computeDisplayInfoView","removeAllChildren","_spriteMosaic","_glyphMosaic","_symbolFader","_styleRepository","symbolFader","setStyleResources","allSymbolsFadingOut","lastOpacityUpdate","requestRender","setSpriteMosaic","renderPass","styleLayer","glyphMosaic","spriteMosaic","hasClipping","_clippingInfos","doRender","visible","_doRender","context","layers","_displayInfo","backgroundBucketIds","_renderBackgroundLayers","_fade","bindVAO","setStencilTestEnabled","setBlendingEnabled","triangleCount","setStencilWriteMask","setColorMask","setStencilOp","KEEP","REPLACE","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","LEQUAL","setClearDepth","DEPTH","_renderStyleLayer","setBlendFunctionSeparate","ONE","ONE_MINUS_SRC_ALPHA","debugInfo","display","painter","type","BACKGROUND","FILL","LINE","CIRCLE","SYMBOL","uid","layerData","renderObjects","getLayerById","C","F","L","R","_renderPasses","prepareState","drawMany","v","I","resolution","getTileResolution","setTransform","setStencilFunction","EQUAL","lods","create","scales","spatialReference","numLODs","vtlSymbol","sourceTile","_tileLayerData","_tileHandler","_parentLayer","_index","_tileKeyToPBF","queryAttributes","_indexLayers","_queryIndex","_getSymbolsAttributes","_getTilePayload","find","sourceName","source","protobuff","_indexLayer","sourceLayer","getFeatureFilter","Uint8Array","DataView","next","tag","getMessage","getData","extent","D","nextTag","_minzoom","_maxzoom","getFeatureInflatedBounds","skip","from","to","sourceTileKey","_addSymbolsAttributes","featureIndex","_getSymbolAttributes","attributes","tilePoint","layerId","layerIndex","graphic","origin","getGeometry","window","devicePixelRatio","feature","isIntersectingFeature","fetchTilePBFs","then","bounds","Q","H","_styleChanges","_fetchQueue","_parseQueue","_tileHandlerPromise","_isTileHandlerReady","_styeChanged","_spriteSourceChanged","_vectorTileContainer","hasVisibleFeatures","hasFeatures","spriteSourceChanged","styleChanged","hitTest","querySymbols","view","_tileManager","clone","normalize","_queryTile","Promise","pixelRatio","_loadStyle","_applyStyleChanges","_pauseQueues","requestUpdate","_resumeQueues","attach","style","currentStyleInfo","_tileInfoView","fullExtent","container","_start","addAttachHandles","isDataDriven","PAINTER_CHANGED","setPaintProperties","paint","layout","Object","diff","oldValue","newValue","added","changed","removed","setLayoutProperties","LAYOUT_CHANGED","setStyleLayerVisibility","visibility","LAYER_CHANGED","LAYER_REMOVED","SPRITES_CHANGED","getPaintProperty","isPainterDataDriven","detach","_stop","viewChange","moveEnd","supportsSpatialReference","canResume","layerDefinition","minScale","maxScale","isUpdating","_createVectorTile","_updatingHandles","addPromise","once","setData","abort","attached","suspended","_clearQueues","finally","AbortController","start","signal","process","_getTileData","concurrency","scheduler","priority","MAPVIEW_FETCH_QUEUE","_parseTileData","MAPVIEW_VECTOR_TILE_PARSING_QUEUE","_tileHandlerAbortController","fetchTileData","parseTileData","updateStyle","message","deleteStyleLayer","setStyleLayer","index","setSpriteSource","spriteSource","Array","deleteLayerData","styleLayerUIDs","setStyle","aborted","_ensureTileIndex","geometry","_tileToMapPoint","transforms","tileUnitsToPixels","mapPoint","pause","resume","prototype","A","_pbfLayer","asUnsafe","getString","processMessage","_parseValue","getUInt32","getFloat","getDouble","getInt64","getUInt64","getSInt64","getBool","moveTo","lineTo","close","_geometry","_pbfGeometry","empty","reset","getSInt32","equals","Error","result"],"sourceRoot":""}