{"version":3,"file":"static/js/14502.57426f5e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/DirectRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/LodRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/FeaturePipelineRenderManager.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipeline.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Promise.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WorkerHandle as n}from\"../../../../../core/workers/WorkerHandle.js\";import a from\"../../../../../geometry/Extent.js\";import{clone as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import s from\"../../../../../rest/support/FeatureSet.js\";import{ElevationContext as d}from\"../ElevationContext.js\";import{applyElevationAlignment as c}from\"./utils.js\";let l=class extends r{constructor(e){super(e),this.schedule=null,this._workerUpdating=!0}get updating(){return this._workerUpdating}initialize(){const{layer:e,layerView:r,viewSpatialReference:t,renderSpatialReference:o}=this,n=e.elevationInfo;this._elevationContext=d.fromElevationInfo(n),this._workerHandle=new u(this.schedule,{createTexture:async({data:e,parameters:r})=>({result:await this.renderer.createTexture(e,r),transferList:[]}),releaseTexture:async({uid:e})=>(await this.renderer.releaseTexture(e),y),createMaterial:async({materialJSON:e})=>(await this.renderer.createMaterial(e),y),destroyMaterial:async({materialId:e})=>(await this.renderer.destroyMaterial(e),y),createDirectRenderer:async({materialId:e})=>(await this.renderer.createDirectRenderer(e),y),destroyDirectRenderer:async({materialId:e})=>(await this.renderer.destroyDirectRenderer(e),y),createLoDRenderer:async({rendererId:e,lodRenderGeometry:r},t)=>(await this.renderer.createLoDRenderer(e,r,t?.signal??void 0),y),destroyLoDRenderer:async({rendererId:e},r)=>(await this.renderer.destroyLoDRenderer(e,r?.signal??void 0),y),dispatchRenderCommands:async({commands:e})=>(await this.renderer.executeRenderCommands(e),y),applyElevationAlignment:async({mapPoints:e})=>{const{viewSpatialReference:r,elevationProvider:t,renderCoordsHelper:o}=this,n=c(e,r,this._elevationContext,t,o);return{result:n,transferList:[n.buffer]}}}),this.addResolvingPromise((async()=>{await e.load();const a={url:e.parsedUrl?.path??\"\",baseQuery:e.createQuery().toJSON(),objectIdField:e.objectIdField,capabilities:e.capabilities,fieldIndex:e.fieldsIndex.toJSON(),timeInfo:e.timeInfo?.toJSON(),elevationInfo:n?.toJSON(),fullExtent:e.fullExtent?.toJSON(),renderer:e.renderer?.toJSON()},i={fullOpacity:r.fullOpacity};await this._workerHandle.invokeMethod(\"setup\",{viewSpatialReference:t.toJSON(),renderSpatialReference:o.toJSON(),viewingMode:this.viewingMode,layerInfo:a,layerViewInfo:i})})()),this.addHandles(this._workerHandle.on(\"notify-updating\",(({updating:e})=>{this._workerUpdating=e})))}onTileTreeChange(e){this._workerHandle.invokeMethod(\"onTileTreeChange\",{tiles:e.items.map(p)})}onElevationChange(e){this._workerHandle.invokeMethod(\"onElevationChange\",{context:e.context,spatialReference:e.spatialReference?.toJSON(),extent:i(e.extent)})}onLayerViewOpacityChange(e){this._workerHandle.invokeMethod(\"onLayerViewOpacityChange\",e)}onRendererChange(e){const r=e?.toJSON();this._workerHandle.invokeMethod(\"onRendererChange\",r)}async executeQuery(e,r){const t=await this._workerHandle.invokeMethod(\"executeQuery\",e?.toJSON(),r),o=s.fromJSON(t);return this._ensureLayerOnFeatures(o),o}async executeQueryForIds(e,r){return await this._workerHandle.invokeMethod(\"executeQueryForIds\",e?.toJSON(),r)}async executeQueryForCount(e,r){return await this._workerHandle.invokeMethod(\"executeQueryForCount\",e?.toJSON(),r)}async executeQueryForExtent(e,r){const{count:t,extent:o}=await this._workerHandle.invokeMethod(\"executeQueryForExtent\",e?.toJSON(),r);return{count:t,extent:a.fromJSON(o)}}async executeQueryForLatestObservations(e,r){const t=await this._workerHandle.invokeMethod(\"executeQueryForLatestObservations\",e?.toJSON(),r),o=s.fromJSON(t);return this._ensureLayerOnFeatures(o),o}_ensureLayerOnFeatures(e){const{layer:r}=this;for(const t of e.features)t.layer=r,t.sourceLayer=r}};e([t()],l.prototype,\"updating\",null),e([t({constructOnly:!0})],l.prototype,\"schedule\",void 0),e([t({constructOnly:!0})],l.prototype,\"layer\",void 0),e([t({constructOnly:!0})],l.prototype,\"layerView\",void 0),e([t({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),e([t({constructOnly:!0})],l.prototype,\"renderSpatialReference\",void 0),e([t({constructOnly:!0})],l.prototype,\"viewingMode\",void 0),e([t({constructOnly:!0})],l.prototype,\"renderer\",void 0),e([t({constructOnly:!0})],l.prototype,\"elevationProvider\",void 0),e([t({constructOnly:!0})],l.prototype,\"renderCoordsHelper\",void 0),e([t()],l.prototype,\"_workerUpdating\",void 0),l=e([o(\"esri.views.3d.layers.graphics.pipeline.Feature3DPipelineWorkerHandle\")],l);class u extends n{constructor(e,r){super(\"Feature3DPipelineWorker\",\"setup\",{},e,{strategy:\"dedicated\",client:r})}}function p({id:e,lij:r,extent:t}){return{id:e,lij:r,extent:t}}const y={result:void 0};export{l as Feature3DPipelineWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{nullUid as t}from\"../../../../../../core/uid.js\";import{property as r}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{glLayout as s}from\"../../../../support/buffer/glUtil.js\";import{ShaderOutput as n}from\"../../../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncRenderPlugin as o}from\"../../../../webgl-engine/effects/RenderPlugin.js\";import{GLMaterials as a}from\"../../../../webgl-engine/lib/GLMaterials.js\";import{IntersectorType as l}from\"../../../../webgl-engine/lib/IntersectorType.js\";import{BoundingVolume as u}from\"../../../../webgl-engine/lib/Object3D.js\";import{RenderSlot as c}from\"../../../../webgl-engine/lib/RenderSlot.js\";import{DrawParameters as m}from\"../../../../webgl-engine/materials/DrawParameters.js\";import{HUDMaterial as d}from\"../../../../webgl-engine/materials/HUDMaterial.js\";let h=class extends o{constructor(e){super(e),this._glMaterials=null,this._produces=new Map,this._renderGeometries=new Map,this._vaoCache=null,this._drawParameters=new m,this._bufferWriter=null,this.slicePlaneEnabled=!1,this.isGround=!1,this.type=e.material instanceof d?l.HUD:l.OBJECT,this.layerViewUid=e.layerViewUid}get produces(){return this._produces}get numFeatures(){const e=6;let t=0;return this._renderGeometries.forEach((r=>t+=r.numElements/e)),t}get usedMemory(){let e=0;return this._renderGeometries.forEach((t=>{e+=t.vao.usedMemory})),e}intersect(e,r,i,s){const{material:n,_bufferWriter:o,layerViewUid:a,_renderGeometries:l}=this;null!=o.intersect&&l.forEach((({buffer:r,localOrigin:l,items:c})=>o.intersect(r.data,n.parameters,l,e,i,s,((r,i,s,o)=>{if(!c.visibilities[s])return;const l=c.objectIds[s];e.handleObjectIntersection({object:{id:t,graphicUid:l,layerViewUid:a,boundingVolumeWorldSpace:new u,geometries:[{material:n}]},geometryId:0,primitiveIndex:s},r,i,null,o)}))))}initialize(){this._bufferWriter=this.material.createBufferWriter(),this.material.produces.forEach(((e,t)=>{this._produces.set(t,(t=>t!==n.Highlight&&t!==n.ShadowHighlight&&e(t)))}))}destroy(){this._glMaterials.dispose();const e=this._renderGeometries.keys();for(const t of e)this.removeRenderGeometryBuffer(t)}acquireTechniques(e){const t=this.material;if(!t.shouldRender(e))return null;const{output:r,bind:i}=e,s=t.produces.get(i.slot);if(!s?.(r))return null;if(r===n.Highlight||r===n.ShadowHighlight)return null;const o=this._glMaterials.load(e.rctx,i.slot,r);return o?.beginSlot(i)}render(e,t){const r=this._renderGeometries;if(0===r.size)return;const{bind:i}=e,s=i.slot===c.OCCLUDER_MATERIAL||i.slot===c.TRANSPARENT_OCCLUDER_MATERIAL?i.slot:null,n=e.rctx;n.runAppleAmdDriverHelper(),n.bindTechnique(t,i,this.material.parameters);const o=t.program;for(const[a,l]of r){const{vao:e,localOrigin:r,drawCalls:a}=l;this._drawParameters.origin=r,o.bindDraw(i,this.material.parameters,this._drawParameters),t.ensureAttributeLocations(e),n.bindVAO(e),n.setPipelineState(t.getPipeline(!1,s));for(const i of a)n.drawArrays(t.primitiveType,i.start,i.count)}}initializeRenderContext(e){this._glMaterials=new a(this.material,e.materials),this._vaoCache=e.renderContext.rctx.getVaoCache(this.material.vertexAttributeLocations,s(this._bufferWriter.vertexBufferLayout))}uninitializeRenderContext(){}addRenderGeometryBuffer(e,t,r,i){this.removeRenderGeometryBuffer(e);const{data:s,elementCount:n}=t,o=this._vaoCache.newVao(s.byteLength);o.vertexBuffers.get(\"geometry\").setSubData(new Uint8Array(s),0,0,s.byteLength);const a={localOrigin:i,numElements:n,buffer:t,items:r,vao:o,drawCalls:this._produceDrawCalls(r)};this._renderGeometries.set(e,a)}updateRenderGeometryBuffer(e,t,r,i){const{data:s,elementCount:n}=t,o=this._renderGeometries.get(e);if(null==o)return;this._vaoCache.deleteVao(o.vao);const a=this._vaoCache.newVao(s.byteLength);a.vertexBuffers.get(\"geometry\").setSubData(new Uint8Array(s),0,0,s.byteLength),o.localOrigin=i,o.numElements=n,o.buffer=t,o.items=r,o.vao=a,o.drawCalls=this._produceDrawCalls(r)}removeRenderGeometryBuffer(e){const t=this._renderGeometries.get(e);null!=t&&(this._vaoCache.deleteVao(t.vao),this._renderGeometries.delete(e))}updateVisibility(e,t){const r=this._renderGeometries.get(e);if(null==r)return;const{items:i}=r;if(i.visibilities.length!==t.length)throw new Error(\"Unexpected mismatch between old and new visibility flag buffer length.\");i.visibilities=t,r.drawCalls=this._produceDrawCalls(i)}hasHighlight(){return!1}_produceDrawCalls(e){const{visibilities:t,ranges:r}=e,i=[];if(f(r)){if(0===r.numItems)return[];const e=r.numVertices;let s=null;for(let n=0;n<r.numItems;++n){t[n]?null==s?(s={start:n*e,count:e},i.push(s)):s.count+=e:s=null}}else{const e=r.counts,s=e.length;if(0===s)return[];let n=null,o=0;for(let r=0;r<s;++r){const s=t[r],a=e[r];s?null==n?(n={start:o,count:a},i.push(n)):n.count+=a:n=null,o+=a}}return i}};function f(e){return\"numItems\"in e}e([r({constructOnly:!0})],h.prototype,\"material\",void 0),h=e([i(\"esri.views.3d.layers.graphics.pipeline.rendering.DirectRenderer\")],h);export{h as DirectRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import has from\"../../../../../../core/has.js\";import{throwIfAborted as r}from\"../../../../../../core/promiseUtils.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/RandomLCG.js\";import\"../../../../../../core/Error.js\";import{subclass as s}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{VertexAttribute as t}from\"../../../../webgl-engine/lib/VertexAttribute.js\";import{LodRenderer as n}from\"../../../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{LodComponentRenderGeometry as o,LodComponentResources as i,LodLevelResources as a,LodResources as d}from\"../../../../webgl-engine/lib/lodRendering/LodResources.js\";let l=class{constructor(e){this._optionalFields=new Array,this._instanceGroupToIndices=new Map,this._instanceIndexToFeatureId=new Map,this._disposeResourceHandles=new Array,this._lodRendererResources=null,this._numFeatures=0,this.layerViewUid=e.layerViewUid,this.view=e.view,this.sharedResources=this.view.sharedSymbolResources,this.scheduler=this.view.resourceController.scheduler}get numFeatures(){return this._numFeatures}get usedMemory(){const e=this._lodRendererResources?.lodRenderer,r=e?.symbol;return(r?.computeUsedMemory()??0)+16*this._instanceIndexToFeatureId.size}destroy(){this._disposeResourceHandles.forEach((e=>e()))}async doLoad(e,s,n){has(\"enable-feature:objectAndLayerId-rendering\")&&this._optionalFields.push(t.OLIDCOLOR);const o=c((e=>s(e)),e),i=this.view.stage,a=o.getMaterials(),d=o.getTextures();i.addTextures(d),this._addDisposeResource((()=>{d.forEach((e=>e.unload())),i.removeTextures(d)})),await Promise.all(d.map((e=>this.view.stage.schedule((()=>e.load(i.renderView.renderingContext)),n)))),r(n);const l=await this._createLodRenderer(o,n);this._lodRendererResources={lodRenderer:l,materials:a,textures:d}}addInstances(e,r){const s=this._lodRendererResources;if(null==s)return;const t=s.lodRenderer;if(null==t)return;const{featureIds:n,localTransforms:o,globalTransforms:i,visibility:a}=r,d=new Array,l=t.instanceData,c=n.length,u=this._instanceIndexToFeatureId;for(let h=0;h<c;++h){const e=n[h],r=l.addInstance(),s=l.view,t=16*h;s.localTransform.copyFromTypedBuffer(r,o,t),s.globalTransform.copyFromTypedBuffer(r,i,t),l.updateModelTransform(r),l.setVisible(r,Boolean(a[h])),d.push(r),u.set(r,e)}this._instanceGroupToIndices.set(e,d),this._numFeatures+=c}removeInstances(e){const r=this._instanceGroupToIndices.get(e);if(null==r)return;const s=this._lodRendererResources;if(null==s)return;const t=s.lodRenderer.instanceData,n=this._instanceIndexToFeatureId;for(const o of r)t.removeInstance(o),n.delete(o);this._numFeatures-=r.length,this._instanceGroupToIndices.delete(e)}updateVisibility(e,r){const s=this._instanceGroupToIndices.get(e);if(null==s)return;const t=this._lodRendererResources;if(null==t)return;const n=s.length;if(n!==r.length)throw new Error(\"Unexpected mismatch instance count and visibility flag buffer length.\");const o=t.lodRenderer.instanceData;for(let i=0;i<n;++i)o.setVisible(s[i],Boolean(r[i]))}updateGlobalTransforms(e,r){const s=this._instanceGroupToIndices.get(e);if(null==s)return;const t=this._lodRendererResources;if(null==t)return;const n=s.length;if(16*n!==r.length)throw new Error(\"Unexpected mismatch instance count and visibility flag buffer length.\");const o=t.lodRenderer.instanceData,i=o.view;for(let a=0;a<n;++a){const e=s[a],t=16*a;i.globalTransform.copyFromTypedBuffer(e,r,t),o.updateModelTransform(e)}}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createLodRenderer(e,r){const s=this.view.stage,t={layerViewUid:this.layerViewUid,graphicUid:e=>this._instanceIndexToFeatureId.get(e)??-1,notifyGraphicGeometryChanged:e=>1,notifyGraphicVisibilityChanged:e=>1},o=new n({symbol:e,optionalFields:this._optionalFields,metadata:t,shaderTransformation:null},this.scheduler);return o.slicePlaneEnabled=!1,this._addDisposeResource((()=>{s.removeRenderPlugin(o),o.destroy()})),await s.addRenderPlugin(o,r),o}};function c(e,r){const s=r.levels.map((r=>{const s=r.components.map((r=>{const s=e(r.materialId);if(!u(s))throw new Error(\"LodRenderer only supports DefaultMaterial\");const t=new o(s,r.renderGeometryBuffer.data,r.renderGeometryBuffer.elementCount,r.boundingInfo);return new i(t)}));return new a(s,r.minScreenSpaceRadius)}));return new d(s)}function u(e){return null!=e&&\"materialType\"in e&&\"default\"===e.materialType}l=e([s(\"esri.views.3d.layers.graphics.pipeline.rendering.LodRenderer\")],l);export{l as LodRenderer,u as isDefaultMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import r from\"../../../../../../core/Accessor.js\";import\"../../../../../../core/has.js\";import{createAbortError as t}from\"../../../../../../core/promiseUtils.js\";import{property as s}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{ONES as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as d}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as n}from\"../../../../../ViewingMode.js\";import{DirectRenderer as o}from\"./DirectRenderer.js\";import{LodRenderer as l}from\"./LodRenderer.js\";import{CullFaceOptions as c}from\"../../../../webgl-engine/lib/basicInterfaces.js\";import{Texture as u}from\"../../../../webgl-engine/lib/Texture.js\";import{DefaultMaterial as m}from\"../../../../webgl-engine/materials/DefaultMaterial.js\";import{HUDMaterial as h}from\"../../../../webgl-engine/materials/HUDMaterial.js\";import{schematicMRRFactors as f}from\"../../../../webgl-engine/materials/pbrUtils.js\";let p=class extends r{constructor(e){super(),this.view=null,this.layerViewUid=null,this._stage=null,this._materials=new Map,this._textures=new Map,this._directRenderers=new Map,this._lodRenderers=new Map,this.totalFeatures=0,this.view=e.view,this.layerViewUid=e.layerViewUid}initialize(){this._stage=this.view.stage}destroy(){this.removeAllHandles(),this._lodRenderers.forEach((e=>e.destroy()))}async createTexture(e,r){const{_textures:t,_stage:s}=this,i=new u(e,r);return t.set(i.id,i),s&&(i.load(s.renderView.renderingContext),s.addTexture(i)),i.id}async releaseTexture(e){const{_textures:r,_stage:t}=this,s=r.get(e);s&&(t&&(s.unload(),t.removeTexture(s)),r.delete(e))}_destroyTexture(e){const{_textures:r,_stage:t}=this,s=r.get(e);s&&(t&&(s.unload(),t.removeTexture(s)),r.delete(e))}async createMaterial(e){const{view:r}=this,t=r.state.viewingMode===n.Global;let s=null;switch(e.type){case\"default\":{const r=e.parameters,i=new m(r,{spherical:t});i.setParameters({cullFace:i.transparent?c.None:c.Back}),s=i;break}case\"hud\":{const r=e.parameters;s=new h(r,t)}}this._materials.set(e.materialId,s)}async destroyMaterial(e){this._materials.delete(e)}async updateMaterial(e){}async createDirectRenderer(e){if(this._directRenderers.has(e))return;const r=this._materials.get(e);if(null==r)throw new Error(`material not found ${e}`);const{view:t}=this,s=new o({material:r,layerViewUid:this.layerViewUid});this._directRenderers.set(e,s),t.stage.addRenderPlugin(s),t.stage.renderView.renderer.updateHasFlags()}async destroyDirectRenderer(e){const r=this._directRenderers.get(e);if(null==r)return;const t=this.view;t.stage.removeRenderPlugin(r),this._directRenderers.delete(e),t.stage.renderView.renderer.updateHasFlags()}async createLoDRenderer(e,r,s){const i=new l({view:this.view,layerViewUid:this.layerViewUid}),a=e=>this._materials.get(e);if(await i.doLoad(r,a,s),s?.aborted)throw i.destroy(),t();this._lodRenderers.set(e,i)}async destroyLoDRenderer(e,r){const t=this._lodRenderers.get(e);null!=t&&(t.destroy(),this._lodRenderers.delete(e))}_destroyLodRenderer({rendererId:e}){const r=this._lodRenderers.get(e);null!=r&&(r.destroy(),this._lodRenderers.delete(e))}async executeRenderCommands(e){for(const r of e)switch(r.id){case\"destroy-texture\":this._destroyTexture(r.textureId);break;case\"update-material\":this._updateMaterial(r);break;case\"destroy-material\":this._destroyMaterial(r);break;case\"add-direct-renderer-geometry-buffer\":this._addDirectRendererGeometryBuffer(r);break;case\"update-direct-renderer-geometry-buffer\":this._updateDirectRendererGeometryBuffer(r);break;case\"remove-direct-renderer-geometry-buffer\":this._removeDirectRendererGeometryBuffer(r);break;case\"destroy-lod-renderer\":this._destroyLodRenderer(r);break;case\"add-lod-instances\":this._addLodInstances(r);break;case\"remove-lod-instances\":this._removeLodInstances(r);break;case\"update-lod-instance-data\":this._updateLodInstanceData(r);break;case\"update-visibility\":this._updateVisibility(r)}e.length>0&&this._updateFeatureCount()}_updateFeatureCount(){let e=0;for(const r of this._directRenderers.values())e+=r.numFeatures;for(const r of this._lodRenderers.values())e+=r.numFeatures;this._set(\"totalFeatures\",e)}get usedMemory(){let e=0;for(const r of this._directRenderers.values())e+=r.usedMemory;for(const r of this._lodRenderers.values())e+=r.usedMemory;return e}_updateMaterial({materialId:e,parameters:r}){const t=this._materials.get(e);null!=t?t.setParameters(r):console.error(\"material not found\")}_destroyMaterial({materialId:e}){null!=this._materials.get(e)?this._materials.delete(e):console.error(\"material not found\")}_addDirectRendererGeometryBuffer({groupId:e,rendererId:r,renderGeometryBuffer:t,renderGeometryBufferItems:s,localOrigin:i}){const a=this._directRenderers.get(r);null!=a?(a.addRenderGeometryBuffer(e,t,s,i),this.view.stage.renderView.requestRender()):console.error(\"no renderer assigned to provided material\")}_updateDirectRendererGeometryBuffer({groupId:e,rendererId:r,renderGeometryBuffer:t,renderGeometryBufferItems:s,localOrigin:i}){const a=this._directRenderers.get(r);null!=a?(a.updateRenderGeometryBuffer(e,t,s,i),this.view.stage.renderView.requestRender()):console.error(\"no renderer assigned to provided material\")}_removeDirectRendererGeometryBuffer({groupId:e,rendererId:r}){const t=this._directRenderers.get(r);null!=t?(t.removeRenderGeometryBuffer(e),this.view.stage.renderView.requestRender()):console.error(\"no renderer assigned to provided material\")}_addLodInstances({rendererId:e,groupId:r,data:t}){const s=this._lodRenderers.get(e);if(null==s)throw new Error(\"no lod renderer assigned to provided lod renderer Id\");s.addInstances(r,t),this.view.stage.renderView.requestRender()}_removeLodInstances({rendererId:e,groupId:r}){const t=this._lodRenderers.get(e);if(null==t)throw new Error(\"no lod renderer assigned to provided lod renderer Id\");t.removeInstances(r),this.view.stage.renderView.requestRender()}_updateLodInstanceData({rendererId:e,groupId:r,globalTransforms:t}){const s=this._lodRenderers.get(e);if(null==s)throw new Error(\"No renderer found with the provided id\");null!=t&&s.updateGlobalTransforms(r,t),this.view.stage.renderView.requestRender()}_updateVisibility({rendererId:e,groupId:r,visibility:t}){const s=this._directRenderers.get(e)??this._lodRenderers.get(e);if(null==s)throw new Error(\"No renderer found with the provided id\");s.updateVisibility(r,t),this.view.stage.renderView.requestRender()}};function g(e,r,t){const s={usePBR:r.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:f,ambient:a,diffuse:a,hasSlicePlane:r.slicePlaneEnabled,castShadows:r.castShadows,offsetTransparentBackfaces:!r.isPrimitive};r.screenSizePerspectiveEnabled&&(s.screenSizePerspective=e.screenSizePerspectiveSettings),s.externalColor=d,s.isInstanced=!0;const i=new m(s,{spherical:t});return i.setParameters({cullFace:i.transparent?c.None:c.Back}),i}e([s({readOnly:!0})],p.prototype,\"totalFeatures\",void 0),p=e([i(\"esri.views.3d.layers.graphics.pipeline.rendering.FeaturePipelineRenderManager\")],p);export{p as FeaturePipelineRenderManager,g as createDefaultMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Error.js\";import{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as n}from\"../../../../../core/maybe.js\";import o from\"../../../../../core/Promise.js\";import{on as i,watch as a}from\"../../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{FeatureLayerViewPerformanceInfo as l}from\"../../FeatureLayerViewPerformanceInfo.js\";import{Feature3DPipelineWorkerHandle as d}from\"./Feature3DPipelineWorkerHandle.js\";import{FeaturePipelineRenderManager as p}from\"./rendering/FeaturePipelineRenderManager.js\";import{emptyHighlightHandle as y}from\"../../support/highlightUtils.js\";import{LayerViewPerformanceInfo as m}from\"../../support/LayerViewPerformanceInfo.js\";import{UpdatePolicy as c}from\"../../../webgl-engine/lib/UpdatePolicy.js\";let h=class extends o{constructor(e){super(e),this._renderer=null,this.graphicsQuery={queryForSymbologySnapping:(e,t)=>{throw new r(\"featurelayer:unsupported-symbology-snapping\",\"Symbology snapping not supported\")},executeQuery:async(e,r)=>await this._workerHandle.executeQuery(e,r),executeQueryForIds:async(e,r)=>await this._workerHandle.executeQueryForIds(e,r),executeQueryForCount:async(e,r)=>await this._workerHandle.executeQueryForCount(e,r),executeQueryForExtent:async(e,r)=>await this._workerHandle.executeQueryForExtent(e,r),executeQueryForLatestObservations:async(e,r)=>await this._workerHandle.executeQueryForLatestObservations(e,r)},this.maximumNumberOfFeatures=1e3}initialize(){if(\"point\"!==this.layerView.layer.geometryType)throw new r(\"featurelayer:unsupported-geometry-type\",`${this.layerView.layer.geometryType} is not supported`);this.addResolvingPromise(this.setup())}destroy(){this.removeAllHandles(),this._workerHandle.destroy(),n(this._renderer)}async setup(){const e=this.layerView,{layer:t,view:n,uid:o}=e,{spatialReference:s,renderSpatialReference:u,resourceController:l,renderCoordsHelper:y,elevationProvider:m}=n,c=n.state.viewingMode;if(this._renderer=new p({view:n,layerViewUid:o}),\"feature\"!==t.type)throw new r(\"featurelayer:unsupported-layertype\",\"Only FeatureLayer is supported\");const h=new d({schedule:e=>l.immediate.schedule(e),layer:t,layerView:e,viewSpatialReference:s,renderSpatialReference:u,viewingMode:c,renderer:this._renderer,elevationProvider:m,renderCoordsHelper:y});this._workerHandle=await h.when(),this.addHandles([this.layerView.view.featureTiles.addClient(),i((()=>this.layerView.view.featureTiles.tiles),\"change\",(e=>{this._workerHandle.onTileTreeChange(e.target)}),{onListenerAdd:e=>this._workerHandle.onTileTreeChange(e),onListenerRemove:e=>this._workerHandle.onTileTreeChange(e)}),n.elevationProvider.on(\"elevation-change\",(e=>this._workerHandle.onElevationChange(e))),a((()=>this.layerView.fullOpacity),(e=>this._workerHandle.onLayerViewOpacityChange(e)),{sync:!1}),a((()=>t.renderer),(e=>this._workerHandle.onRendererChange(e)),{sync:!1})])}get legendEnabled(){return!1}get hasAllFeatures(){return!1}get hasAllFeaturesInView(){return!1}get hasFullGeometries(){return!1}get symbologySnappingSupported(){return!1}get scaleVisibilitySuspended(){return!1}get suspendInfo(){return{}}get updating(){return this._workerHandle.updating}get dataUpdating(){return!1}get updatePolicy(){return c.ASYNC}get maximumNumberOfFeaturesExceeded(){return!1}get updatingProgressValue(){return 1}get usedMemory(){return this._renderer?.usedMemory??0}get unloadedMemory(){return 0}get ignoresMemoryFactor(){return!0}get totalFeatures(){return this._renderer?.totalFeatures??0}get performanceInfo(){const e=this.totalFeatures;return new l(new m(this.usedMemory,e,e,this.maximumNumberOfFeatures,0,null),e,e,this.maximumNumberOfFeaturesExceeded,\"tiles\",\"n/a\")}get suspendResumeExtentMode(){return\"computed\"}forEachGraphic(e){}findGraphic(e){return null}highlight(e){return y}maskOccludee(e){return t()}async whenGraphicBounds(e,r){return null}computeAttachmentOrigin(e,r){return null}elevationAlignPointsInFeatures(e,t){throw new r(\"featurelayer:unsupported-elevation-alignment\",\"Elevation alignment not supported\")}async doRefresh(e){}setVisibility(e,r){}getMissingAttributesForFeature(e){return null}getHydratedGeometry(e){return null}};e([s()],h.prototype,\"layerView\",void 0),e([s()],h.prototype,\"updating\",null),e([s()],h.prototype,\"totalFeatures\",null),h=e([u(\"esri.views.3d.layers.graphics.pipeline.Feature3DPipeline\")],h);export{h as Feature3DPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as e}from\"../../../../../core/uid.js\";import{getProjector as t,copy3 as o}from\"../../../../../geometry/projection/projectors.js\";function r(t=\"\"){return`${t}${e()}`}function n(e,r,n,s,a){const l=s.spatialReference,i=t(r,l);if(null==i)return e;let f=t=>[e[t],e[t+1],e[t+2]];i!==o&&(f=t=>(i(e,t,c,0),[c[0],c[1],c[2]]));const u=e.length/3,d=n.mode;switch(n.mode){case\"on-the-ground\":for(let t=0;t<u;++t){const o=3*t,[r,n]=f(o);e[o+2]=s.getElevation(r,n,0,s.spatialReference,\"ground\")??0}break;case\"relative-to-ground\":case\"relative-to-scene\":{const t=\"relative-to-ground\"===d?\"ground\":\"scene\";for(let o=0;o<u;++o){const r=3*o,[c,l,i]=f(r),u=n.calculateOffsetRenderUnits(a),d=s.getElevation(c,l,0,s.spatialReference,t)??0;e[r+2]=i+u+d}}break;case\"absolute-height\":for(let t=0;t<u;++t){const o=3*t,r=e[o+2],c=n.calculateOffsetRenderUnits(a);e[o+2]=r+c}}return e}const c=new Float64Array(3);export{n as applyElevationAlignment,r as generateId};\n"],"names":["l","r","constructor","e","super","this","schedule","_workerUpdating","updating","initialize","layer","layerView","viewSpatialReference","t","renderSpatialReference","o","n","elevationInfo","_elevationContext","d","fromElevationInfo","_workerHandle","u","createTexture","async","data","parameters","_ref","result","renderer","transferList","releaseTexture","uid","_ref2","y","createMaterial","materialJSON","_ref3","destroyMaterial","materialId","_ref4","createDirectRenderer","_ref5","destroyDirectRenderer","_ref6","createLoDRenderer","_ref7","rendererId","lodRenderGeometry","signal","destroyLoDRenderer","_ref8","dispatchRenderCommands","commands","_ref9","executeRenderCommands","applyElevationAlignment","mapPoints","_ref0","elevationProvider","renderCoordsHelper","c","buffer","addResolvingPromise","load","a","url","parsedUrl","path","baseQuery","createQuery","toJSON","objectIdField","capabilities","fieldIndex","fieldsIndex","timeInfo","fullExtent","i","fullOpacity","invokeMethod","viewingMode","layerInfo","layerViewInfo","addHandles","on","_ref1","onTileTreeChange","tiles","items","map","p","onElevationChange","context","spatialReference","extent","onLayerViewOpacityChange","onRendererChange","executeQuery","s","fromJSON","_ensureLayerOnFeatures","executeQueryForIds","executeQueryForCount","executeQueryForExtent","count","executeQueryForLatestObservations","features","sourceLayer","prototype","constructOnly","strategy","client","_ref10","id","lij","h","_glMaterials","_produces","Map","_renderGeometries","_vaoCache","_drawParameters","m","_bufferWriter","slicePlaneEnabled","isGround","type","material","HUD","OBJECT","layerViewUid","produces","numFeatures","forEach","numElements","usedMemory","vao","intersect","localOrigin","visibilities","objectIds","handleObjectIntersection","object","graphicUid","boundingVolumeWorldSpace","geometries","geometryId","primitiveIndex","createBufferWriter","set","Highlight","ShadowHighlight","destroy","dispose","keys","removeRenderGeometryBuffer","acquireTechniques","shouldRender","output","bind","get","slot","rctx","beginSlot","render","size","OCCLUDER_MATERIAL","TRANSPARENT_OCCLUDER_MATERIAL","runAppleAmdDriverHelper","bindTechnique","program","drawCalls","origin","bindDraw","ensureAttributeLocations","bindVAO","setPipelineState","getPipeline","drawArrays","primitiveType","start","initializeRenderContext","materials","renderContext","getVaoCache","vertexAttributeLocations","vertexBufferLayout","uninitializeRenderContext","addRenderGeometryBuffer","elementCount","newVao","byteLength","vertexBuffers","setSubData","Uint8Array","_produceDrawCalls","updateRenderGeometryBuffer","deleteVao","delete","updateVisibility","length","Error","hasHighlight","ranges","f","numItems","numVertices","push","counts","_optionalFields","Array","_instanceGroupToIndices","_instanceIndexToFeatureId","_disposeResourceHandles","_lodRendererResources","_numFeatures","view","sharedResources","sharedSymbolResources","scheduler","resourceController","lodRenderer","symbol","computeUsedMemory","doLoad","has","OLIDCOLOR","levels","components","materialType","renderGeometryBuffer","boundingInfo","minScreenSpaceRadius","stage","getMaterials","getTextures","addTextures","_addDisposeResource","unload","removeTextures","Promise","all","renderView","renderingContext","_createLodRenderer","textures","addInstances","featureIds","localTransforms","globalTransforms","visibility","instanceData","addInstance","localTransform","copyFromTypedBuffer","globalTransform","updateModelTransform","setVisible","Boolean","removeInstances","removeInstance","updateGlobalTransforms","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","optionalFields","metadata","shaderTransformation","removeRenderPlugin","addRenderPlugin","_stage","_materials","_textures","_directRenderers","_lodRenderers","totalFeatures","removeAllHandles","addTexture","removeTexture","_destroyTexture","state","Global","spherical","setParameters","cullFace","transparent","None","Back","updateMaterial","updateHasFlags","aborted","_destroyLodRenderer","textureId","_updateMaterial","_destroyMaterial","_addDirectRendererGeometryBuffer","_updateDirectRendererGeometryBuffer","_removeDirectRendererGeometryBuffer","_addLodInstances","_removeLodInstances","_updateLodInstanceData","_updateVisibility","_updateFeatureCount","values","_set","console","error","groupId","renderGeometryBufferItems","requestRender","readOnly","_renderer","graphicsQuery","queryForSymbologySnapping","maximumNumberOfFeatures","geometryType","setup","immediate","when","featureTiles","addClient","target","onListenerAdd","onListenerRemove","sync","legendEnabled","hasAllFeatures","hasAllFeaturesInView","hasFullGeometries","symbologySnappingSupported","scaleVisibilitySuspended","suspendInfo","dataUpdating","updatePolicy","ASYNC","maximumNumberOfFeaturesExceeded","updatingProgressValue","unloadedMemory","ignoresMemoryFactor","performanceInfo","suspendResumeExtentMode","forEachGraphic","findGraphic","highlight","maskOccludee","whenGraphicBounds","computeAttachmentOrigin","elevationAlignPointsInFeatures","doRefresh","setVisibility","getMissingAttributesForFeature","getHydratedGeometry","arguments","undefined","mode","getElevation","calculateOffsetRenderUnits","Float64Array"],"sourceRoot":""}