{"version":3,"file":"static/js/69943.50e84ab9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/analysis/AnalysisView.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/input/IViewEvents.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView as o}from\"../../analysis/AnalysisView.js\";let e=class extends o{};e=s([r(\"esri.views.3d.analysis.AnalysisView3D\")],e);export{e as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{watch as s,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(e){super(e)}initialize(){this.addHandles(s(()=>this.analysisViewData.visible,e=>this.visible=e,t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=e([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{removeMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as i,onAbort as a}from\"../../core/promiseUtils.js\";import{watch as r,syncAndInitial as s,on as l,whenOnce as c}from\"../../core/reactiveUtils.js\";function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=a(n,()=>{r.activeTool===i&&(r.activeTool=null)});return o(async o=>{await c(()=>!t.tool?.active,o),s=e(s)},n)}function m(o,t){return r(()=>o.interactive,()=>p(o,t),s)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=o(async o=>{if(r){const t=r.promise.catch(()=>{});r?.abort(),await t,n(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=t([l(()=>e.tool,\"cancel\",()=>{c()&&s.abort()})]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,n(o)}catch(v){if(o.aborted||!i(v)||c())throw v}finally{m?.remove()}},{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally(()=>{e.userOperation===s&&(e.userOperation=null)})}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}export{u as activateAnalysisViewTool,m as connectAnalysisViewToTool,f as removeAnalysisViewTool,y as startExclusiveInteractiveOperation,d as startPlaceOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{a as e,b as t,c as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{toGraphic as u,hasLod as i,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return s(e)===s(t)}function s(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const d={json:{write:{writer:b,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:f}}},clonable:\"reference\"};function b(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function f(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function I(l,i,a,c){const{sceneIntersectionHelper:d}=l,{observer:b,observerFeatureId:f,targetFeatureId:I,target:m}=a;if(null==f&&null==I)return;c||(c=e=>e),e(g,b,m);const p=t(g),S=1;r(g,b,g,S/p);const v=o(g,m,y);i.options.store=2,d.intersectToolIntersectorRay(v,i);let F=null,N=null,R=null,w=null;for(const e of i.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=s(t);null!=r&&(null!=f&&r===f&&(F??=c(j(e,l,p)),e.distanceInRenderSpace-S<F&&(R=e)),null!=I&&r===I&&(N??=c(j(e,l,p)),null==w&&e.distanceInRenderSpace-S<p&&p-e.distanceInRenderSpace+S<N&&(w=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,w?.getIntersectionPoint(h)?a.targetSurfaceNormal=w.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(i(e)){const n=a(e,t);if(null!=n)return Math.min(n*m,r)}return 1e-5*r}const m=.05,y=l(),g=n();export{c as featureReferenceEquals,d as featureReferenceProperty,s as getFeatureId,I as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{makeHandle as r}from\"../../core/handleUtils.js\";import{EsriPromiseMixin as o}from\"../../core/Promise.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let n=class extends(o(t)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return(this.parent?.visible&&!this.parent.suspended)??!0}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractive(){return this._interactiveViewModelCount++,r(()=>this._interactiveViewModelCount--)}};e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([s(\"esri.views.analysis.AnalysisView\")],n);export{n as AnalysisView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import{Clonable as t}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import c from\"../symbols/support/ElevationInfo.js\";let l=class extends(s(t)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:m,json:{write:!0,origins:{\"web-scene\":{write:{isRequired:!0}}}}}),n()],l.prototype,\"position\",void 0),o([p({type:c}),n()],l.prototype,\"elevationInfo\",void 0),o([p(e)],l.prototype,\"feature\",void 0),l=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],l);export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as e,intersectTriangleGeometry2d as t}from\"../lib/RayIntersections.js\";class i extends r{intersect(r,t,i,s,n,o){return e(r,i,s,n,void 0,o)}intersectDraped(r,e,i,s){return t(i[0],i[1],r,s)}}export{i as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst d={Left:0,Middle:1,Right:2,Back:3,Forward:4,Undefined:-1};export{d as MouseButton};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],i.prototype,\"target\",void 0),o([e()],i.prototype,\"intersectedGraphic\",void 0),o([e()],i.prototype,\"intersectedLocation\",void 0),o([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],i.prototype,\"visible\",void 0),i=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";let s=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:i(),observerSurfaceNormal:null,observerFeatureId:null,target:i(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:i(),targetAdjusted:i()},this.computationResult={start:i(),end:i(),intersection:i(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],s.prototype,\"target\",void 0),t([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],s.prototype,\"inputPoints\",void 0),t([e()],s.prototype,\"computationResult\",void 0),t([e()],s.prototype,\"result\",void 0),s=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],s);export{s as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import o from\"../../../../core/Accessor.js\";import{equals as r}from\"../../../../core/arrayUtils.js\";import{equalsMaybe as s}from\"../../../../core/maybe.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{G as c}from\"../../../../chunks/vec32.js\";import{equals as n}from\"../../../../geometry/support/ray.js\";let p=class extends o{constructor(t){super(t)}clone(){return this}equals(t){return this.context?.type===t.context?.type&&(!this.context||!t.context||this.context.equals(t.context))&&this.id===t.id&&s(this.mapPoint,t.mapPoint)&&c(this.renderPoint,t.renderPoint)&&r(this.normal,t.normal)&&n(this.ray,t.ray)}};t([e({constructOnly:!0})],p.prototype,\"context\",void 0),t([e({constructOnly:!0})],p.prototype,\"id\",void 0),t([e({constructOnly:!0})],p.prototype,\"mapPoint\",void 0),t([e({constructOnly:!0})],p.prototype,\"renderPoint\",void 0),t([e({constructOnly:!0})],p.prototype,\"normal\",void 0),t([e({constructOnly:!0})],p.prototype,\"ray\",void 0),p=t([i(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],p);class a{constructor(t){this.graphic=t,this.type=\"graphic\"}equals(t){return t.type===this.type&&this.graphic===t.graphic}}class y{constructor(){this.type=\"ground\"}equals(t){return t.type===this.type}}const u=new y;export{a as LineOfSightIntersectionContextGraphic,p as LineOfSightIntersectionResult,u as lineOfSightIntersectionContextGround};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{screenPointObjectToArray as r}from\"../../../../core/screenUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as i,n as s,h as a,g as c}from\"../../../../chunks/vec32.js\";import{create as l,clone as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import p from\"../../../../geometry/Point.js\";import{create as u,copy as d,fromPoints as f}from\"../../../../geometry/support/ray.js\";import{sv2d as g}from\"../../../../geometry/support/vectorStacks.js\";import{LineOfSightIntersectionResult as y,lineOfSightIntersectionContextGround as w,LineOfSightIntersectionContextGraphic as h}from\"./LineOfSightIntersectionResult.js\";import{fromScreen as j}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as v,isIntegratedMeshIntersectorResult as I}from\"../../terrain/Intersector.js\";import{Intersector as P}from\"../../webgl-engine/lib/Intersector.js\";import{toGraphic as b}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";let x=class extends t{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=new P(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=0}getScreenPointIntersection(e){const t=r(e,g.get()),o=j(this.view.state.camera,t,O);return this._getRayIntersection(o)}_getRayIntersection(e,t){const{view:r,intersector:o}=this;if(null==e||null==r.sceneIntersectionHelper)return null;o.options.store=0,r.sceneIntersectionHelper.intersectToolIntersectorRay(e,o,t);const n=o.results.min;if(null==n.target)return null;const i=l();if(!n.getIntersectionPoint(i))return null;if(null!=t?.maxDistance&&!n.withinDistance(t.maxDistance))return null;const s=r.renderCoordsHelper.fromRenderCoords(i,new p({spatialReference:r.spatialReference})),a=m(n.normal);if(v(n))return new y({context:w,id:n.target.lij.slice(),mapPoint:s,renderPoint:i,normal:a,ray:d(e)});if(I(r,n))return new y({context:w,id:`${n.target.layerViewUid}`,mapPoint:s,renderPoint:i,normal:a,ray:d(e)});const c=b(n,r);if(null!=c){const{layer:t}=c,r=c.getObjectId()??c.uid;return new y({context:new h(c),id:`${t?.uid}/${r}`,mapPoint:s,renderPoint:i,normal:a,ray:d(e)})}const u=\"layerViewUid\"in n.target?`${n.target.layerViewUid}`:\"\";return new y({context:null,id:u,mapPoint:s,renderPoint:i,normal:a,ray:d(e)})}updateFromGroundIntersection(e,t,r){const o=R,n=U,l=S,p=L;i(n,e),this.view.renderCoordsHelper.worldUpAtPosition(n,l),s(l,l);const u=this.view.basemapTerrain.visibleElevationBounds,d=(t>=0?1:-1)*((u?Math.abs(u.max-u.min):100)+Math.abs(t));a(p,l,d),c(o,n,p),f(o,n,O);const g=this._getRayIntersection(O,{include:this._terrainIntersectionOptionsLayerUids,maxDistance:d});if(null!=g){const e=L;return a(e,l,t),c(r,g.renderPoint,e),m(g.normal)}return i(r,e),null}};e([o()],x.prototype,\"view\",void 0),e([o()],x.prototype,\"intersector\",void 0),x=e([n(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],x);const R=l(),U=l(),S=l(),L=l(),O=u();export{x as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{updatePointsFromFeatureReference as t,getFeatureId as o}from\"../../../../analysis/featureReferenceUtils.js\";import{createTask as n}from\"../../../../core/asyncUtils.js\";import{EventedAccessor as i}from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as a}from\"../../../../core/handleUtils.js\";import l from\"../../../../core/Logger.js\";import{abortMaybe as u}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as c}from\"../../../../core/promiseUtils.js\";import{initial as d,on as p}from\"../../../../core/reactiveUtils.js\";import{property as g}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as m,e as v,n as f,h as _,g as b,F as y,a as C}from\"../../../../chunks/vec32.js\";import{create as T}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as O}from\"../../../../core/support/UpdatingHandles.js\";import P from\"../../../../geometry/Point.js\";import{projectOrLoad as I}from\"../../../../geometry/projectionUtils.js\";import{projectBoundingRect as S}from\"../../../../geometry/projection/projectBoundingRect.js\";import{intersectsSegment as j}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as w,containsPointObject as R,intersectsSegment as A}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as H,create as E}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as L}from\"../../../../support/elevationInfoUtils.js\";import V from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as F}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as x}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as D}from\"../support/projectionUtils.js\";import{toGraphic as G}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as U,TaskPriority as z}from\"../../../support/Scheduler.js\";let N=class extends i{constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new O,this._frameTask=U,this._computationHandles=new r,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(z.LINE_OF_SIGHT_TOOL):U,this._intersector=new x({view:this.view}),this.addHandles([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:o,computationResult:n}=t,{observerAdjusted:i,targetAdjusted:r}=o,{start:s,end:a}=n;m(s,i),m(a,r);this._canCompute(t)?this._computeIntersection(e):M(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_adjustStartEndPositions(e){const{view:o}=this,{inputPoints:n}=e,{observer:i,target:r,observerAdjusted:s,targetAdjusted:a}=n;m(s,i),m(a,r),t(o,this._intersector.intersector,n);const{observerSurfaceNormal:l,targetSurfaceNormal:u}=n,c=this._screenPixelSize,d=Z;null!=l?m(d,l):v(d,a,s);const p=c;f(d,d),_(d,d,Math.min(p,1)),b(s,s,d),null!=u?m(d,u):v(d,s,a);const g=o.state.camera.computeScreenPixelSizeAt(a);f(d,d),_(d,d,Math.min(g,1)),b(a,a,d)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:o}=this,{sceneIntersectionHelper:n,renderCoordsHelper:i}=o;if(null==n)return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:u}=a,{start:c,end:d}=s,p=H(c,d,q);r.options.store=0,n.intersectToolIntersectorRay(p,r);const g=r.results.min,h=s.intersection,v=Z;let f=!0;if(null!=g&&g.getIntersectionPoint(h)){m(t.originalIntersection,h),m(t.originalObserver,c),m(t.originalTarget,d),i.fromRenderCoords(h,v,o.spatialReference);const e=1-y(d,u)/y(c,u);f=y(l,h)>=e*y(l,u)}const _=new P(v,o.spatialReference);{const{result:t,target:n}=e;null!=t?(t.target=n,t.intersectedGraphic=f?null:G(g,o),t.intersectedLocation=f?null:_,t.visible=f):e.result=new V({target:n,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:f?null:G(g,o),intersectedLocation:f?null:_,visible:f})}s.isValid=a.isValid=!0,s.isTargetVisible=f}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,o=this.view.frustum;if(null==t||null==e.elevationAlignedTargetLocation||null==o)return!1;const{observerAdjusted:n,targetAdjusted:i}=e.inputPoints,r=o.intersectsPoint(n),s=o.intersectsPoint(i);return r&&s}_onObserverPositionChange(e,t,n,i,r){if(this._externalObserverUpdate=r,null==e)return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(null==t)return D(this.analysis,e.spatialReference,l.getLogger(this)),void(this.analysisViewData.elevationAlignedObserver=null);const s=k(t,n),{absoluteZ:a,elevation:u}=L(t.x,t.y,t.z,this.view.spatialReference,this.view,s),c=t.clone();c.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=c;const d=T();this.view.renderCoordsHelper.toRenderCoords(c,d),this._elevationAlignedObserverPositionRenderSpace=d,this._observerGroundOffsetRenderSpace=a-u,this._observerFeatureId=o(i),this.priority=z.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,o,n,i){const{inputPoints:r}=e;switch(m(r.observer,t),r.observerFeatureId=i,r.observerSurfaceNormal=null,n){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,o,r.observer);null==r.observerFeatureId&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=z.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,t,n,i,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),null==n)return null!=t&&D(this.analysis,t.spatialReference,l.getLogger(this)),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const u=k(n,i),{absoluteZ:c,elevation:d}=L(n.x,n.y,n.z,this.view.spatialReference,this.view,u),p=n.clone();switch(p.z=c,e.elevationAlignedTargetLocation=p,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=o(r),a.targetSurfaceNormal=null,u.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,c-d,a.target);null==a.targetFeatureId&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=z.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return s([this._updatingHandles.add(()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:I(e.target.position,this.view.spatialReference)}),({computation:e,targetPosition:t,targetElevationInfo:o,targetFeatureInfo:n,projectedTargetPosition:i})=>{null==i.pending?this._onTargetPositionChange(e,t,i.geometry,o,n):this._updatingHandles.addPromise(i.pending)},d)])}_connectComputationToObserver(e){return this._updatingHandles.add(()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver}),({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())},d)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add(()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId}),({computation:e,observer:t,observerGroundOffset:o,observerElevationMode:n,observerFeatureId:i})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,o,n,i)},d)}_connectComputationToCamera(e){return this._updatingHandles.add(()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty}),({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()})}_connectComputationToSlicePlane(e){return this._updatingHandles.add(()=>this.view.slice.plane,()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()})}_connectComputationToElevation(e){const t=(o,n)=>{const i=this.analysis.observer,r=e.target;let s=null,a=null,l=null,u=null,c=null,d=null;if(null!=i?.position){const e=I(i.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally(()=>t(o,n));s=e.geometry,a=i.elevationInfo,l=i.feature}if(null!=r.position){const e=I(r.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally(()=>t(o,n));u=e.geometry,c=r.elevationInfo,d=r.feature}null==s&&null==u||(S(o,n,J,this.view.spatialReference),null!=s&&R(J,s)&&this._onObserverPositionChange(null!=i?i.position:null,s,a,l,!1),null!=u&&R(J,u)&&this._onTargetPositionChange(e,r.position,u,c,d,!1),null!=s&&null!=u&&A(J,s,u)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",({extent:e,spatialReference:o})=>t(e,o))}_connectComputationToTask(e){let t=null;const o={computation:e,interpolationInfo:{originalIntersection:T(),originalObserver:T(),originalTarget:T()}};return s([this._updatingHandles.add(()=>e.inputPoints,()=>{t=u(t),t=n(async e=>{await c(this._frameTask.schedule(()=>this._computeResult(o),e))})},{initial:!0,equals:()=>!1}),a(()=>t=u(t))])}_connectComputationToContent(e){return p(()=>this.view.pointsOfInterest?.contentGeometryUpdates.events,\"request-update\",t=>{const o=t?.renderBounds,{observerAdjusted:n,targetAdjusted:i}=e.inputPoints;(null==o||j(o,n,i))&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())})}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e),this._connectComputationToContent(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const o of t)this._disconnectComputation(o);for(const o of e)this._connectComputation(o)}_onTargetCollectionChange({added:e,removed:t}){for(const o of t)this._removeTarget(o);for(const o of e)this._addTarget(o)}_onCursorTargetChange(e,t){null!=t&&this._removeTarget(t),null!=e&&this._addTarget(e)}_addTarget(e){this._computations.some(t=>t.target===e)||this._computations.add(new F({target:e}))}_removeTarget(e){const t=this._computations.findIndex(t=>t.target===e);this._computations.removeAt(t)}_connectObserver(){return s([this._updatingHandles.add(()=>({observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,projectedObserverPosition:I(null!=this.analysis.observer?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:null!=this.analysis.observer?this.analysis.observer.elevationInfo:null,observerFeatureInfo:null!=this.analysis.observer?this.analysis.observer.feature:null}),({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:o,observerFeatureInfo:n})=>{null==t.pending?this._onObserverPositionChange(e,t.geometry,o,n,!0):this._updatingHandles.addPromise(t.pending)},d)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange(()=>this._computations,e=>this._onComputationCollectionChange(e),{initial:!0,final:!0})}_connectTargets(){return s([this._updatingHandles.addOnCollectionChange(()=>this.analysis.targets,e=>this._onTargetCollectionChange(e),{initial:!0,final:!0}),this._updatingHandles.add(()=>this.analysisViewData.cursorTarget,(e,t)=>{this._onCursorTargetChange(e,t)})])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:o}=t;if(null==e||null==o)return!1;const n=Z;o.toRenderCoords(e,n);const i=t.state.camera.computeScreenPixelSizeAt(n);return Math.abs((i-this._screenPixelSize)/this._screenPixelSize)>B}};function k(e,t){return e.hasZ?t??{mode:\"absolute-height\",offset:0}:{mode:\"on-the-ground\",offset:0}}function M({computation:e,interpolationInfo:t}){const{computationResult:o,inputPoints:n}=e,{start:i,end:r,intersection:s}=o,{originalIntersection:a,originalObserver:l,originalTarget:u}=t;if(m(s,a),n.isValid){const e=Z,t=y(l,a)/y(l,u);C(e,i,l),_(e,e,1-t),b(s,s,e),C(e,r,u),_(e,e,t),b(s,s,e),o.isValid=!0}else e.result=null,o.isValid=!1,o.isTargetVisible=!1}e([g({constructOnly:!0})],N.prototype,\"analysis\",void 0),e([g({constructOnly:!0})],N.prototype,\"analysisViewData\",void 0),e([g({constructOnly:!0})],N.prototype,\"view\",void 0),e([g()],N.prototype,\"updating\",null),e([g()],N.prototype,\"priority\",null),e([g()],N.prototype,\"updateOnCameraChange\",void 0),e([g()],N.prototype,\"_computations\",null),e([g()],N.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([g()],N.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([g()],N.prototype,\"_effectiveObserverElevationMode\",void 0),e([g()],N.prototype,\"_observerFeatureId\",void 0),e([g()],N.prototype,\"_screenPixelSize\",null),e([g({readOnly:!0})],N.prototype,\"_updatingHandles\",void 0),e([g()],N.prototype,\"_frameTask\",void 0),e([g()],N.prototype,\"_isCameraDirty\",null),N=e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],N);const B=.1,Z=T(),q=E(),J=w();export{N as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{getContrast as n,multiplyOpacityToUnitRGBA as t}from\"../../../../core/colorUtils.js\";class e{constructor(){this.glowWidth=8,this.innerWidth=.75}}const r=new e;function s(o){const t=o.accentColor;return{glowColor:t,innerColor:n(t),globalAlpha:.75*t.a}}class i{constructor(){this.size=.5}}const c=new i;function l(o){return t(o.accentColor,.75)}class h{constructor(){this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}}const u=new h;class d{constructor(){this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}const w=new d;export{s as getLaserLineColors,l as getObserverRGBA,r as laserLineConfiguration,w as lineOfSightConfiguration,c as observerConfiguration,u as targetConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{watch as t}from\"../../../../core/reactiveUtils.js\";import{targetConfiguration as o,getObserverRGBA as r,observerConfiguration as i}from\"./LineOfSightConfiguration.js\";import{Manipulator3D as s}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as n}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as m}from\"../../interactive/RenderObject.js\";import{disableDisplayOnGrab as a}from\"../../interactive/editingTools/manipulatorUtils.js\";import{createSphereGeometry as l}from\"../../webgl-engine/lib/GeometryUtil.js\";class c extends s{constructor(e,o){const s=n(r(e.effectiveTheme)),c=l(s,i.size,32,32),f=new m(c);super({view:e,renderObjects:[f],metadata:o,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this),this.themeHandle=t(()=>({color:r(e.effectiveTheme)}),e=>{s.setParameters(e)})}destroy(){this.themeHandle.remove(),super.destroy()}}class f extends s{constructor(e,t){const{size:r,visibleColor:i,occludedColor:s,undefinedColor:n}=o;super({view:e,renderObjects:[d(r,i,16),d(r,s,32),d(r,n,64)],metadata:t,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this)}}function d(t,o,r){return new m(l(n(e.toUnitRGBA(o)),t,32,32),r)}export{c as LineOfSightObserverManipulator,f as LineOfSightTargetManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import a from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import n from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{when as o,syncAndInitial as l,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as d}from\"../../../../core/support/UpdatingHandles.js\";import{create as p,fromPoints as g}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as _,getConvertedElevation as m}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{getLaserLineColors as b,laserLineConfiguration as y}from\"./LineOfSightConfiguration.js\";import{LineOfSightTargetManipulator as f,LineOfSightObserverManipulator as T}from\"./LineOfSightManipulators.js\";import{LineOfSightRayIntersector as L}from\"./LineOfSightRayIntersector.js\";import{LaserlineVisualElement as M}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{MouseButton as w}from\"../../../input/IViewEvents.js\";import{AnalysisToolBase as C}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as k}from\"../../../interactive/dragEventPipeline.js\";import{createScreenPointFromEvent as H}from\"../../../support/screenUtils.js\";let V=class extends C{constructor(e){super(e),this._creationMode=!1,this.removeIncompleteOnCancel=!1,this.analysisViewData=null,this._latestPointerMovePointerType=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new n,this._updatingHandles=new d,this._manipulatorHandles=new n,this._targetTrackerManipulator=null}initialize(){this._intersector=new L({view:this.view}),this.addHandles(o(()=>\"created\"===this.state,()=>this.finishToolCreation(),l)),this._observerManipulator=this._createObserverManipulator(),this._createLaserLine(),this.addHandles([this._updatingHandles.add(()=>this.analysisViewData?.elevationAlignedObserver,e=>this._onObserverLocationChange(e),u),this._updatingHandles.add(()=>b(this.view.effectiveTheme),({glowColor:e,innerColor:t,globalAlpha:i})=>this._updateLaserLineStyle(e,t,i),u),this._updatingHandles.add(()=>this._laserLineRendererDependencies(),e=>this._updateLaserLineRenderer(e)),this._connectComputations(),this._updatingHandles.addWhen(()=>!this._shouldRenderTracker,()=>this._clearCursorTracker(),u),this._updatingHandles.add(()=>({active:this.active,hasGrabbedManipulators:this.hasGrabbedManipulators}),({active:e,hasGrabbedManipulators:t})=>{this._creationMode=!!e&&(this._creationMode||!t)},u)])}destroy(){this._updatingHandles=s(this._updatingHandles),this._manipulatorHandles=s(this._manipulatorHandles),this._analysisHandles=s(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeLaserLine(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?!this.hasGrabbedManipulators||this._creationMode?\"creating\":\"created\":null!=this.analysis.observer?.position?\"created\":\"ready\"}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return null!=this.analysisViewData&&this.analysisViewData.updating||this._updatingHandles.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&null!=this.analysis.observer?.position&&!this.hasGrabbedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return this._updatingHandles.addOnCollectionChange(()=>this.analysisViewData.computations,e=>this._onComputationsCollectionChange(e),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);null==this._targetTrackerManipulator&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([this._updatingHandles.add(()=>D(e),()=>O(i,e),u),this._updatingHandles.add(()=>e.elevationAlignedTargetLocation,e=>this._onTargetLocationChange(e,i),u)],e)}_disconnectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);null!=t&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),null!=this._targetTrackerManipulator&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=s(this.analysisViewData.cursorTarget)}_createTargetManipulator(e){const t={target:e,type:\"target\"},i=new f(this.view,t);return this._manipulatorHandles.add([this._createTargetManipulatorDragPipeline(i),i.events.on(\"grab-changed\",e=>this._manipulatorGrabChanged(i,e)),i.events.on(\"immediate-click\",e=>this._manipulatorClick(i,e))],i),this.manipulators.add(i),null!=e.position?i.elevationAlignedLocation=e.position:i.available=!1,i}_getTargetManipulator(e){let t=null;return this.manipulators.forEach(i=>{const a=i.manipulator;null==t&&\"target\"===a.metadata.type&&a.metadata.target===e&&(t=a)}),t}_createObserverManipulator(){const e=new T(this.view,{type:\"observer\",intersection:null});return this._manipulatorHandles.add([this._createObserverManipulatorDragPipeline(e),e.events.on(\"grab-changed\",t=>this._manipulatorGrabChanged(e,t)),e.events.on(\"immediate-click\",t=>this._manipulatorClick(e,t))],e),this.manipulators.add(e),e}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return null==t?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return k(e,(t,i,a)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next(()=>this._updateLaserLineRenderer()),a.next(P(e.metadata.target)).next(()=>this._updateLaserLineRenderer())})}_createObserverManipulatorDragPipeline(e){return k(e,(e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next(()=>this._updateLaserLineRenderer()),i.next(this._cancelObserverDragStep()).next(()=>this._updateLaserLineRenderer())})}_updateObserverDragStep(){return e=>(null!=e.intersection.mapPoint?(null==this.analysis.observer&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=null!=this.analysis.observer?.position?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.mapPoint;return null!=i&&(e.elevationAlignedLocation=i),t}}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:a,observerPosition:n,visible:r}=e;if(null==t)return;const s=null!=i?i:a&&null!=n?this._targetTrackerManipulator:null;null!=s&&r?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=g(this._observerManipulator.renderLocation,s.renderLocation,I):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createLaserLine(){this._removeLaserLine();const{glowWidth:e,innerWidth:t}=y;this._laserlineVisualElement=new M({view:this.view,attached:!0,visible:this.visible,style:{glowWidth:e,innerWidth:t},isDecoration:!0})}_removeLaserLine(){null!=this._laserlineVisualElement&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_updateLaserLineStyle(e,i,a){const n=this._laserlineVisualElement;if(null==n)return;const r=n.style;n.style={...r,glowColor:t.toUnitRGB(e),innerColor:t.toUnitRGB(i),globalAlpha:a}}_onObserverLocationChange(e){null!=e?(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e):this._observerManipulator.available=!1}_onTargetLocationChange(e,t){null!=e?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(null!=t?.mapPoint)if(null!=this.analysis.observer?.position){this._clearCursorTracker();const e=new a;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==w.Right&&(this._addPointFromClickEvent(H(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==w.Right&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasGrabbedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||null==this.analysis.observer?.position)return;const t=H(e),i=this._intersector.getScreenPointIntersection(t);null!=i?.mapPoint&&(null==this.analysisViewData.cursorTarget&&(this.analysisViewData.cursorTarget=new a),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(null==t.mapPoint)return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.context?.type){case\"graphic\":{const i=t.context.graphic,a=_(i);\"on-the-ground\"===a.mode&&(a.mode=\"relative-to-ground\",a.offset=0),e.elevationInfo=new v(a),e.feature=i}break;case\"ground\":e.elevationInfo=new v({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.mapPoint.clone();i.z=m(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==w.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){}};function P(e){const t=e.position?.clone();return i=>(e.position=t,i)}function O(e,t){const{isValid:i,isTargetVisible:a}=t.computationResult;e.state=i?a?16:32:64}function D(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}e([c({constructOnly:!0})],V.prototype,\"view\",void 0),e([c({constructOnly:!0})],V.prototype,\"analysis\",void 0),e([c()],V.prototype,\"_creationMode\",void 0),e([c({readOnly:!0})],V.prototype,\"state\",null),e([c({readOnly:!0})],V.prototype,\"cursor\",null),e([c()],V.prototype,\"removeIncompleteOnCancel\",void 0),e([c({readOnly:!0})],V.prototype,\"updating\",null),e([c({constructOnly:!0})],V.prototype,\"analysisViewData\",void 0),e([c({readOnly:!0})],V.prototype,\"_showTracker\",null),e([c()],V.prototype,\"_latestPointerMovePointerType\",void 0),e([c()],V.prototype,\"_shouldRenderTracker\",null),e([c()],V.prototype,\"_laserlineVisualElement\",void 0),e([c()],V.prototype,\"_grabbedManipulator\",void 0),V=e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightTool\")],V);const I=p();export{V as LineOfSightTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s){this.visibleLineVisualElement=e,this.occludedLineVisualElement=i,this.undefinedLineVisualElement=t,this.targetVisualElement=s}destroy(){this.visibleLineVisualElement.destroy(),this.occludedLineVisualElement.destroy(),this.undefinedLineVisualElement.destroy(),this.targetVisualElement.destroy()}}export{e as LineOfSightVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import t from\"../../../../Color.js\";import e from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{initial as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{e as d}from\"../../../../chunks/vec32.js\";import{create as u,fromArray as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as p}from\"../../../../core/support/UpdatingHandles.js\";import{lineOfSightConfiguration as h}from\"./LineOfSightConfiguration.js\";import{LineOfSightVisualElement as v}from\"./LineOfSightVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as f}from\"../../interactive/visualElements/PointVisualElement.js\";let b=class extends e{constructor(i){super(i),this._lineOfSightVisualElements=new Array,this._computationHandles=new o,this._updatingHandles=new p}initialize(){this.addHandles(this._connectComputations()),this._createObserverVisualization()}destroy(){this._updatingHandles=s(this._updatingHandles),this._computationHandles=s(this._computationHandles),this._observerVisualElement=s(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get updating(){return this._updatingHandles.updating}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get test(){}_createLineOfSightVisualization(){const i=h,e=this.view,o=this.isDecoration,n={view:e,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth,isDecoration:o},s=t.toUnitRGBA(i.visibleOuterColor),r=t.toUnitRGBA(i.visibleInnerColor),a=t.toUnitRGBA(i.occludedOuterColor),l=t.toUnitRGBA(i.occludedInnerColor),c=t.toUnitRGBA(i.undefinedOuterColor),d=t.toUnitRGBA(i.undefinedInnerColor),u=new g({...n,color:s,innerColor:r}),m=new g({...n,color:a,innerColor:l}),p=new g({...n,color:c,innerColor:d}),b=new f({view:e,attached:!0,...y,size:8,isDecoration:o}),_=new v(u,m,p,b);return this._lineOfSightVisualElements.push(_),_}_destroyLineOfSightVisualization(i){i.destroy(),this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(i),1)}_updateLineOfSightVisualization(i,e,o){const n=h,{computationResult:s,inputPoints:r}=i,{start:a,end:l,intersection:c,isValid:u,isTargetVisible:p}=s,{observer:v}=r,g=V;g[12]=v[0],g[13]=v[1],g[14]=v[2];const f=d(_,a,v),b=d(C,l,v),y=d(O,c,v),{visibleLineVisualElement:A,occludedLineVisualElement:E,undefinedLineVisualElement:w,targetVisualElement:L}=e,S=null==this.analysisViewData.elevationAlignedObserver||null==i.elevationAlignedTargetLocation,j=this.visible&&!S;A.visible=j,E.visible=j,w.visible=j,L.visible=j,L.attached=!o.interactiveAndEditable,j&&(A.geometry=null,E.geometry=null,w.geometry=null,L.geometry=i.elevationAlignedTargetLocation,u?p?(A.geometry=[[m(f),m(b)]],A.transform=g,A.color=t.toUnitRGBA(n.visibleOuterColor),L.color=t.toUnitRGBA(n.visibleInnerColor)):(A.geometry=[[m(f),m(y)]],A.transform=g,A.color=t.toUnitRGBA(n.occludedOuterColor),E.geometry=[[m(y),m(b)]],E.transform=g,L.color=t.toUnitRGBA(n.occludedInnerColor)):(w.geometry=[[m(f),m(b)]],w.transform=g,L.color=t.toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(i){const{computationResult:t}=i,{occludedOuterColor:e,visibleOuterColor:o}=h;return{computationResult:t,occludedOuterColor:e,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(i){const t=this._computationHandles;if(t.has(i))return;const e=this._createLineOfSightVisualization();t.add([this._updatingHandles.add(()=>this._getLineOfSightVisualizationDependencies(i),t=>this._updateLineOfSightVisualization(i,e,t),{initial:!0,equals:()=>!1}),n(()=>this._destroyLineOfSightVisualization(e))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectComputations(){return this._updatingHandles.addOnCollectionChange(()=>this.analysisViewData.computations,i=>this._onComputationsCollectionChange(i),{initial:!0,final:!0})}_onComputationsCollectionChange({added:i,removed:t}){for(const e of t)this._disconnectComputation(e);for(const e of i)this._connectComputation(e)}_createObserverVisualization(){const i=t.toUnitRGBA(h.visibleInnerColor),e=new f({view:this.view,color:i,...y,isDecoration:this.isDecoration});this._observerVisualElement=e,this.addHandles(this._updatingHandles.add(()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible}),({observer:i,interactiveAndEditable:t,visible:o})=>{null!=i&&!t&&o?(e.geometry=i,this._observerVisualElement.attached=!0):e.attached=!1},r))}};i([a({constructOnly:!0})],b.prototype,\"analysis\",void 0),i([a({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),i([a({constructOnly:!0})],b.prototype,\"view\",void 0),i([a({readOnly:!0})],b.prototype,\"visible\",null),i([a({constructOnly:!0})],b.prototype,\"isDecoration\",void 0),i([a()],b.prototype,\"updating\",null),i([a()],b.prototype,\"interactiveAndEditable\",null),i([a()],b.prototype,\"test\",null),b=i([l(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],b);const y={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},_=u(),C=u(),O=u(),V=c();export{b as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import i from\"../../../core/Collection.js\";import\"../../../core/has.js\";import{abortMaybe as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{LineOfSightController as l}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as p}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as u}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as y,removeAnalysisViewTool as h,startPlaceOperation as c}from\"../../analysis/analysisViewUtils.js\";let d=class extends n{constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new i,this.cursorTarget=null,this.editable=!0,this.elevationAlignedObserver=null,this.observerEngineLocation=a(),this.userOperation=null}initialize(){const t=this.view,i=this.analysis;this._analysisController=new l({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new u({analysis:i,analysisViewData:this,view:t,isDecoration:!this.parent}),this.addHandles([this._analysisController.on(\"result-changed\",t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)}),y(this,p)])}destroy(){h(this),this.userOperation=s(this.userOperation),this._analysisController=o(this._analysisController),this._analysisVisualization=o(this._analysisVisualization)}get visible(){return super.visible}set visible(t){super.visible=t}get interactive(){return super.interactive}set interactive(t){super.interactive=t}get results(){return this.computations.map(t=>t.result)}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return null!=this._analysisController&&this._analysisController.updating||null!=this._analysisVisualization&&this._analysisVisualization.updating}place(t){return c(this,{placementOptions:t})}getResultForTarget(t){return this.computations.find(i=>i.target===t)?.result}get testInfo(){}};t([e({readOnly:!0})],d.prototype,\"type\",void 0),t([e({constructOnly:!0,nonNullable:!0})],d.prototype,\"analysis\",void 0),t([e()],d.prototype,\"tool\",void 0),t([e({readOnly:!0})],d.prototype,\"results\",null),t([e()],d.prototype,\"priority\",null),t([e()],d.prototype,\"computations\",void 0),t([e()],d.prototype,\"cursorTarget\",void 0),t([e()],d.prototype,\"editable\",void 0),t([e()],d.prototype,\"elevationAlignedObserver\",void 0),t([e()],d.prototype,\"observerEngineLocation\",void 0),t([e()],d.prototype,\"updating\",null),t([e()],d.prototype,\"userOperation\",void 0),t([e()],d.prototype,\"_analysisController\",void 0),t([e()],d.prototype,\"_analysisVisualization\",void 0),d=t([r(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],d);const m=d;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,scaleAndAdd as r,add as e,length as s,dot as o,squaredLength as c,scale as u,distance as i,copy as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,clone as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,n,r){const e=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/i(n,r)}function l(t,n,r){const e=o(r,n)/c(r);return u(t,r,e)}function y(t,r,s,o,c=s){return n(q,o,s),n(k,r,c),l(w,k,q),e(t,c,w)}function b(t,e,s,u){n(q,u,s),n(k,e,s);const i=o(q,k)/c(q);return i>0?r(t,s,q,i):f(t,s)}function d(t,e,o,c){n(q,e,o);const u=c/s(q);return r(t,o,q,u)}function j(n,r){return y(k,r,n.start,n.end),t(k[0],r[0])&&t(k[1],r[1])?[p(r)]:[]}function x(n,r,e){return d(k,e,n,r),t(k[0],e[0])&&t(k[1],e[1])?[p(e)]:[]}function M(t,e){const s=t.start,o=t.end,c=e.start,u=e.end,i=n(q,o,s),f=n(U,u,c),a=m(i,f);if(Math.abs(a)<=v)return[];const p=n(k,s,c),h=m(f,p)/a,l=m(i,p)/a;if(h>=0){if(l>=0||1===e.type)return[r(w,s,i,h)]}else if(1===t.type&&(l>=0||1===e.type))return[r(w,s,i,h)];return[]}function g(t,e,s){const u=[],i=n(q,t.end,t.start),f=n(U,t.start,e),a=c(i),p=2*o(i,f),m=p*p-4*a*(c(f)-s*s);if(0===m){const n=-p/(2*a);(1===t.type||n>=0)&&u.push(r(w,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),e=(-p+n)/(2*a);(1===t.type||e>=0)&&u.push(r(w,t.start,i,e));const s=(-p-n)/(2*a);(1===t.type||s>=0)&&u.push(r(k,t.start,i,s))}return u}const v=1e-6,q=a(),U=a(),k=a(),w=a();export{m as cross,x as intersectCircleAndPoint,j as intersectLineAndPoint,M as intersectLineAndRay,g as intersectLineLikeAndCircle,h as pointToLineDistance,l as projectPoint,d as projectPointToCircle,y as projectPointToLine,b as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Accessor.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import f from\"../symbols/support/ElevationInfo.js\";let l=class extends(i(s(t))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:c,json:{write:{isRequired:!0}}})],l.prototype,\"position\",void 0),o([a({type:f}),n()],l.prototype,\"elevationInfo\",void 0),o([a(e)],l.prototype,\"feature\",void 0),l=o([m(\"esri.analysis.LineOfSightAnalysisObserver\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{j as t}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,d as s}from\"../../../../chunks/vec42.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectVectorToVector as n}from\"../../../../geometry/projection/projectVectorToVector.js\";import{expandWithBuffer as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{evaluateElevationAlignmentAtPoint as h}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as p}from\"../../layers/graphics/ElevationContext.js\";import{defaultBoundingBox as m,requiresHalfTexelOffset as c,defaultSymbolSizeRatio as _,createTexture as g}from\"../../support/engineContent/sdfPrimitives.js\";import{createPointGeometry as d}from\"../../webgl-engine/lib/GeometryUtil.js\";import{HUDMaterial as f}from\"../../webgl-engine/materials/HUDMaterial.js\";class x extends u{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=o(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=o(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){r(e,this._color)||(s(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(s(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material?.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(\"size\").data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],\"size\")}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:c(this._primitive),distanceFieldBoundingBox:m,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawAsLabel:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/_}createExternalResources(){this._texture=g(this._primitive,this._preferredTextureSize),this._material=new f(this._materialParameters,1===this.view.state.viewingMode);const e=this.view.stage;this._texture.load(e.renderView.renderingContext),e.addTexture(this._texture)}destroyExternalResources(){if(this._texture){this.view.stage.removeTexture(this._texture),this._texture.dispose(),this._texture=null}this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachMaterial(e){e(this._material)}get _preferredTextureSize(){return e(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(\"position\").data;return n(i,this.view.renderCoordsHelper.spatialReference,v,this.view.spatialReference),a(e,v),!0}_createRenderGeometry(){const{geometry:e,_material:i}=this;if(null==e||null==i)return null;const{renderCoordsHelper:r,elevationProvider:s}=this.view,o=h(e,s,p.fromElevationInfo(this.elevationInfo),r),a=t(l.get(),e.x,e.y,o),u=l.get();n(a,e.spatialReference,u,r.spatialReference);const m=this._geometrySize;return d(i,{position:u,size:[m,m],centerOffsetAndDistance:[0,0,0,1]})}}const v=i();export{x as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{hasFeatureExpressionInfo as n}from\"../../../../support/elevationInfoUtils.js\";function o(e,n){return t(e?.data.coordinateHelper.hasZ(),n)}function t(e,o){return!!e&&\"on-the-ground\"!==o.mode&&!n(o)}function r(n,o){let t=null;const r=n.events.on(\"grab-changed\",e=>{null!=t&&(t.remove(),t=null),\"start\"===e.action?(t=n.disableDisplay(),o&&o(e)):o&&o(e)});return e(()=>{t?.remove(),r.remove()})}export{o as canMoveZOperations,r as disableDisplayOnGrab};\n"],"names":["e","o","s","r","i","constructor","super","initialize","this","addHandles","analysisViewData","visible","t","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","m","interactive","f","view","n","tool","tools","add","v","p","remove","y","a","userOperation","async","promise","catch","abort","activeTool","c","active","u","signal","shouldRejectOnCancel","l","onToolActivated","aborted","abortOptions","finally","d","clone","placementOptions","valid","equals","layer","id","objectId","objectIdField","attributes","uid","json","write","writer","feature","layerId","target","type","Number","String","isRequired","origins","read","ObjectId","clonable","I","sceneIntersectionHelper","observer","b","observerFeatureId","targetFeatureId","g","options","store","intersectToolIntersectorRay","F","N","R","w","results","all","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","h","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","min","arguments","parent","_userInteractive","_interactiveViewModelCount","updating","suspended","_overrideIfSome","forceInteractive","constructOnly","prototype","Boolean","readOnly","position","elevationInfo","intersect","intersectDraped","Left","Middle","Right","Back","Forward","Undefined","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","inputPoints","isValid","computationResult","start","end","intersection","isTargetVisible","result","notifyResultChanged","notifyChange","notifyInputPointsChanged","context","mapPoint","renderPoint","normal","ray","graphic","x","_terrainIntersectionOptionsLayerUids","Set","intersector","P","state","viewingMode","hud","getScreenPointIntersection","get","camera","O","_getRayIntersection","maxDistance","withinDistance","renderCoordsHelper","fromRenderCoords","spatialReference","lij","slice","layerViewUid","getObjectId","updateFromGroundIntersection","U","S","L","worldUpAtPosition","basemapTerrain","visibleElevationBounds","abs","max","include","updateOnCameraChange","_observerGroundOffsetRenderSpace","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","_frameTask","_computationHandles","_externalObserverUpdate","resourceController","scheduler","registerTask","z","LINE_OF_SIGHT_TOOL","_intersector","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","priority","computations","_elevationAlignedObserverPositionRenderSpace","observerEngineLocation","_screenPixelSize","computeScreenPixelSizeAt","_computeResult","computation","_canCompute","_computeIntersection","_ref0","interpolationInfo","originalIntersection","originalObserver","originalTarget","Z","C","_","M","emit","_adjustStartEndPositions","_ref","H","q","G","V","elevationAlignedObserver","frustum","intersectsPoint","_onObserverPositionChange","D","getLogger","k","absoluteZ","elevation","mode","toRenderCoords","LINE_OF_SIGHT_TOOL_INTERACTIVE","_onObserverRenderSpacePositionChangeForComputation","_onTargetPositionChange","length","undefined","_connectComputationToTarget","targetPosition","targetElevationInfo","targetFeatureInfo","projectedTargetPosition","_ref2","pending","geometry","addPromise","_connectComputationToObserver","_ref3","_connectComputationToRenderSpaceObserver","observerGroundOffset","observerElevationMode","_ref4","_connectComputationToCamera","isDirty","_isCameraDirty","_ref5","_connectComputationToSlicePlane","plane","_connectComputationToElevation","J","A","elevationProvider","on","_ref6","extent","_connectComputationToTask","schedule","initial","_connectComputationToContent","pointsOfInterest","contentGeometryUpdates","events","renderBounds","_connectComputation","has","_disconnectComputation","_onComputationCollectionChange","_ref7","added","removed","_onTargetCollectionChange","_ref8","_removeTarget","_addTarget","_onCursorTargetChange","some","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","_ref9","addOnCollectionChange","final","targets","cursorTarget","B","hasZ","offset","E","glowWidth","innerWidth","size","accentColor","visibleColor","occludedColor","undefinedColor","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","effectiveTheme","renderObjects","metadata","themeHandle","color","setParameters","toUnitRGBA","_creationMode","removeIncompleteOnCancel","_latestPointerMovePointerType","_laserlineVisualElement","_grabbedManipulator","_analysisHandles","_manipulatorHandles","_targetTrackerManipulator","finishToolCreation","_observerManipulator","_createObserverManipulator","_createLaserLine","_onObserverLocationChange","glowColor","innerColor","globalAlpha","_updateLaserLineStyle","_laserLineRendererDependencies","_updateLaserLineRenderer","addWhen","_shouldRenderTracker","_clearCursorTracker","hasGrabbedManipulators","_removeLaserLine","cursor","_showTracker","continue","stop","onEditableChange","editable","internallyEditable","onInputEvent","_doubleClickHandler","_pointerMoveHandler","onInputEventAfter","_clickHandler","onShow","onHide","_onComputationsCollectionChange","destroyed","warn","_createTargetManipulator","available","_onTargetLocationChange","_getTargetManipulator","manipulators","_createTargetManipulatorDragPipeline","_manipulatorGrabChanged","_manipulatorClick","elevationAlignedLocation","forEach","manipulator","_createObserverManipulatorDragPipeline","_screenToIntersection","screenEnd","next","_updateTargetDragStep","_updateObserverDragStep","_cancelObserverDragStep","_updateFromIntersection","action","laserlineVisualElement","grabbedManipulator","shouldRenderTracker","heightManifoldTarget","renderLocation","lineVerticalPlaneSegment","attached","style","isDecoration","toUnitRGB","_addPointFromClickEvent","button","stopPropagation","pointerType","grabbing","dragging","testInfo","visibleLineVisualElement","occludedLineVisualElement","undefinedLineVisualElement","targetVisualElement","_lineOfSightVisualElements","Array","_createObserverVisualization","_observerVisualElement","interactiveAndEditable","test","_createLineOfSightVisualization","width","push","_destroyLineOfSightVisualization","splice","indexOf","_updateLineOfSightVisualization","transform","_getLineOfSightVisualizationDependencies","pixelSnappingEnabled","primitive","outlineSize","_analysisController","_analysisVisualization","map","place","getResultForTarget","find","nonNullable","sqrt","_material","_texture","_geometry","_size","_color","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","applyProperties","recreateGeometry","_preferredTextureSize","recreate","_updateSizeAttribute","_updateMaterial","outlineColor","_materialParameters","object","geometries","getMutableAttribute","data","_geometrySize","geometryVertexAttributeUpdated","textureIsSignedDistanceField","sampleSignedDistanceFieldTexelCenter","distanceFieldBoundingBox","occlusionTest","textureId","polygonOffset","shaderPolygonOffset","drawAsLabel","depthEnabled","createExternalResources","stage","load","renderView","renderingContext","addTexture","destroyExternalResources","removeTexture","dispose","createGeometries","_createRenderGeometry","addGeometry","forEachMaterial","calculateMapBounds","fromElevationInfo","centerOffsetAndDistance","coordinateHelper","disableDisplay"],"sourceRoot":""}