{"version":3,"file":"static/js/8174.754d73e2.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js","../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js","../node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js","../node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/rest/operations/urlUtils.js","../node_modules/@arcgis/core/chunks/Heatmap.glsl.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{PixelType as t,TextureSamplingMode as r,PixelFormat as o,SizedPixelFormat as a}from\"./enums.js\";class l{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function n(n,i){const{textureFloatLinear:s,colorBufferFloat:f}=n.capabilities,u=f?.textureFloat,_=f?.textureHalfFloat,c=f?.floatBlend,m=n.driverTest.floatBufferBlend.result;if(!u&&!_)throw new e(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.\");if(!(c&&m||_))throw new e(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float.\"+(m?\"\":\" This device claims support for EXT_float_blend, but does not actually support it.\"));const p=u&&c&&m,d=_,R=s,h=!!f?.R32F,b=!!f?.R16F;if(p&&R)return R||i.warnOnce(\"Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced.\"),new l(t.FLOAT,R?r.LINEAR:r.NEAREST,h?o.RED:o.RGBA,h?a.R32F:o.RGBA);if(d)return new l(t.HALF_FLOAT,r.LINEAR,b?o.RED:o.RGBA,b?a.R16F:o.RGBA);throw new e(\"heatmap:missing-hardware-support\",\"HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.\")}const i=new l(t.HALF_FLOAT,r.NEAREST,o.RGBA,o.RGBA);export{l as HeatmapTextureConfiguration,i as fallBackHeatmapConfiguration,n as loadHeatmapTextureConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import\"../../../../core/has.js\";import\"../../../../geometry/SpatialReference.js\";import\"../../../../geometry/support/aaBoundingBox.js\";import\"../../../../core/mathUtils.js\";import\"../../../../geometry/Extent.js\";import\"../../../../geometry/Geometry.js\";import\"../../../../geometry/Multipoint.js\";import\"../../../../geometry/Point.js\";import\"../../../../geometry/Polygon.js\";import\"../../../../geometry/Polyline.js\";import\"../../../../geometry/support/typeUtils.js\";import\"../../../../layers/support/Field.js\";import{equals as t}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class r{constructor(e,t){this.feature=e,this.resolution=t,this.refCount=1}}class s{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(e,s){const o=this.feature;n.oldVersion=o,o&&Object.defineProperty(e,\"uid\",{value:o.uid,configurable:!0});const i=this._highestResolutionVersion;for(const r of this.versions)if(r.resolution===s){r.refCount++;const s=i===r&&!t(e,r.feature);return(s||i!==r)&&(r.feature=e),n.newVersion=s?e:o,n}const u=new r(e,s);return this.versions.push(u),!i||s<i.resolution?(n.newVersion=e,this._highestResolutionVersion=u):n.newVersion=o,n}unref(t){const{versions:r}=this;for(let e=0;e<r.length;e++){const s=r[e];if(s.resolution===t)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(r[e]=r[r.length-1],--r.length,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}const s=`Unref feature with no references: ${this.feature?.uid}`;throw new e(s,s,(new Error).stack?.slice(6))}get feature(){return this._highestResolutionVersion?.feature??null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const r=this.versions[t];r.resolution<e.resolution&&(e=r)}this._highestResolutionVersion=e}}class o{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(e){++this._refCount;const r=this._feature;return n.oldVersion=r,r&&Object.defineProperty(e,\"uid\",{value:r.uid,configurable:!0}),t(r,e)||(this._feature=e),n.newVersion=this._feature,n}unref(){i.oldVersion=this._feature;const t=this._refCount;if(!(t>0)){const t=`Unref feature with no references: ${this.feature?.uid}`;throw new e(t,t,(new Error).stack?.slice(6))}return this._refCount=t-1,1===t?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null},n={oldVersion:null,newVersion:null};export{r as FeatureVersion,s as MultiFeatureReference,o as SingleFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{baseObjectMemory as e}from\"../../../../core/memoryEstimations.js\";import{signal as s}from\"../../../../core/signal.js\";import{diameter as i,create as r}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromExtent as a,create as u,intersects as h,copy as n,positiveInfinity as f,intersection as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as _,estimateSize as d,getObjectId as c,computeAABB as m}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeMaxZ as o}from\"../graphics/graphicUtils.js\";const F=16438;class g{constructor(t){this.descriptor=t,this._numVertices=0,this.exceededTransferLimit=s(!1),this._fetchFailed=s(!1),this._sorted=!1,this._numFeatures=s(E),this._emptyFeatureRatio=s(0),this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._displayingFeatures=null,this.alive=!0,this.filtered=!1,this._features=null,this._featuresLength=s(0),this._featureLimit=s(0),this._fetchStatus=p.FETCH_NEEDED,this.fetchInformation=s(\"\"),this.fetchingResolution=this.displayingResolution=t.resolution}get featuresMissing(){return this.fetchFailed||(this.hasPreciseFeatureCount?this._featuresLength.value<this.numFeatures:this.exceededTransferLimit.value)}get showsAllFeatures(){return!this.fetchFailed&&null!=this.displayingFeatures&&(this.hasPreciseFeatureCount?this.displayingFeatures.length===this.numFeatures:!this.exceededTransferLimit.value)}get missingAttributes(){return this._missingAttributes}get fetchFailed(){return this._fetchFailed.value}set fetchFailed(t){this._fetchFailed.value=t}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){const t=this.isFetched&&this.featuresMissing;return!this.filtered&&(t||this.hasFeatureLimit)}get features(){return this._features}get featureLimit(){return this._featureLimit.value}set featureLimit(t){this._featureLimit.value!==t&&(this._featureLimit.value=t,this._estimatedUnusedSizeDirty=!0)}get hasFeatureLimit(){return this.featureLimit!==this._featuresLength.value}get availableFields(){return this._availableFields}setFeatures(t,e,s,i){this._availableFields=s,this._features=t,this._featuresLength.value=t?.length??0,this._sorted=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,this._missingAttributes=i,t&&t.length>0?(this._emptyFeatureRatio.value=e/(t.length+e),this._numVertices=t.reduce(((t,e)=>t+_(e.geometry)),0)):(this._emptyFeatureRatio.value=0,this._numVertices=0)}computeZQuantizationFactor(){if(this._features&&this._features.length>0){const t=this._features.reduce(((t,{geometry:e})=>Math.max(t,o(e)??0)),0);return Math.floor(t/this.descriptor.planetRadius)+1}return 1}get emptyFeatureRatio(){return this._emptyFeatureRatio.value}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures.value:this._features?this._featuresLength.value:0}set numFeatures(t){this._numFeatures.value=t}get hasPreciseFeatureCount(){return this._numFeatures.value>E}get needsFeatureCount(){return this._numFeatures.value===E}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=d(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=d(this._features[t]);return!0}return!1}get fetchStatus(){return this._fetchStatus}requestFetch(){this._fetchStatus=p.FETCH_NEEDED}requestRefetch(){this._fetchStatus=p.REFETCH_NEEDED}startFetch(){this._fetchStatus=this.needsRefetch?p.REFETCHING:p.FETCHING}fetchDone(t){this._fetchStatus=t}get isFetching(){return this._fetchStatus===p.FETCHING||this._fetchStatus===p.REFETCHING}get isRefetching(){return this._fetchStatus===p.REFETCHING}get needsFetch(){return this._fetchStatus===p.FETCH_NEEDED||this._fetchStatus===p.REFETCH_NEEDED}get needsRefetch(){return this._fetchStatus===p.REFETCH_NEEDED}get isFetched(){return this._fetchStatus===p.DONE||this._fetchStatus===p.FULL}isFullyFetched(t){return!!this.features&&(this.features.length>=t||this.fetchStatus===p.FULL)}resetFetching(){this._fetchStatus=this.isRefetching?p.REFETCH_NEEDED:p.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!L(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return null==t||!this.descriptor.extent||(a(t,v),h(this.descriptor.extent,v))}intersectionIncludingBorrowed(t,e){const s=null!=this.extentIncludingBorrowedFeatures?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||s?(null!=t?(a(t,e),l(e,s,e)):n(e,s),e):(n(e,f),e)}_shuffle(e){this._features?.sort(((t,s)=>c(t,e)-c(s,e))),t(this._features,F)}_sortBySize(t){this._features?.sort(((e,s)=>i(m(s.geometry,R))-i(m(e.geometry,R))||c(e,t)-c(s,t)))}reduceFeatures(t,e,s,i){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let r=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&this._fetchStatus===p.DONE&&this._features.length>0&&(this._fetchStatus=p.REFETCH_NEEDED,r=!0),!this._sorted&&t<1&&(i===y.RANDOM?this._shuffle(s):this._sortBySize(s),this._sorted=!0,this._estimatedUnusedSizeDirty=!0);const a=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>a&&(this._features.length=a,this._featuresLength.value=a,this.exceededTransferLimit.value=!1,this._fetchStatus===p.FULL&&(this._fetchStatus=p.DONE)),r}get cache(){return new D(this,this._features,this._numFeatures.value,this._emptyFeatureRatio.value)}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._featuresLength.value=t.features?.length??0,this._numFeatures.value=t.numFeatures,this._emptyFeatureRatio.value=t.emptyFeatureRatio,this._fetchStatus=t.fetchStatus,this.exceededTransferLimit.value=t.exceededTransferLimit,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,this.fetchInformation.value=t.fetchInformation}}const E=-1,S=-2;var p,y;!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(p||(p={})),function(t){t[t.SIZE=0]=\"SIZE\",t[t.RANDOM=1]=\"RANDOM\"}(y||(y={}));class D{constructor(t,s,i,r){this.features=s,this.numFeatures=i,this.emptyFeatureRatio=r,this.cachedMemory=e+t.estimatedSize,this.resolution=t.displayingResolution,this.availableFields=t.availableFields,this.fetchStatus=t.fetchStatus,this.exceededTransferLimit=t.exceededTransferLimit.value,this.fetchInformation=t.fetchInformation.value}}function L(t,e,s){if(null==e||null==t||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}const v=u(),R=r();export{g as FeatureTile,D as FeatureTileCacheItem,p as FetchStatus,y as ReduceMode,S as failedFeatureCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{filterInPlace as s}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../../../core/MapUtils.js\";import{isAbortError as a,throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import o from\"../../../../core/ReactiveMap.js\";import{on as u,watch as l}from\"../../../../core/reactiveUtils.js\";import{schedule as h}from\"../../../../core/scheduling.js\";import{signal as d}from\"../../../../core/signal.js\";import{sqlAnd as c}from\"../../../../core/sql.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getEpsilon as _}from\"../../../../core/libs/gl-matrix-2/math/common.js\";import{create as m,equals as g,clone as F,expand as y,toExtent as T,width as x,height as v}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as R,hasVertices as E,computeAABR as b}from\"../../../../layers/graphics/dehydratedFeatures.js\";import C from\"../../../../rest/support/QuantizationParameters.js\";import D from\"../../../../rest/support/Query.js\";import{ViewingMode as w}from\"../../../ViewingMode.js\";import{MultiFeatureReference as M,SingleFeatureReference as U}from\"./featureReference.js\";import{failedFeatureCount as j,FeatureTile as O,FetchStatus as A,ReduceMode as I}from\"./FeatureTile.js\";import{tilesAreRelated as P}from\"../../terrain/tileUtils.js\";import{ImmediateTask as z,TaskPriority as N}from\"../../../support/Scheduler.js\";let q=class extends t{set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&null!=this.context.query.queryFeatureCount}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get updating(){return this._dirty||!!this._pendingEdits||this._isFetching||(this.tileDescriptors?.updating??!1)}get running(){return this._dirty}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}get showsAllFeatures(){if(this._paused||this.dataUpdating)return!1;for(const e of this._featureTiles.values())if(!this.hasFullGeometries&&0!==e.emptyFeatureRatio||!e.showsAllFeatures)return!1;return!0}get hasFullGeometries(){if(!this._supportsResolution)return!0;const e=this.tileDescriptors?.some(Q);return e||!this.context.capabilities.supportsQuantization&&\"polyline\"!==this.context.geometryType}set filterExtent(e){if(null!=e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void i.getLogger(this).error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||null!=t&&e&&t.equals(e))return;const s=null!=e?e.clone():null;this._set(\"filterExtent\",s),this._reclip(s,t)}_updateTileZQuantization(e){if(this.context.viewingMode===w.Global){const t=e.computeZQuantizationFactor();this._zQuantizationFactor.value<t&&(this._zQuantizationFactor.value=t)}}get _tileZQuantization(){return this.context.isDraped?1:this._zQuantizationFactor.value}constructor(e){super(e),this._useTileCount=!1,this.dataUpdating=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this._fullRatio=1,this._farRatio=1,this._zQuantizationFactor=d(1),this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._featureTiles=new o,this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._dirty=!1,this._suspended=!0,this._pendingEdits=null,this._applyEditsTilesUpdated=!1,this._isFetching=!1;const t=e.context;this._frameTask=t.scheduler?.registerTask(N.FEATURE_TILE_FETCHER,this)??z,this.FeatureReferenceClass=t.capabilities.supportsMultipleResolutions?M:U,this._objectIdField=t.objectIdField}initialize(){this.addHandles([u((()=>this.tileDescriptors),\"change\",(()=>this._setDirty())),l((()=>this._tileZQuantization),(()=>this.refetch()))]),this._setDirty()}destroy(){this._frameTask.remove(),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits?.controller.abort(),this._pendingEdits=null}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}getMissingAttributesForFeature(e){for(const t of this._featureTiles.values()){const s=t.missingAttributes?.get(e);if(null!=s)return s}}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||this._setDirty()}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{null!=t.displayingFeatures&&0!==t.displayingFeatures.length&&(null==e?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields?.has(s)||e.delete(s)})))})),null!=e?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(a(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0===--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._applyEditsTilesUpdated=!1,this._unpause()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),r=new Set,a=this._objectIdField;e.forEach((({objectId:e,globalId:n})=>{(!e||e<0)&&t&&n&&(s||i.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(n,a,t)),null!=e&&e>=0&&r.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!r.has(R(e,this._objectIdField))));t.length!==e.features.length&&(this._applyEditsTileUpdated(),e.setFeatures(t,0,e.availableFields,e.missingAttributes),this._updateTileZQuantization(e),this._invalidateCounts())}))}_objectIdFromGlobalId(e,t,s){if(null==e)return null;const i=this.features.find((t=>t.attributes?.[s]===e));return i?R(i,t):null}async _applyEditsAddUpdateFeatures(e,t,s){const{objectIdField:r,globalIdField:a}=this.context,n=a&&this.availableFields.has(a),o=new Set,u=new Set;for(const i of e){const e=i.objectId;null!=e&&o.add(e)}for(const{objectId:h,globalId:d}of t){let e=h;(null==e||e<0)&&a&&(n||i.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${a} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(d,r,a)),null!=e&&e>=0&&(o.add(e),u.add(e))}if(0===o.size)return;const l=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,o,u,s);t&&l.push(t)})),this._updated(),await Promise.allSettled(l)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;e.fetchingResolution=e.descriptor.resolution;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=Array.from(t);const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(R(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),this._applyEditsTileUpdated(),e.setFeatures(n,0,H(e.availableFields,a.fields),Z(e.missingAttributes,a.missingAttributes)),this._updateTileZQuantization(e),this._invalidateCounts())}_applyEditsTileUpdated(){this._applyEditsTilesUpdated||(this._applyEditsTilesUpdated=!0,this._updated())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:X})}_setDirty(){this._dirty=!0,this._updated()}runTask(e){const t=this._frameTask.processQueue(e);if(!this._dirty||!this.initialized)return t;this._dirty=!1;const s=this._featureTilesArray;if(this._markTilesNotAlive(s),!e.run((()=>this._addTiles(s,e)))||!e.run((()=>this._filterExtentTiles(s,e)))||!e.run((()=>this._removeTiles(s,e)))||e.done)return void this._setDirty();const i=this._sortTiles(s);e.run((()=>this._showTiles(i,e)))&&e.run((()=>this._fetchTiles(i,e)))&&e.run((()=>this._updateMemoryEstimates(i,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!(this._suspended||!this.tileDescriptors)&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}_showTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;e.reduceFeatures(t,this.memoryFactor,this._objectIdField,this._reduceMode)&&this._setDirty();const{numFeatures:i,fetchingResolution:r,descriptor:a,isFetched:n}=e;return this._supportsResolution&&i>0&&r!==a.resolution&&n&&(e.requestRefetch(),this._setDirty()),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let s=!1;for(const i of e){if(!i.needsFetch)continue;const e=null!=this.context.memoryCache?this.context.memoryCache.pop(i.id):null;if(e?.resolution!==i.displayingResolution){if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.resetFetching()),(()=>i.numFeatures=j)),s=!0,t.madeProgress()}if(t.done)return!0}else i.cache=e,i.numFeatures&&this._notifyDataUpdating(),this._setDirty(),this._scheduleUpdated(),t.madeProgress()}if(s)return t.hasProgressed;for(const r of e){if(!r.needsFetch)continue;const e=new AbortController,s=this._fetchTile(r,e.signal);if(this._handleRequest(r,s,e,(e=>r.fetchDone(e)),(e=>{r.fetchFailed=!0,this.context.logFetchError(i.getLogger(this),e)})),t.madeProgress(),t.done)return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{null!=i.displayingFeatures&&0!==i.displayingFeatures.length&&(i.intersectionIncludingBorrowed(t,G),i.intersectionIncludingBorrowed(e,$),g(G,$)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(null!=i.displayingFeatures)for(const e of i.displayingFeatures){const i=R(e,this._objectIdField);if(t.has(i))continue;t.add(i);const r=this._displayingFeatureReferences.get(i).feature;s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;if(this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0)),this._isFetching=e>0,e>0||this._applyEditsTilesUpdated?this._notifyDataUpdating():this._dirty||this._set(\"dataUpdating\",!1),this.updating){let t=0,s=0,i=0,r=0,a=0;const n=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=null!=e.displayingFeatures?e.displayingFeatures.length*n:0;a+=t-s}e.needsFetch?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let o=0,u=0;t?(u=t,o=Math.min(r*t/i,t)):(u=s,o=r),a=Math.min(this.maximumNumberOfFeatures-this.features.length,a),this._set(\"updatingTotal\",u),this._set(\"updatingRemaining\",o),this._set(\"expectedFeatureDiff\",a)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger?.update()}_updateMaximumNumberOfFeaturesExceeded(){for(const{perTileMaximumNumberOfFeaturesExceeded:e}of this._featureTiles.values())if(e)return void this._set(\"maximumNumberOfFeaturesExceeded\",!0);this._set(\"maximumNumberOfFeaturesExceeded\",!1)}_updateRatio(e){const t=S(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.isFullyFetched(t)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new O(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.displayingResolution;this._featureTiles.forEach((s=>{if(null!=s.displayingFeatures&&e!==s&&P(e.descriptor.lij,s.descriptor.lij)){null==e.displayingFeatures&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(e.extentIncludingBorrowedFeatures??=F(e.descriptor.extent),y(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get(R(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}}))}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetch&&e.fetchDone(A.DONE):e.requestFetch()}_cancelFetchTile(e){const t=e.requestController;null!=t&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._featureTilesArray)}async _fetchTile(e,t){e.fetchFailed=!1;const s=this._maximumFeaturesForTile(e);if(s<=0)return e.hasPreciseFeatureCount&&0===e.numFeatures||(e.fetchFailed=!0),L(e),e.fetchInformation.value=\"Empty tile\",A.DONE;const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(e.fetchingResolution=e.descriptor.resolution,Q(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>D.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=r,e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}e.fetchInformation.value=`Single fetch\\n${s} features`;const{features:o,exceededTransferLimit:u,fields:l,missingAttributes:h}=await this._queryFeatures(a,t),d=u||a.maxRecordCountFactor>=D.MAX_MAX_RECORD_COUNT_FACTOR||s===this._totalFeaturesForTile(e)?A.FULL:A.DONE,c=await this._frameTask.schedule((()=>{e.exceededTransferLimit.value=!!u;const t=this._removeEmptyFeatures(o,this._getEffectiveTileResolution(e));return e.fetchInformation.value=`Single fetch\\n${o.length}/${s} features`,e.setFeatures(o,t,k(l),Z(void 0,h)),this._updateTileZQuantization(e),this._maximumFeaturesForTile(e)>s?A.REFETCH_NEEDED:d}),t);return n(t),this._invalidateCounts(),c}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,o=this._maximumFeaturesForTile(e)-a;const u=this._getMaxRecordCount(e);let l,h=null;for(;;){const d=this._createQuery(e),c=this._setPagingParameters(d,i,o,u);e.fetchInformation.value=`Paged fetch\\n${e.features?.length}/${o} features`;const{features:p,exceededTransferLimit:f,fields:_,missingAttributes:m}=await this._queryFeatures(d,t);if(await this._frameTask.schedule((()=>{c&&(i+=d.num),a+=p.length,r+=this._removeEmptyFeatures(p,this._getEffectiveTileResolution(e)),e.exceededTransferLimit.value=!!f,s=s?.concat(p)??p,h=H(h,_),l=Z(l,m),e.setFeatures(s,r,h,l),this._updateTileZQuantization(e),this._invalidateCounts(),this._setDirty()}),t),n(t),o=this._maximumFeaturesForTile(e)-(s?.length??0),!c||!f||o<=0)return f?A.DONE:A.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery();t.resultType=this._resultType(e);const s=Q(e);return s||(t.geometry=T(e.descriptor.extent,this.context.tilingScheme.spatialReference)),this._setResolutionParams(t,e),\"tile\"!==t.resultType&&this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),!s&&this.context.effectiveDisplayFilter&&(t.where=c(t.where,this.context.effectiveDisplayFilter.where)),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(Q(e)||!this._supportsResolution)return null;const t=this.context.viewingMode===w.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.fetchingResolution,t)/this.lodFactor/this._tileZQuantization}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new C({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e,t){const i=e.length;if(t&&this._supportsResolution){const i=t*(1+_());s(e,(({geometry:e})=>!(!e||!E(e))&&(b(e,B),x(B)>i||v(B)>i)))}else s(e,(({geometry:e})=>E(e)));return i-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!Q(e)}_getMaxRecordCount(e){switch(this._resultType(e)){case\"tile\":if(this.context.tileMaxRecordCount)return this.context.tileMaxRecordCount;break;case\"standard\":if(this.context.standardMaxRecordCount)return this.context.standardMaxRecordCount}return this.context.maxRecordCount||V}_resultType(e){if(this.context.capabilities.supportsResultType)return Q(e)?\"standard\":\"tile\"}get _reduceMode(){const e=this.context.geometryType;return\"polygon\"===e||\"polyline\"===e?I.SIZE:I.RANDOM}_handleRequest(e,t,s,i,r){e.startFetch(),e.requestController=s;let n=!1;t.then((t=>{e.requestController=null,i(t)})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchDone(A.DONE)),a(t)?n=!0:r(t)})).then((()=>{n||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.hasHandles(\"scheduleUpdated\")||this.addHandles(h((()=>{this.removeHandles(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(e.displayingFeatures&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=null!=e.displayingFeatures&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.fetchingResolution,{adds:i,updates:r}=this._changes,a=Math.min(e.featureLimit,t.length);for(let n=0;n<a;++n){const e=t[n],a=R(e,this._objectIdField),o=this._displayingFeatureReferences.get(a);if(o){const{oldVersion:t,newVersion:i}=o.ref(e,s);t!==i&&(t&&r.removes.push(t),i&&r.adds.push(i))}else this._displayingFeatureReferences.set(a,new this.FeatureReferenceClass(e,s)),i.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),e.displayingResolution=e.fetchingResolution,this._applyChanges(),e.displayingFeatures=t.slice(0,a),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(null==e.displayingFeatures)return;const{updates:t,removes:s}=this._changes;for(const i of e.displayingFeatures){const r=R(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const{oldVersion:n,newVersion:o}=a.unref(e.displayingResolution);this._numDisplayingFeatureReferences--,n!==o&&(null==o?(this._displayingFeatureReferences.delete(r),n&&s.push(n)):(t.adds.push(o),n&&t.removes.push(n)))}this._applyChanges(),e.displayingFeatures=null}_notifyDataUpdating(){this._get(\"dataUpdating\")||this._set(\"dataUpdating\",!0)}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this._notifyDataUpdating(),this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this._notifyDataUpdating(),this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+J,i);this._notifyDataUpdating(),this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&(this._notifyDataUpdating(),this.features.addMany(0===r?t:t.slice(r))),s.length>i&&(this._notifyDataUpdating(),this.features.removeMany(0===r?s:s.slice(r))),t.length=0,s.length=0}_clearTile(e){this._hideTile(e),e.features&&null!=this.context.memoryCache&&this.context.memoryCache.put(e.id,e.cache),e.setFeatures(null,0,null,void 0),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}get _featureTilesArray(){return Array.from(this._featureTiles.values())}get featureTiles(){return this._featureTiles}get storedFeatures(){return this._featureTilesArray.reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}get missingTiles(){return Array.from(this._featureTiles.values()).reduce(((e,t)=>e+(t.needsFetch||t.isFetching?1:0)),0)}_totalFeaturesForTile(e){return e.hasPreciseFeatureCount?e.numFeatures:this.maximumNumberOfFeatures}_maximumFeaturesForTile(e){const t=this._totalFeaturesForTile(e),s=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(t*s/(1-e.emptyFeatureRatio)),t)}get test(){}};function Q(e){return\"dummy-tile-full-extent\"===e.id}function S(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function L(e){e.setFeatures([],0,null,void 0)}function k(e){return null==e?new Set:new Set(e.map((e=>e.name)))}function H(e,t){if(null==e||null==t)return k(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}function Z(e,t){if(!t?.length)return e;e??=new Map;const s=()=>new Set;for(const{objectId:i,attribute:a}of t)r(e,i,s).add(a);return e}e([p({constructOnly:!0})],q.prototype,\"features\",void 0),e([p()],q.prototype,\"tileDescriptors\",void 0),e([p({value:1/0})],q.prototype,\"maximumNumberOfFeatures\",null),e([p({value:1})],q.prototype,\"memoryFactor\",null),e([p({value:1})],q.prototype,\"lodFactor\",null),e([p()],q.prototype,\"useTileCount\",null),e([p({readOnly:!0})],q.prototype,\"updating\",null),e([p({readOnly:!0})],q.prototype,\"dataUpdating\",void 0),e([p({readOnly:!0})],q.prototype,\"updatingTotal\",void 0),e([p({readOnly:!0})],q.prototype,\"updatingRemaining\",void 0),e([p({readOnly:!0})],q.prototype,\"expectedFeatureDiff\",void 0),e([p({readOnly:!0})],q.prototype,\"memoryForUnusedFeatures\",null),e([p({readOnly:!0})],q.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([p({readOnly:!0})],q.prototype,\"totalVertices\",null),e([p({readOnly:!0})],q.prototype,\"totalFeatures\",null),e([p({readOnly:!0})],q.prototype,\"showsAllFeatures\",null),e([p({readOnly:!0})],q.prototype,\"hasFullGeometries\",null),e([p()],q.prototype,\"filterExtent\",null),e([p({constructOnly:!0})],q.prototype,\"context\",void 0),e([p()],q.prototype,\"_dirty\",void 0),e([p()],q.prototype,\"_suspended\",void 0),e([p()],q.prototype,\"_pendingEdits\",void 0),e([p()],q.prototype,\"_applyEditsTilesUpdated\",void 0),e([p()],q.prototype,\"_paused\",null),e([p()],q.prototype,\"_isFetching\",void 0),q=e([f(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")],q);const V=2e3,G=m(),$=m(),B=m(),X=6e5,J=200;export{q as FeatureTileFetcher3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../Graphic.js\";import i from\"../../../../core/Collection.js\";import s from\"../../../../core/Handles.js\";import{watch as o,initial as r}from\"../../../../core/reactiveUtils.js\";import a from\"../../../../geometry/Polygon.js\";import l from\"../../../../symbols/FillSymbol3DLayer.js\";import n from\"../../../../symbols/PointSymbol3D.js\";import h from\"../../../../symbols/PolygonSymbol3D.js\";import c from\"../../../../symbols/TextSymbol3DLayer.js\";import m from\"../../../../symbols/callouts/LineCallout3D.js\";import d from\"../../../../symbols/callouts/LineCallout3DBorder.js\";import p from\"../../../../symbols/support/Symbol3DVerticalOffset.js\";import{TilingScheme as y}from\"../../terrain/TilingScheme.js\";const _=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class b{constructor(e,t,o){this._tileFetcher=e,this._view=o,this._handles=new s,this._loadingGraphics=new Map,this._loadingSymbols=[new h({symbolLayers:new i([new l({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}})])})],this._loadedGraphics=new Map,this._loadedSymbols=_.map((e=>new h({symbolLayers:new i([new l({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})])}))),this._pendingGraphics=new Map,this._pendingSymbols=[new h({symbolLayers:new i([new l({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}})])})],this._dataExtentGraphic=null,this._dataExtentSymbol=new h({symbolLayers:new i([new l({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}})])}),this._enabled=!0,this._tilingScheme=new y(t),this.update()}destroy(){this.enabled=!1,this._handles.destroy()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:({isFetching:e})=>e,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:({isFetching:e})=>!e,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>this._view.graphics.removeMany(e))),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>this._view.graphics.removeMany(e))),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>this._view.graphics.removeMany(e))),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(e){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),null==e)return;const i=a.fromExtent(e);this._dataExtentGraphic=new t({geometry:i,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(e,t){const i=this._tileFetcher.featureTiles;e.forEach(((s,o)=>{const r=i.get(o);r&&t.filter(r)||(this._view.graphics.removeMany(s),e.delete(o))})),this._handles.removeAll(),i.forEach((i=>{t.filter(i)&&!e.has(i.id)&&this._handles.add(o((()=>i.fetchInformation),(()=>this._showTile(i,e,t)),r))}))}_showTile(s,o,r){const[a,l,h]=s.descriptor.lij,{numFeatures:y,featureLimit:_,features:b}=s;this._tilingScheme.ensureMaxLod(a);const g=this._tilingScheme.getExtentGeometry(a,l,h),w=new t({geometry:g,symbol:r.symbols[a%r.symbols.length]}),f=`Tile ${s.id}\\nloaded/limit/total\\n${b?.length}/${_}/${y}\\nres ${Math.round(s.displayingResolution)} ${s.featuresMissing?\"some\":\"all\"}\\n${s.fetchInformation.value}`,u=new t({geometry:g.center,symbol:new n({verticalOffset:new p({screenLength:40/.75}),callout:new m({color:new e(\"white\"),border:new d({color:new e(\"black\")})}),symbolLayers:new i([new c({text:f,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})])})}),G=o.get(s.id);G&&this._view.graphics.removeMany(G);const v=[w,u];o.set(s.id,v),this._view.graphics.addMany(v)}}export{b as FeatureTileFetcher3DDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import has from\"../../../core/has.js\";import s from\"../../../core/Error.js\";import{clone as a}from\"../../../core/lang.js\";import o from\"../../../core/Logger.js\";import{destroyMaybe as l,removeMaybe as n,abortMaybe as u}from\"../../../core/maybe.js\";import h from\"../../../core/Promise.js\";import{createAbortError as c,isAbortError as d}from\"../../../core/promiseUtils.js\";import{initial as p,whenOnce as m,watch as f,syncAndInitial as y,sync as _}from\"../../../core/reactiveUtils.js\";import{sqlAnd as g}from\"../../../core/sql.js\";import{property as F}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as x}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as v}from\"../../../core/support/UpdatingHandles.js\";import{projectWithZConversion as D}from\"../../../geometry/projectionUtils.js\";import{isHostedAgolService as w}from\"../../support/arcgisLayerUrl.js\";import{checkServiceCurrentUserSupport as C}from\"../../support/featureLayerUtils.js\";import{getEffectiveLayerCapabilities as b}from\"../../support/layerUtils.js\";import S from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileDescriptor as E}from\"../../../views/3d/layers/support/FeatureTileDescriptor.js\";import{FeatureTileFetcher3D as T}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as V}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import{debugFlags as H}from\"../../../views/3d/support/debugFlags.js\";let L=class extends(h.EsriPromiseMixin(t)){get dataUpdating(){return this._tileFetcher?.dataUpdating??!1}set extent(e){if(null!=e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void o.getLogger(this).error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(this._tileFetcher?.updating||null!=this._fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles?.updating||this._updatingHandles?.updating)}get updatingTotal(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return null!=this._tileFetcher?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(null==this._tileFetcher||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return this.displayFeatureLimit?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome(\"maximumNumberOfFeatures\",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get hasAllFeatures(){return this.serviceDataCount===N.noServiceDataCount&&\"snapshot\"===this.mode&&this.hasAllFeaturesInView||this.serviceDataCount===this.graphics.length}get hasAllFeaturesInView(){const e=this.context.effectiveDisplayFilter?.where||null,t=null!=e&&\"1=1\"!==e;return(\"tiles\"!==this.mode||!t)&&(this._tileFetcher?.showsAllFeatures??!1)}get hasFullGeometries(){return this._tileFetcher?.hasFullGeometries??!1}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&null!=e.infoFor3D)return\"snapshot\";if(\"catalog-footprint\"===e.type)return\"tiles\";if(this._forceTilesMode)return\"tiles\";const t=this.layerView.view;if(!1===t.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===N.noServiceDataCount||this._snapshotLimitExceeded||this.maximumNumberOfFeaturesExceeded||t.quality<1)return\"tiles\";const i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>N.maxSnapshotMinScaleFactor)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&this._tileFetcher?.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){if(\"snapshot\"===this.mode){const e=new E(0,0,0,this.layerView.view.featureTiles.tilingScheme,\"dummy-tile-full-extent\");return new r([e])}const e=this.layerView.view.featureTiles;return e?e.tiles:new r}get test(){}constructor(e){super(e),this.type=\"feature-tile-3d\",this._updatingHandles=new v,this.serviceDataExtent=null,this.serviceDataCount=N.noServiceDataCount,this._snapshotLimitExceeded=!1,this.displayFeatureLimit=null,this._forceTilesMode=!1,this._suspended=!1,this._tileFetcher=null,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._updatingHandles.add((()=>this.displayFeatureLimit),(e=>this._updatingHandles.addPromise(this._updateSnapshotLimit(e,null,this._lifeCycleAbortController.signal)))),this._updatingHandles.add((()=>this.mode),(()=>this._modeChanged()),p),this._updatingHandles.add((()=>this.mode),((e,t)=>{\"tiles\"===e&&\"snapshot\"===t&&(this._forceTilesMode=!0)}),p),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._updatingHandles.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(\"ogc-feature\"!==e.type&&!b(e)?.operations.supportsQuery)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=l(this._tileFetcher),this._tilesHandle=n(this._tilesHandle),this._lifeCycleAbortController=u(this._lifeCycleAbortController),this._updatingHandles.destroy(),this._set(\"_updatingHandles\",null)}suspend(){this._suspended||(this._suspended=!0,null!=this._tileFetcher&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,null!=this._tileFetcher&&this._tileFetcher.resume())}restart(){const e=()=>{null!=this._tileFetcher&&this._tileFetcher.restart()};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){this._refetch({resetForceTilesMode:!1})}getMissingAttributesForFeature(e){return this._tileFetcher?.getMissingAttributesForFeature(e)}_refetch(e){const t=()=>{null!=this._tileFetcher&&(e.resetForceTilesMode&&(this._forceTilesMode=!1),this._tileFetcher.refetch())};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(t,t))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=m((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._updatingHandles.addPromise(t),t.then((()=>{const{layerView:e,tileDescriptors:t}=this,i=e.layer,r=new T({context:this.context,filterExtent:this.extent,tileDescriptors:t,features:this.graphics});this._tileFetcher=r,this._suspended?r.suspend():r.resume();const s=this.layerView.view;s&&this.addHandles(f((()=>s.quality),(e=>r.memoryFactor=e),y));const a=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;a&&this.addHandles(f((()=>this.layerView.view?.qualitySettings?.graphics3D?.[a]),(e=>r.lodFactor=e||1),p));const o=e=>{r.maximumNumberOfFeatures=e,r.useTileCount=this.serviceDataCount>e},n=e=>{r.useTileCount=e>this.maximumNumberOfFeatures};\"ogc-feature\"!==i.type&&this._updatingHandles.add((()=>i.createQueryVersion),(()=>this._dataFilterChanged())),this._updatingHandles.add((()=>this.context.effectiveDisplayFilter),(()=>this._effectiveDisplayFilterChanged())),this._updatingHandles.add((()=>e.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._updatingHandles.add((()=>e.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),\"customParameters\"in i&&this._updatingHandles.add((()=>i.customParameters),(()=>this.restart())),this.addHandles([i.on(\"apply-edits\",(e=>this._applyEdits(e))),f((()=>this.extent),(e=>r.filterExtent=e),_),f((()=>this.tileDescriptors),(e=>r.tileDescriptors=e),_),f((()=>this.maximumNumberOfFeatures),o,y),f((()=>this.serviceDataCount),n,y),f((()=>H.FEATURE_TILE_FETCH_SHOW_TILES),(e=>{e&&r?r.debugger??=new V(r,s.featureTiles.tilingScheme.toTileInfo(),s):!e&&this._tileFetcher&&r.debugger&&(r.debugger=l(r.debugger))}),p)]),this._supportsExceedsLimitQuery||this._updatingHandles.add((()=>this.maxTotalSnapshotVertices),(()=>this._updatingHandles.addPromise(this._updateSnapshotLimit(this.displayFeatureLimit,null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:o.getLogger(this).warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":null!=this._tilesHandle&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this._refetch({resetForceTilesMode:!0})}_effectiveDisplayFilterChanged(){\"snapshot\"!==this.mode&&this._refetch({resetForceTilesMode:!1})}_applyEdits(e){const t=this.layerView.layer;null!=this._tileFetcher&&this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw c();e.exceededTransferLimit&&\"refresh\"in t?t.refresh():(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._updatingHandles.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!d(e))throw e}))}_availableFieldsChanged(e,t){null!=this._tileFetcher&&P(this._tileFetcher.availableFields,t)&&this._refetch({resetForceTilesMode:!1})}_requiredFieldsChanged(e,t){null!=this._tileFetcher&&P(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.returnGeometry=!1,i.outStatistics=[new S({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=this.layerView,i=e.createQuery();return i.returnGeometry=!1,i.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),t.effectiveDisplayFilter&&(i.where=g(i.where,t.effectiveDisplayFilter.where)),i}_fullExtentIsAccurate(){const e=this.layerView.layer;if(\"definitionExpression\"in e&&e.definitionExpression)return!1;switch(e.type){case\"feature\":case\"catalog-footprint\":case\"oriented-imagery\":return w(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){d(t)||this._set(\"serviceDataExtent\",a(this.layerView.fullExtentInLocalViewSpatialReference)??null)}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=a(t.fullExtentInLocalViewSpatialReference),o=i.fullExtent,l=this._fullExtentIsAccurate(),n=this.serviceDataCount;if(r&&n<=N.maxFeatureCountForExtent&&(!s||!l)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:N.queryExtentTimeout,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(null!=o){const e=o.spatialReference?await D(o,t.view.spatialReference):null;this._set(\"serviceDataExtent\",e??null)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t)||!has(\"featurelayer-snapshot-enabled\"))return void this._set(\"serviceDataCount\",N.noServiceDataCount);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:N.queryStatisticsTimeout,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(d(r.error))throw r.error;this._set(\"serviceDataCount\",N.noServiceDataCount)}}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateSnapshotLimit(e,t,r){if(null==e?.averageSymbolComplexity)return void(this._snapshotLimitExceeded=!1);const{maximumTotalNumberOfVertices:s,averageSymbolComplexity:a}=e,{verticesPerFeature:o,verticesPerCoordinate:l}=a,n=o<=0,u=this._minimumNumberOfVerticesForGeometry>1;if(!n&&!u)return void(this._snapshotLimitExceeded=!1);0!==o&&null!=t&&await t;const h=Math.min(s,I),c=this.serviceDataCount,p=c!==N.noServiceDataCount;let m=p?Math.ceil((h-c*o)/(l||1)):Math.ceil(h/(l||1));if(u&&(m=Math.min(m,q)),p&&this._minimumNumberOfVerticesForGeometry*c>m)return void(this._snapshotLimitExceeded=!0);if(!this._supportsExceedsLimitQuery||!has(\"featurelayer-snapshot-enabled\"))return void(this._snapshotLimitExceeded=this.maxTotalSnapshotVertices>m);const f=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(m),{timeout:N.queryStatisticsTimeout,signal:r}));if(!1===f.ok){if(d(f.error))throw f.error;return void(this._snapshotLimitExceeded=!1)}const y=f.value.features[0];this._snapshotLimitExceeded=!!y?.attributes&&!!y.attributes.exceedslimit}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo(),await C(this.layerView.layer);let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=Promise.allSettled([i,this._updateSnapshotLimit(this.displayFeatureLimit,i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{d(e)||o.getLogger(this).error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get performanceInfo(){return{storedFeatures:this._tileFetcher?.storedFeatures??0,totalFeatures:this._tileFetcher?.totalFeatures??0,totalVertices:this._tileFetcher?.totalVertices??0,missingTiles:this._tileFetcher?.missingTiles??0}}};e([F({readOnly:!0})],L.prototype,\"type\",void 0),e([F({constructOnly:!0})],L.prototype,\"graphics\",void 0),e([F({constructOnly:!0})],L.prototype,\"layerView\",void 0),e([F({constructOnly:!0})],L.prototype,\"context\",void 0),e([F({readOnly:!0})],L.prototype,\"dataUpdating\",null),e([F()],L.prototype,\"extent\",null),e([F()],L.prototype,\"updating\",null),e([F({readOnly:!0})],L.prototype,\"_updatingHandles\",void 0),e([F()],L.prototype,\"updatingTotal\",null),e([F()],L.prototype,\"updatingRemaining\",null),e([F()],L.prototype,\"expectedFeatureDiff\",null),e([F()],L.prototype,\"memoryForUnusedFeatures\",null),e([F()],L.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([F({readOnly:!0})],L.prototype,\"serviceDataExtent\",void 0),e([F({readOnly:!0})],L.prototype,\"serviceDataCount\",void 0),e([F()],L.prototype,\"_snapshotLimitExceeded\",void 0),e([F()],L.prototype,\"displayFeatureLimit\",void 0),e([F({type:Number})],L.prototype,\"maximumNumberOfFeatures\",null),e([F({readOnly:!0})],L.prototype,\"hasAllFeatures\",null),e([F({readOnly:!0})],L.prototype,\"hasAllFeaturesInView\",null),e([F({readOnly:!0})],L.prototype,\"hasFullGeometries\",null),e([F()],L.prototype,\"_forceTilesMode\",void 0),e([F({readOnly:!0})],L.prototype,\"mode\",null),e([F({readOnly:!0})],L.prototype,\"maxTotalSnapshotVertices\",null),e([F({readOnly:!0})],L.prototype,\"tileDescriptors\",null),e([F()],L.prototype,\"_tileFetcher\",void 0),e([F()],L.prototype,\"_fetchDataInfoPromise\",void 0),L=e([x(\"esri.layers.graphics.controllers.FeatureTileController3D\")],L);const O=1e4,I=1e6,A=12e3,j=1e4,q=5e6;function P(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var N;!function(e){function t(){e.maxFeatureCountForExtent=O,e.queryStatisticsTimeout=A,e.queryExtentTimeout=j}e.noServiceDataCount=1/0,e.maxSnapshotMinScaleFactor=5,e.reset=t}(N||(N={})),N.reset();export{L as FeatureTileController3D,N as FeatureTileController3DConstants};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import t from\"../../../../geometry/SpatialReference.js\";import{projectPointToVectorAsync as r}from\"../../../../geometry/projection/projectPointToVector.js\";import{makeDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedPoint.js\";import{getGeometryEffectiveElevationInfo as n}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationInfoAtPoint as s,SampleElevationInfo as a}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{extractExpressionInfo as f,createContext as c}from\"./featureExpressionInfoUtils.js\";async function l(l,m,d,j,u){const{elevationProvider:v,renderCoordsHelper:g}=l,{elevationInfo:I}=m,{pointsInFeatures:x,spatialReference:y}=j,h=t.fromJSON(y),w=f(I,!0),R=await c(w,h,u);e(u);const S=[],b=new Set,z=new Set,E=new p,P=i(0,0,0,t.WGS84),U=new a,C=o();P.spatialReference=h;const F=l.elevationProvider.spatialReference??l.spatialReference;for(const{objectId:e,points:o}of x){const t=d(e);if(null==t){for(const e of o)S.push(e.z??0);b.add(e);continue}t.isDraped&&z.add(e);const i=t.graphic.geometry;E.setFromElevationInfo(n(i,I)),E.updateFeatureExpressionInfoContext(R,t.graphic,m);for(const{x:e,y:n,z:a}of o)P.x=e,P.y=n,P.z=a??0,await r(P,C,F,0,{signal:u}),s(C,v,E,g,U),S.push(U.z)}return{elevations:S,drapedObjectIds:z,failedObjectIds:b}}export{l as elevationAlignPointsInFeatures};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as r}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{ShaderBuilder as a}from\"../views/webgl/ShaderBuilder.js\";function t(t){const s=new a,{vertex:d,fragment:u,attributes:l,varyings:n}=s;e(d,t);const{isAttributeDriven:c,usesHalfFloat:f}=t;return l.add(r.POSITION,\"vec3\"),l.add(r.UV0,\"vec2\"),c&&(l.add(r.FEATUREATTRIBUTE,\"float\"),n.add(\"attributeValue\",\"float\")),f&&u.constants.add(\"compressionFactor\",\"float\",.25),n.add(\"unitCirclePos\",\"vec2\"),d.uniforms.add(new o(\"radius\",(({resolutionForScale:e,searchRadius:o},{camera:i,screenToWorldRatio:r,overlayStretch:a})=>2*o*(0===e?1:e/r)*i.pixelRatio/i.fullViewport[2]/a))),d.main.add(i`\n    unitCirclePos = uv0;\n\n    vec4 posProj = proj * (view * vec4(${r.POSITION}, 1.0));\n    vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n    ${c?i`attributeValue = ${r.FEATUREATTRIBUTE};`:\"\"}\n    gl_Position = posProj + quadOffset;\n  `),u.main.add(i`\n    float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n    if (radiusRatioSquared > 1.0) {\n      fragColor = vec4(0.0);\n    }\n    else {\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${c?i` * attributeValue`:\"\"} ${f?i` * compressionFactor`:\"\"};\n      fragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{s as H,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{PooledRBush as i}from\"../../../core/libs/rbush/PooledRBush.js\";import{empty as s}from\"../../../geometry/support/aaBoundingRect.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i(9,has(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=s();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{o as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{urlToObject as t,join as r}from\"../../../core/urlUtils.js\";import{getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as i}from\"../../../geometry/support/normalizeUtils.js\";import{srToRESTValue as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{mapParameters as a}from\"../../operations/urlUtils.js\";import{parsePBFFeatureQuery as s}from\"./pbfQueryUtils.js\";import{applyFeatureSetZUnitScaling as u}from\"./queryZScale.js\";const l=\"Layer does not support extent calculation.\";function d(e,t){if(t&&\"extent\"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&\"point\"===e.type)return`${e.x},${e.y}`;const r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function y(e,t,r){const i=e.geometry,a=e.toJSON();delete a.compactGeometryEnabled,delete a.defaultSpatialReferenceEnabled;const s=a;let u,l,y;if(i&&(l=i.spatialReference,y=o(l),s.geometryType=n(i),s.geometry=d(i,e.compactGeometryEnabled),s.inSR=y),a.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=a.groupByFieldsForStatistics.join(\",\")),a.objectIds)switch(r?.uniqueIdFields?.length){case void 0:s.objectIds=a.objectIds.join(\",\");break;case 1:s.uniqueIds=JSON.stringify(a.objectIds),delete s.objectIds;break;default:s.uniqueIds=JSON.stringify(a.objectIds.map((e=>JSON.parse(e)))),delete s.objectIds}if(a.orderByFields&&(s.orderByFields=a.orderByFields.join(\",\")),!a.outFields||!a.returnDistinctValues&&(t?.returnCountOnly||t?.returnExtentOnly||t?.returnIdsOnly)?delete s.outFields:a.outFields.includes(\"*\")?s.outFields=\"*\":s.outFields=a.outFields.join(\",\"),a.outSR?(s.outSR=o(a.outSR),u=e.outSpatialReference):i&&(a.returnGeometry||a.returnCentroid)&&(s.outSR=s.inSR,u=l),a.returnGeometry&&delete a.returnGeometry,a.outStatistics&&(s.outStatistics=JSON.stringify(a.outStatistics)),a.fullText&&(s.fullText=JSON.stringify(a.fullText)),a.pixelSize&&(s.pixelSize=JSON.stringify(a.pixelSize)),a.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&null!=l&&null!=e.quantizationParameters?.extent&&l.equals(e.quantizationParameters.extent.spatialReference)&&delete a.quantizationParameters.extent.spatialReference,s.quantizationParameters=JSON.stringify(a.quantizationParameters)),a.parameterValues&&(s.parameterValues=JSON.stringify(a.parameterValues)),a.rangeValues&&(s.rangeValues=JSON.stringify(a.rangeValues)),a.dynamicDataSource&&(s.layer=JSON.stringify({source:a.dynamicDataSource}),delete a.dynamicDataSource),a.timeExtent){const e=a.timeExtent,{start:t,end:r}=e;null==t&&null==r||(s.time=t===r?t:`${t??\"null\"},${r??\"null\"}`),delete a.timeExtent}return e.defaultSpatialReferenceEnabled&&null!=l&&null!=u&&l.equals(u)&&(s.defaultSR=s.inSR,delete s.inSR,delete s.outSR),s}async function c(e,t,r,n,i){const o=t.timeExtent?.isEmpty?{data:{features:[]}}:await g(e,t,\"json\",n,void 0,i);return u(t,r,o.data),o}async function f(e,t,r,n,i){if(t.timeExtent?.isEmpty)return{data:r.createFeatureResult()};const o=await m(e,t,n,i),a=o;return a.data=s(o.data,r),a}function m(e,t,r,n){return g(e,t,\"pbf\",r,void 0,n)}function p(e,t,r,n){return t.timeExtent?.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(e,t,\"json\",r,{returnIdsOnly:!0},n)}function S(e,t,r,n){return t.timeExtent?.isEmpty?Promise.resolve({data:{count:0}}):g(e,t,\"json\",r,{returnIdsOnly:!0,returnCountOnly:!0},n)}async function O(e,t,r){if(t.timeExtent?.isEmpty)return{data:{count:0,extent:null}};const n=await g(e,t,\"json\",r,{returnExtentOnly:!0,returnCountOnly:!0}),i=n.data;if(i.hasOwnProperty(\"extent\"))return n;if(i.features)throw new Error(l);if(i.hasOwnProperty(\"count\"))throw new Error(l);return n}function x(e,t){if(!e.returnIdsOnly||!t.uniqueIdFields)return e;const r={...e,returnUniqueIdsOnly:!0};return delete r.returnIdsOnly,r}async function g(n,o,s,u={},l={},d={}){const c=\"string\"==typeof n?t(n):n,f=o.geometry?[o.geometry]:[],m=await i(f,null,{signal:u.signal}),p=m?.[0];null!=p&&((o=o.clone()).geometry=p);const S=a({...c.query,f:s,...x(l,d),...y(o,l,d)});return e(r(c.path,j(o,l)?\"query3d\":\"query\"),{...u,responseType:\"pbf\"===s?\"array-buffer\":\"json\",query:{...S,...u.query}})}function j(e,t){return null!=e.formatOf3DObjects&&!(t.returnCountOnly||t.returnExtentOnly||t.returnIdsOnly)}export{d as encodeGeometry,c as executeQuery,S as executeQueryForCount,O as executeQueryForExtent,p as executeQueryForIds,f as executeQueryPBF,m as executeQueryPBFBuffer,y as queryToQueryStringParameters,g as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{loadArcade as n}from\"../../../../support/loadArcade.js\";async function r(r,a,s){if(null==r||0===a.candidates.length)return t;const i=r.graphics3DGraphicsByObjectID??r.graphics3DGraphics,o=[],c=[],{renderer:d}=r,l=null!=d&&\"arcadeRequired\"in d&&d.arcadeRequired?n():null,p=async(e,{graphic:n,graphics3DSymbol:t})=>{const a=await l,i=await r.getRenderingInfoAsync(n,d,a,{signal:s});return null==i?[]:t.queryForSnapping(e,g,i,s)},{candidates:u,spatialReference:g}=a;for(let e=0;e<u.length;++e){const n=u[e],{objectId:r}=n,t=\"number\"==typeof r?i?.get(r):void 0;if(null==t)continue;const{graphics3DSymbol:a}=t;a.symbologySnappingSupported&&(o.push(p(n,t)),c.push(e))}if(0===o.length)return t;const h=await Promise.all(o);e(s);const f=[],m=[];for(let e=0;e<h.length;++e){const n=h[e],r=c[e];for(const e of n)f.push(e),m.push(r)}return{candidates:f,sourceCandidateIndices:m}}const t={candidates:[],sourceCandidateIndices:[]};export{r as queryForSymbologySnapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{ObservableChangesType as t}from\"../../../core/ObservableChangesType.js\";import{signal as s}from\"../../../core/signal.js\";class r extends e{constructor(){super(...arguments),this._set=new Set,this._length=s(0)}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._length.value}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this._length.value=this._set.size,this.emit(\"after-changes\",{type:t.ADD}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this._length.value=this._set.size,this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this._length.value=this._set.size,this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:s}))}toArray(){return Array.from(this._set.values())}find(e){for(const t of this._set.values())if(e(t))return t}some(e){for(const t of this._set.values())if(e(t))return!0;return!1}forEach(e){this._set.forEach((t=>e(t)))}}export{r as EventedSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Error.js\";import r from\"../../../core/Evented.js\";import s from\"../../../core/Logger.js\";import{fromRect as o,create as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as n}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as u}from\"../featureConversionUtils.js\";import{BoundsStore as a}from\"./BoundsStore.js\";import{cleanFromGeometryEngine as d}from\"./geometryUtils.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";const m=i();class f{constructor(e){this.geometryInfo=e,this._boundsStore=new a,this._featuresById=new Map,this._usedMemory=0,this.events=new r,this.featureAdapter=h}get usedMemory(){return this._usedMemory}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,r,s,o]=this.fullBounds;return{xmin:t,ymin:r,xmax:s,ymax:o,spatialReference:d(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(t){const r=t.map((e=>this._upsert(e)));return this._emitChanged(),r.filter(e)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged(),this._usedMemory=0}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t(o(m,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(e){if(!e)return;const r=e.objectId;if(null==r)return void s.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new t(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:e}));const o=this._featuresById.get(r);let i;if(o?(e.displayId=o.displayId,i=this._boundsStore.get(r),this._boundsStore.delete(r),this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(r,null),void this._featuresById.set(r,e);i=u(null!=i?i:n(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=i&&this._boundsStore.set(r,i),this._featuresById.set(r,e),this._usedMemory+=this.estimateFeatureUsedMemory?.(e)??0}_upsert(e){const r=e?.objectId;if(null==r)return s.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new t(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:e})),null;const o=this._featuresById.get(r);if(!o)return this._add(e),e;this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0;const{geometry:i,attributes:a}=e;for(const t in a)o.attributes[t]=a[t];return i&&(o.geometry=i,this._boundsStore.set(r,u(n(),i,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),this._usedMemory+=this.estimateFeatureUsedMemory?.(o)??0,o}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._boundsStore.delete(t),this._featuresById.delete(t),this._usedMemory-=this.estimateFeatureUsedMemory?.(e)??0,e}}export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{H as s}from\"../../../../chunks/Heatmap.glsl.js\";import{PrimitiveType as t}from\"../../../webgl/enums.js\";import{NoParameters as i}from\"../../../webgl/NoParameters.js\";import{makePipelineState as o,defaultColorWrite as l,unpremultipliedAlphaToPremultipliedAlpha as n}from\"../../../webgl/renderState.js\";class a extends i{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class m extends r{constructor(r,i){super(r,i,new e(s,(()=>import(\"./Heatmap.glsl.js\")))),this.primitiveType=t.TRIANGLE_STRIP}initializePipeline(){return o({blending:n,colorWrite:l,depthTest:null,depthWrite:null})}}export{a as HeatmapPassParameters,m as HeatmapTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends s{constructor(){super(...arguments),this.usesHalfFloat=!1}}e([o()],r.prototype,\"usesHalfFloat\",void 0);export{r as HeatmapTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as e}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{createQuadVAO as s}from\"./glUtil3D.js\";import{SortedRenderGeometryRenderer as o}from\"./SortedRenderGeometryRenderer.js\";import{HeatmapPassParameters as n,HeatmapTechnique as h}from\"../shaders/HeatmapTechnique.js\";import{HeatmapTechniqueConfiguration as p}from\"../shaders/HeatmapTechniqueConfiguration.js\";import{TextureWrapMode as m,PixelType as c,FramebufferBit as l}from\"../../../webgl/enums.js\";import{FramebufferObject as d}from\"../../../webgl/FramebufferObject.js\";import{Texture as u}from\"../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../webgl/TextureDescriptor.js\";import{vertexCount as _}from\"../../../webgl/Util.js\";let g=class extends o{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type=\"draped-heatmap\",this._heatmapParameters=new n,this._configuration=new p;const e=new y;e.pixelFormat=t.pixelFormat,e.internalFormat=t.internalFormat,e.dataType=t.dataType,e.samplingMode=t.samplingMode,e.wrapMode=m.CLAMP_TO_EDGE;const r=t.rendererContext.rctx;this._densityMap=new d(r,e),this._quad=s(r),this._configuration.usesHalfFloat=t.dataType!==c.FLOAT,t.rendererContext.pluginContext.techniques.precompile(h,this._configuration)}initialize(){const t=this._colorRampData,e=new y(t.length/4,1);e.wrapMode=m.CLAMP_TO_EDGE,this._colorRamp=new u(this.rctx,e,t),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles(r((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._densityMap=e(this._densityMap),this._quad=e(this._quad),this._colorRamp=e(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange(\"searchRadius\"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange(\"minDensity\"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange(\"maxDensity\"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange(\"fieldTotal\")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(null!=e&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccludedDraped(){return!1}render(t){const e=this.sortedRenderers;if(0===e.length)return;const r=this.rctx.getBoundFramebufferObject(),a=this.rctx.getViewport(),{pixelRatio:i}=this,s=Math.ceil(a.width*i),o=Math.ceil(a.height*i);this._densityMap.resize(s,o),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,s,o),this.rctx.clear(l.COLOR);let n=!1;if(e.forAll((e=>{const r=e.acquireTechniques(t);r&&(e.render(t,r),n=!0)})),this.rctx.bindFramebuffer(r),this.rctx.setViewport(a.x,a.y,a.width,a.height),!n)return;this.rctx.bindVAO(this._quad);const p=this.rendererContext.pluginContext.techniques.get(h,this._configuration);this.rctx.bindTechnique(p,t.bind,this._heatmapParameters),this.rctx.drawArrays(p.primitiveType,0,_(this._quad,\"geometry\"))}};t([a()],g.prototype,\"searchRadius\",null),t([a()],g.prototype,\"minDensity\",null),t([a()],g.prototype,\"maxDensity\",null),t([a()],g.prototype,\"fieldTotal\",null),t([a()],g.prototype,\"pixelRatio\",void 0),t([a()],g.prototype,\"colorRampData\",null),t([a({constructOnly:!0})],g.prototype,\"dataType\",void 0),t([a({constructOnly:!0})],g.prototype,\"samplingMode\",void 0),t([a({constructOnly:!0})],g.prototype,\"pixelFormat\",void 0),t([a({constructOnly:!0})],g.prototype,\"internalFormat\",void 0),t([a()],g.prototype,\"_colorRampData\",void 0),g=t([i(\"esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer\")],g);export{g as DrapedHeatmapRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{MaterialParameters as s}from\"../lib/Material.js\";import{H as t}from\"../../../../chunks/HeatmapDensity.glsl.js\";import{makePipelineState as o,defaultColorWrite as i,add as l}from\"../../../webgl/renderState.js\";class a extends s{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class n extends r{constructor(r,s){super(r,s,new e(t,(()=>import(\"./HeatmapDensity.glsl.js\"))))}initializePipeline(){return o({blending:l,colorWrite:i,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}export{a as HeatmapDensityPassParameters,n as HeatmapDensityTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class o extends i{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}t([e()],o.prototype,\"isAttributeDriven\",void 0),t([e()],o.prototype,\"usesHalfFloat\",void 0);export{o as HeatmapDensityTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as t,squaredDistance as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import o from\"../lib/GLMaterial.js\";import{Material as a}from\"../lib/Material.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{VertexAttribute as u}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeBufferFloat as c}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as f,HeatmapDensityTechnique as m}from\"../shaders/HeatmapDensityTechnique.js\";import{HeatmapDensityTechniqueConfiguration as p}from\"../shaders/HeatmapDensityTechniqueConfiguration.js\";const h=2;class g extends f{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class T extends a{constructor(t){super(t,g),this.produces=new Map([[n.DRAPED_MATERIAL,t=>t===i.Color]]),this._configuration=new p}getConfiguration(t,e){return super.getConfiguration(t,e,this._configuration),this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}get visible(){return!0}createGLMaterial(t){return new d(t)}intersect(){}intersectDraped(r,s,i,o,a){const n=r.attributes.get(u.POSITION),{parameters:l}=this,{searchRadius:c}=l,{screenToWorldRatio:f}=r,m=c*f+h*f,p=m*m,g=n.data.length/n.size;for(let u=0;u<g;u++){const r=u*n.size,s=t(j,n.data[r],n.data[r+1]);e(s,i)<p&&o(a.distance,a.normal,-1)}}createBufferWriter(){return new b(this.parameters.isAttributeDriven?I:A)}}class d extends o{beginSlot(t){return this.getTechnique(m,t)}}class b{constructor(t){this.vertexBufferLayout=t}elementCount(t){return t.get(u.POSITION).indices.length*v}write(t,e,r,s,i,o){l(r.get(u.POSITION),t,i.position,o,v);const a=r.get(u.POSITION).indices.length,n=i.uv0;let f=o;for(let u=0;u<a;++u)n.setValues(f++,-1,-1),n.setValues(f++,1,-1),n.setValues(f++,1,1),n.setValues(f++,1,1),n.setValues(f++,-1,1),n.setValues(f++,-1,-1);const m=u.FEATUREATTRIBUTE in i?i.featureAttribute:null;return m?(c(r.get(u.FEATUREATTRIBUTE),m,o,v),null):null}}const A=s().vec3f(u.POSITION).vec2f16(u.UV0),I=A.clone().f32(u.FEATUREATTRIBUTE),v=6,j=r();export{T as HeatmapDensityMaterial,g as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{estimateAttributesMemory as a,estimateFixedArrayMemory as s,estimateNumberMemory as o}from\"../../../../core/memoryEstimations.js\";import n from\"../../../../core/Promise.js\";import{initial as l,sync as p,watch as d}from\"../../../../core/reactiveUtils.js\";import{pt2px as u}from\"../../../../core/screenUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{projectPointToVector as _}from\"../../../../geometry/projection/projectPointToVector.js\";import{getContinuousIndexArray as g}from\"../../../../geometry/support/Indices.js\";import{getResolutionForScale as f}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as R}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as F}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as b}from\"../../../../layers/graphics/OptimizedFeature.js\";import v from\"../../../../layers/graphics/OptimizedGeometry.js\";import w from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as S}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as P}from\"../../../../renderers/support/heatmapUtils.js\";import{DrapeSourceType as j}from\"../interfaces.js\";import{DisplayFeatureLimit as T}from\"../graphics/DisplayFeatureLimit.js\";import{GraphicsCorePerformanceInfo as V}from\"../graphics/GraphicsCorePerformanceInfo.js\";import{FeatureVisibilityFilter as G}from\"./FeatureVisibilityFilter.js\";import{emptyHighlightHandle as x}from\"./highlightUtils.js\";import{drapedZ as I}from\"../../terrain/OverlayRenderer.js\";import{Attribute as M}from\"../../webgl-engine/lib/Attribute.js\";import{DrapedHeatmapRenderer as A}from\"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";import{Geometry as N}from\"../../webgl-engine/lib/Geometry.js\";import{DirtyOperation as U,DirtyState as H}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as O}from\"../../webgl-engine/lib/RenderGeometry.js\";import{UpdatePolicy as L}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{VertexAttribute as E}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as D}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";import{scaleBoundsPredicate as C,isScaleRangeActive as B}from\"../../../support/layerViewUtils.js\";import{PixelType as W,PixelFormat as Z}from\"../../../webgl/enums.js\";import{loadHeatmapTextureConfiguration as $,fallBackHeatmapConfiguration as q}from\"../../../webgl/heatmapTextureUtils.js\";import{GeometryType as z}from\"../../webgl-engine/lib/IntersectableGeometry.js\";const Y=112;let k=class extends n{constructor(e){super(e),this.type=\"heatmap\",this.preferredUpdatePolicy=L.ASYNC,this.dataExtent=null,this.drapeSourceType=j.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=W.HALF_FLOAT,this._pixelFormat=Z.RGBA,this._updatingHandles=new y}initialize(){let e;try{e=$(this._renderView.renderingContext,i.getLogger(this))}catch(h){this.addResolvingPromise(Promise.reject(h)),e=q}const{dataType:t,samplingMode:a,pixelFormat:s,internalFormat:o}=e;this._featureStore=new w({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM}),this._dataType=t,this._pixelFormat=s;const n=t!==W.FLOAT,u=this.view.basemapTerrain.overlayManager,m={...this._rendererParameters,stage:this.view.stage,dataType:t,samplingMode:a,pixelFormat:s,internalFormat:o,rendererContext:u.renderer,drapeSource:this};this._drapeSourceRenderer=new A(m),u.registerDrapeSource(this,this._drapeSourceRenderer),this._material=new D({usesHalfFloats:n}),this._materialWithField=new D({usesHalfFloats:n,isAttributeDriven:!0}),this._filterVisibility=new G({context:{configuration:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this._updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),l),this._updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),l),this._updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this._updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),p),this._updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(null!=e&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),l),this.addHandles([d((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&i.getLogger(this).warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),d((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{null==e||t||i.getLogger(this).warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),r((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=null,this._materialWithField=null,this._featureStore.clear(),this._featureStore=null,this._updatingHandles.destroy()}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this._updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.quality??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return new T(r*6,r)}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!C(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===Z.RED?1:4,r=this._dataType===W.FLOAT?4:2,i=Math.ceil((this._overlayRenderer?.overlays[0]?.resolution??0)*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(null==e)return 0;const t=a(e),r=6;return r*s([0,0,0],o)+r*s([0,0],o)+(this._heatmapRendererFieldIsNumeric?r*o:0)+t}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return new V(this._renderGeometries.size,this._visibleFeatures,0,0)}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return this._overlayRenderer.spatialReference}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(null==e)return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){const e=this._heatmapRenderer;return e?{searchRadius:u(this._clampSearchRadius(e.radius))}:null}get _resolutionForScaleParameter(){const e=this._heatmapRenderer;if(!e)return null;const{referenceScale:t}=e;return{resolutionForScale:0===t?0:f(t,this.view.spatialReference)}}get _colorRampParameter(){const e=this._heatmapRenderer;return e?{colorRampData:P(e.colorStops)}:null}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){return this.owner?.view?.qualitySettings.heatmap.pixelRatio??1}get _renderView(){return this.view.stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===e?.type?e:null}get _heatmapRendererFieldName(){return this._heatmapRenderer?.field}get _heatmapRendererField(){const e=this._heatmapRendererFieldName;return null!=e?this.layer.fieldsIndex.get(e):null}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return null!=e&&S(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!(\"effectiveScaleRange\"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return B(t,r)}get _visibleFeatures(){return Array.from(this._renderGeometries.values()).reduce(((e,{visible:t})=>e+(t?1:0)),0)}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return x}maskOccludee(){return r()}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:r}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>R(e,r)))),this._featureStore.addMany(e.added.map((e=>{const{attributes:t,centroid:i,geometry:a}=e,s=new b(F(new v,a),t,i?F(new v,i):null,R(e,r));return s.displayId=e.uid,s})));const i=e.added,a=e.removed;this._fieldTotal+=this._computeFieldTotalChange(i,a);const s=a.map((({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})).filter(t),o=i.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));s.length>0&&this._drapeSourceRenderer.removeGeometries(s,U.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,U.ADD),(o.length>0||s.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=null!=t?this._materialWithField:this._material,i=c();_(e.geometry,i,this._overlaySpatialReference),i[2]=I;const a=g(1),s=[[E.POSITION,new M(i,a,i.length)]],o=this._heatmapRendererFieldIsNumeric;null!=t&&s.push([E.FEATUREATTRIBUTE,new M([o?e.attributes[t]??0:0],a,1)]);const n=new O(new N(r,s,null,z.Point),{layerViewUid:this.owner.layerViewUid,graphicUid:e.uid});return n.visible=this.filterVisibility.defaultVisibility,n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(null==this._heatmapRendererFieldName||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>Y&&i.getLogger(this).warnOnce(`SceneView supports a maximum radius of ${Y} pt for HeatmapRenderer.`),Math.min(e,Y)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s&&s.visible!==a&&(t.push(s),s.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,H.VISIBILITY)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.visible!==e&&(t.push(r),r.visible=e);this._drapeSourceRenderer.modifyGeometries(t,H.VISIBILITY)}get test(){}};e([m()],k.prototype,\"type\",void 0),e([m({constructOnly:!0})],k.prototype,\"owner\",void 0),e([m()],k.prototype,\"layer\",null),e([m()],k.prototype,\"featureStore\",null),e([m()],k.prototype,\"updating\",null),e([m()],k.prototype,\"updatingRemaining\",null),e([m()],k.prototype,\"suspendInfo\",null),e([m()],k.prototype,\"legendEnabled\",null),e([m()],k.prototype,\"filterVisibility\",null),e([m()],k.prototype,\"displayFeatureLimit\",null),e([m()],k.prototype,\"preferredUpdatePolicy\",void 0),e([m()],k.prototype,\"hasZ\",null),e([m()],k.prototype,\"hasM\",null),e([m()],k.prototype,\"dataExtent\",void 0),e([m()],k.prototype,\"view\",null),e([m()],k.prototype,\"fullOpacity\",null),e([m()],k.prototype,\"updatePolicy\",null),e([m()],k.prototype,\"drapeSourceType\",void 0),e([m()],k.prototype,\"scaleVisibilitySuspended\",null),e([m()],k.prototype,\"renderer\",null),e([m()],k.prototype,\"_featureStore\",void 0),e([m()],k.prototype,\"_filterVisibility\",void 0),e([m()],k.prototype,\"_overlayRenderer\",null),e([m()],k.prototype,\"_overlaySpatialReference\",null),e([m()],k.prototype,\"_rendererParameters\",null),e([m()],k.prototype,\"_materialParameters\",null),e([m()],k.prototype,\"_densityParameters\",null),e([m()],k.prototype,\"_radiusParameter\",null),e([m()],k.prototype,\"_resolutionForScaleParameter\",null),e([m()],k.prototype,\"_colorRampParameter\",null),e([m()],k.prototype,\"_pixelRatioParameter\",null),e([m()],k.prototype,\"_densityMapPixelRatio\",null),e([m()],k.prototype,\"_renderGeometries\",void 0),e([m()],k.prototype,\"_material\",void 0),e([m()],k.prototype,\"_materialWithField\",void 0),e([m()],k.prototype,\"_renderView\",null),e([m()],k.prototype,\"_featuresArePoints\",null),e([m()],k.prototype,\"_loadedPointGraphics\",null),e([m()],k.prototype,\"_heatmapRenderer\",null),e([m()],k.prototype,\"_heatmapRendererFieldName\",null),e([m()],k.prototype,\"_heatmapRendererField\",null),e([m()],k.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([m()],k.prototype,\"_fieldTotal\",void 0),e([m()],k.prototype,\"_drapeSourceRenderer\",void 0),e([m()],k.prototype,\"_isScaleRangeActive\",null),k=e([h(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")],k);export{k as HeatmapFeatureProcessor,Y as maxRadiusPt};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import i from\"../../../../core/Promise.js\";import{initial as s,watch as o,sync as n,whenOnce as a}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../core/support/UpdatingHandles.js\";import{FeatureTileController3D as u}from\"../../../../layers/graphics/controllers/FeatureTileController3D.js\";import{symbolHasExtrudeSymbolLayer as d}from\"../../../../symbols/support/utils.js\";import{elevationAlignPointsInFeatures as c}from\"./elevationAlignPointsInFeatures.js\";import{Graphics3DFeatureProcessor as y}from\"./Graphics3DFeatureProcessor.js\";import{QueryEngine as g}from\"./QueryEngine.js\";import{QueryEngineContext as m}from\"./QueryEngineContext.js\";import{queryForSymbologySnapping as f}from\"./queryForSymbologySnapping.js\";import{HeatmapFeatureProcessor as E}from\"../support/HeatmapFeatureProcessor.js\";import{LayerViewPerformanceInfo as w}from\"../support/LayerViewPerformanceInfo.js\";import{UpdatePolicy as C}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{hasLayerBasedScaleVisibility as b}from\"../../../support/layerViewUtils.js\";import{TaskPriority as O}from\"../../../support/Scheduler.js\";let _=class extends i{constructor(e){super(e),this._dataUpdatingState=v.NONE,this.graphicsQuery={queryForSymbologySnapping:async(e,t)=>this.symbologySnappingSupported?f(this.graphics3DProcessor,e,t):{candidates:[],sourceCandidateIndices:[]},executeQuery:(e,t)=>this.queryEngine.executeQuery(e,t),executeQueryForIds:(e,t)=>this.queryEngine.executeQueryForIds(e,t),executeQueryForCount:(e,t)=>this.queryEngine.executeQueryForCount(e,t),executeQueryForExtent:(e,t)=>this.queryEngine.executeQueryForExtent(e,t),executeQueryForLatestObservations:(e,t)=>this.queryEngine.executeQueryForLatestObservations(e,t)},this.controller=null,this.updatingHandles=new h,this._controllerCreated=!1,this._pendingController=null}initialize(){this.addResolvingPromise(this._initializeController()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),s),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:o,resourceController:n}=t,a=new m(o,e,n,(()=>this.processor.featureStore),i,r);this.queryEngine=new g({context:a,priority:O.FEATURE_QUERY_ENGINE})}destroy(){this.removeAllHandles(),this.updatingHandles.destroy(),this._destroyPendingController(),this.controller=r(this.controller),this.processor=r(this.processor),this.queryEngine=r(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=r(this._pendingController)}get updating(){return this.updatingHandles.updating||!this._controllerCreated||this.controller?.updating||this.processor?.updating}get legendEnabled(){return this.processor.legendEnabled}get layer(){return this.layerView.layer}get layerViewUid(){return this.layerView.uid}get view(){return this.layerView.view}get hasZ(){return this.layerView.hasZ}get hasM(){return this.layerView.hasM}get fullOpacity(){return this.layerView.fullOpacity}get suspended(){return this.layerView.suspended}get filter(){return\"filter\"in this.layerView?this.layerView.filter:null}get effectiveDisplayFilter(){return\"effectiveDisplayFilter\"in this.layerView?this.layerView.effectiveDisplayFilter:null}get slicePlaneEnabled(){return this.layerView.slicePlaneEnabled}get featureSpatialReference(){return\"featureSpatialReference\"in this.layerView?this.layerView.featureSpatialReference:null}get graphics3DProcessor(){return\"graphics-3d\"===this.processor?.type?this.processor:null}get heatmapProcessor(){return\"heatmap\"===this.processor?.type?this.processor:null}get hasAllFeatures(){return!(!this.controller||!(\"hasAllFeatures\"in this.controller))&&this.controller.hasAllFeatures}get hasAllFeaturesInView(){return!(!this.controller||!(\"hasAllFeaturesInView\"in this.controller))&&this.controller.hasAllFeaturesInView}get hasFullGeometries(){return!(!this.controller||!(\"hasFullGeometries\"in this.controller))&&this.controller.hasFullGeometries}get symbologySnappingSupported(){return this.layer?.renderer?.symbols?.some(d)??!1}get updatePolicy(){return C.SYNC}get scaleVisibilitySuspended(){return this.processor?.scaleVisibilitySuspended}get timeExtent(){return\"timeExtent\"in this.layerView?this.layerView.timeExtent:null}get dataUpdating(){return this._dataUpdatingState!==v.NONE}get suspendInfo(){return this.processor?.suspendInfo??{}}forEachGraphic(e){this.loadedGraphics.forEach(e)}findGraphic(e){return this.loadedGraphics.find(e)}queryObjectIds(e,t){return this.layerView.queryObjectIds(e,t)}whenGraphicBounds(e,t){return this.processor?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor?.computeAttachmentOrigin(e,t)}async elevationAlignPointsInFeatures(e,r){const i=this.graphics3DProcessor;if(null==i)throw new t(\"featurelayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");return c(this.view,this.layer,(e=>i.getGraphics3DGraphicByObjectId(e)),e,r)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t)}maskOccludee(e){return this.processor.maskOccludee(e)}notifyContentGeometryUpdate(){this.layerView.emit(\"visible-geometry-changed\")}async _initializeController(){const e=this.createController();this._pendingController=e,this._setupDataUpdating(e),await e.when(),this._setControllerWhenInitialized(e)}_setupDataUpdating(e){\"dataUpdating\"in e&&this.addHandles([o((()=>e.dataUpdating),(e=>{e&&this._dataUpdatingState===v.NONE?this._dataUpdatingState=v.CONTROLLER:e||this._dataUpdatingState!==v.CONTROLLER||(this._dataUpdatingState=v.NONE)}),n),o((()=>!!this.graphics3DProcessor?.dataUpdating),(t=>{t&&this._dataUpdatingState===v.CONTROLLER?this._dataUpdatingState=v.CORE:t||this._dataUpdatingState!==v.CORE||(this._dataUpdatingState=e.dataUpdating?v.CONTROLLER:v.NONE)}),n)])}async _setControllerWhenInitialized(e){try{await this.when()}catch(t){}this._controllerCreated=!0,this.isResolved()&&!this.destroyed?(await a((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics):this._destroyPendingController()}_recreateProcessor(e){const t=\"heatmap\"===e?.type,r=\"heatmap\"===this.processor?.type,i=this.processor;if(i&&t===r)return;const s=t?new E({owner:this}):new y({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!b(),filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this.processor=s,i?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(s.when())}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}get usedMemory(){return this.processor?.usedMemory??0}get performanceInfo(){const e=this.controller instanceof u?this.controller:null;return new w(this.usedMemory,this.loadedGraphics?.length,e?.serviceDataCount??-1,e?.maximumNumberOfFeatures??-1,0,this.processor.performanceInfo)}};var v;e([l()],_.prototype,\"updating\",null),e([l()],_.prototype,\"legendEnabled\",null),e([l()],_.prototype,\"layerView\",void 0),e([l()],_.prototype,\"layer\",null),e([l()],_.prototype,\"layerViewUid\",null),e([l()],_.prototype,\"view\",null),e([l()],_.prototype,\"hasZ\",null),e([l()],_.prototype,\"hasM\",null),e([l()],_.prototype,\"fullOpacity\",null),e([l()],_.prototype,\"suspended\",null),e([l()],_.prototype,\"filter\",null),e([l()],_.prototype,\"effectiveDisplayFilter\",null),e([l()],_.prototype,\"slicePlaneEnabled\",null),e([l()],_.prototype,\"featureSpatialReference\",null),e([l()],_.prototype,\"loadedGraphics\",void 0),e([l()],_.prototype,\"graphics3DProcessor\",null),e([l()],_.prototype,\"heatmapProcessor\",null),e([l()],_.prototype,\"hasAllFeatures\",null),e([l()],_.prototype,\"hasAllFeaturesInView\",null),e([l()],_.prototype,\"hasFullGeometries\",null),e([l()],_.prototype,\"symbologySnappingSupported\",null),e([l()],_.prototype,\"updatePolicy\",null),e([l()],_.prototype,\"scaleVisibilitySuspended\",null),e([l()],_.prototype,\"timeExtent\",null),e([l()],_.prototype,\"_dataUpdatingState\",void 0),e([l({readOnly:!0})],_.prototype,\"dataUpdating\",null),e([l()],_.prototype,\"controller\",void 0),e([l()],_.prototype,\"processor\",void 0),e([l()],_.prototype,\"updatingHandles\",void 0),e([l()],_.prototype,\"_controllerCreated\",void 0),_=e([p(\"esri.views.3d.layers.graphics.Graphics3DGraphicsPipeline\")],_),function(e){e[e.NONE=0]=\"NONE\",e[e.CONTROLLER=1]=\"CONTROLLER\",e[e.CORE=2]=\"CORE\"}(v||(v={}));export{_ as Graphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";function t(t){const o=new n;return o.include(e),o.fragment.uniforms.add(new r(\"densityMap\",(e=>e.densityMap)),new r(\"tex\",(e=>e.colorRamp)),new i(\"densityNormalizer\",(e=>1/(e.maxDensity-e.minDensity))),new i(\"minDensity\",(e=>e.minDensity)),new i(\"densityMultiplier\",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)*(t.usesHalfFloat?4:1)))).main.add(s`float density = texture(densityMap, uv).r * densityMultiplier;\nfloat densityRatio = (density - minDensity) * densityNormalizer;\nfragColor = texture(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));`),o}const o=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{o as H,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as a}from\"../../../layers/graphics/hydratedFeatures.js\";import{combineTimeExtent as p}from\"../../../layers/support/timeSupport.js\";import o from\"../../../rest/support/Query.js\";import{UpdatePolicy as l}from\"../webgl-engine/lib/UpdatePolicy.js\";import{defaultHighlightName as u}from\"../../support/HighlightDefaults.js\";import{isInEffectiveScaleRange as h,hasLayerBasedScaleVisibility as y}from\"../../support/layerViewUtils.js\";import{projectWithZConversionSilent as c}from\"../../support/projectionUtils.js\";const g=g=>{let d=class extends g{constructor(){super(...arguments),this.highlightOptions=null,this.updatePolicy=l.SYNC,this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.supportsHeightUnitConversion=!0}initialize(){const e=this.layer;\"isTable\"in e&&e.isTable?this.addResolvingPromise(Promise.reject(new r(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e}))):(this.addResolvingPromise(this._validateGeometryType()),this.addResolvingPromise((async()=>{if(this.destroyed)return;this.fullExtentInLocalViewSpatialReference=\"local\"===this.view.viewingMode?await c(this.layer.fullExtent,this.view.spatialReference):null;const e=await this.createGraphicsPipeline();this.destroyed?e.destroy():(this.graphicsPipeline=e,await e.when())})()),this.notifyChange(\"updating\"))}destroy(){this.graphicsPipeline=i(this.graphicsPipeline)}get dataUpdating(){return!!this.graphicsPipeline?.dataUpdating}get legendEnabled(){return this.canResume()&&this.graphicsPipeline?.legendEnabled}get visibleAtCurrentScale(){return y()?h(this.layer.effectiveScaleRange,this.view.scale):!this.graphicsPipeline?.scaleVisibilitySuspended}get symbologySnappingSupported(){return this.graphicsPipeline.symbologySnappingSupported}get hasAllFeatures(){return this.graphicsPipeline.hasAllFeatures}get hasAllFeaturesInView(){return this.graphicsPipeline.hasAllFeaturesInView}get hasFullGeometries(){return this.graphicsPipeline.hasFullGeometries}get timeExtent(){return p(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}getHit(e){if(has(\"feature-pipeline-3d-test\"))return this._getHitMock(e);const t=this.graphicsPipeline.findGraphic((t=>t.uid===e));if(null==t)return null;const r=a(t,this.layer);return{type:\"graphic\",graphic:r,layer:r.layer}}_getHitMock(e){const r=this.layer,i={};i[this.layer.objectIdField]=e;const s=new t({layer:r,sourceLayer:r,visible:!0,symbol:null,attributes:i,geometry:null});return{type:\"graphic\",graphic:s,layer:s.layer}}whenGraphicBounds(e,t){return this.graphicsPipeline?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsPipeline?.computeAttachmentOrigin(e,t)}async elevationAlignPointsInFeatures(e,t){return this.graphicsPipeline.elevationAlignPointsInFeatures(e,t)}async queryForSymbologySnapping(e,t){return this.graphicsPipeline.graphicsQuery.queryForSymbologySnapping(e,t)}queryFeatures(e,t){return this.graphicsPipeline.graphicsQuery.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return null==e?this.createQuery():o.from(e)}highlight(e,t){return this.graphicsPipeline.highlight(e,t?.name??u)}maskOccludee(e){return this.graphicsPipeline.maskOccludee(e)}getSuspendInfo(){return{...super.getSuspendInfo(),...this.graphicsPipeline.suspendInfo}}isUpdating(){return!(!this.graphicsPipeline||this.graphicsPipeline.destroyed)&&!(!this.graphicsPipeline?.updating&&this.view?.basemapTerrain?.ready)}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":throw new r(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType})}}get performanceInfo(){return this.graphicsPipeline.performanceInfo}queryAttributeBins(){throw new Error(\"Not implemented\")}queryAggregates(){throw new Error(\"Not implemented\")}};return e([s()],d.prototype,\"graphicsPipeline\",void 0),e([s({readOnly:!0})],d.prototype,\"dataUpdating\",null),e([s()],d.prototype,\"highlightOptions\",void 0),e([s()],d.prototype,\"suspended\",void 0),e([s({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([s({readOnly:!0})],d.prototype,\"visibleAtCurrentScale\",null),e([s()],d.prototype,\"updating\",void 0),e([s({readOnly:!0})],d.prototype,\"updatePolicy\",void 0),e([s({type:Boolean})],d.prototype,\"slicePlaneEnabled\",void 0),e([s({readOnly:!0})],d.prototype,\"suspendInfo\",void 0),e([s()],d.prototype,\"symbologySnappingSupported\",null),e([s({readOnly:!0})],d.prototype,\"hasAllFeatures\",null),e([s({readOnly:!0})],d.prototype,\"hasAllFeaturesInView\",null),e([s({readOnly:!0})],d.prototype,\"hasFullGeometries\",null),e([s({readOnly:!0})],d.prototype,\"timeExtent\",null),d=e([n(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],d),d};export{g as FeatureLikeLayerView3D};\n"],"names":["l","constructor","e","t","r","o","this","dataType","samplingMode","pixelFormat","internalFormat","n","i","textureFloatLinear","s","colorBufferFloat","f","capabilities","u","textureFloat","_","textureHalfFloat","c","floatBlend","m","driverTest","floatBufferBlend","result","p","d","R","h","R32F","b","R16F","warnOnce","FLOAT","LINEAR","NEAREST","RED","RGBA","a","HALF_FLOAT","feature","resolution","refCount","isReferenced","versions","length","isSingle","_highestResolutionVersion","ref","oldVersion","Object","defineProperty","value","uid","configurable","newVersion","push","unref","_recalculateHighestResolutionVersion","Error","stack","slice","_refCount","_feature","g","descriptor","_numVertices","exceededTransferLimit","_fetchFailed","_sorted","_numFeatures","E","_emptyFeatureRatio","_estimatedSize","_estimatedUnusedSize","_estimatedUnusedSizeDirty","_displayingFeatures","alive","filtered","_features","_featuresLength","_featureLimit","_fetchStatus","FETCH_NEEDED","fetchInformation","fetchingResolution","displayingResolution","featuresMissing","fetchFailed","hasPreciseFeatureCount","numFeatures","showsAllFeatures","displayingFeatures","missingAttributes","_missingAttributes","extentIncludingBorrowedFeatures","perTileMaximumNumberOfFeaturesExceeded","isFetched","hasFeatureLimit","features","featureLimit","availableFields","_availableFields","setFeatures","reduce","geometry","computeZQuantizationFactor","_ref","Math","max","floor","planetRadius","emptyFeatureRatio","needsFeatureCount","numVertices","id","estimatedSize","updateMemoryEstimates","estimatedUnusedSize","fetchStatus","requestFetch","requestRefetch","REFETCH_NEEDED","startFetch","needsRefetch","REFETCHING","FETCHING","fetchDone","isFetching","isRefetching","needsFetch","DONE","FULL","isFullyFetched","resetFetching","needsDisplayUpdate","L","intersects","extent","v","intersectionIncludingBorrowed","_shuffle","sort","_sortBySize","reduceFeatures","ceil","y","RANDOM","cache","D","requestController","SIZE","cachedMemory","q","maximumNumberOfFeatures","_get","_set","_maximumFeaturesUpdated","memoryFactor","_setDirty","lodFactor","_supportsResolution","refetch","useTileCount","_useTileCount","context","query","queryFeatureCount","notifyChange","updating","_dirty","_pendingEdits","_isFetching","tileDescriptors","running","memoryForUnusedFeatures","_featureTiles","forEach","totalVertices","totalFeatures","_paused","dataUpdating","values","hasFullGeometries","some","Q","supportsQuantization","geometryType","filterExtent","tilingScheme","spatialReference","equals","getLogger","error","clone","_reclip","_updateTileZQuantization","viewingMode","w","Global","_zQuantizationFactor","_tileZQuantization","isDraped","super","updatingTotal","updatingRemaining","expectedFeatureDiff","maximumNumberOfFeaturesExceeded","_fullRatio","_farRatio","_changes","updates","adds","Array","removes","_displayingFeatureReferences","Map","_numDisplayingFeatureReferences","_suspended","_applyEditsTilesUpdated","_frameTask","scheduler","registerTask","N","FEATURE_TILE_FETCHER","z","FeatureReferenceClass","supportsMultipleResolutions","M","U","_objectIdField","objectIdField","initialize","addHandles","destroy","remove","_cancelFetchTile","_removeTile","clear","controller","abort","restart","_clearTile","_resetFetchTile","memoryCache","suspend","_pause","resume","_unpause","getMissingAttributesForFeature","get","_updated","Set","has","delete","applyEdits","edits","Promise","resolve","count","AbortController","then","catch","_applyEditsDeleteFeatures","deletedFeatures","_applyEditsAddUpdateFeatures","addedFeatures","updatedFeatures","signal","globalIdField","objectId","globalId","errorOncePerTick","_objectIdFromGlobalId","add","filter","_applyEditsTileUpdated","_invalidateCounts","find","attributes","size","_applyEditsAddUpdateTile","allSettled","_createQuery","resultType","cacheHint","objectIds","from","_queryFeatures","H","fields","Z","queryFeaturesDehydrated","timeout","X","runTask","processQueue","initialized","_featureTilesArray","_markTilesNotAlive","run","_addTiles","_filterExtentTiles","_removeTiles","done","_sortTiles","_showTiles","_fetchTiles","_updateMemoryEstimates","_updateMaximumNumberOfFeaturesExceeded","_addTile","madeProgress","hasProgressed","pop","loadPriority","_updateRatio","_reduceMode","_showTile","_needsNumFeatures","_fetchTileCount","_handleRequest","_notifyDataUpdating","_scheduleUpdated","_fetchTile","logFetchError","G","$","_refreshDisplayingFeatures","_applyChanges","_maximumFeaturesForTile","min","debugger","update","lij","S","O","set","_referenceDisplayingFeaturesFromRelatedTiles","P","F","A","_fetchCount","_getMaxRecordCount","supportsMaxRecordCountFactor","MAX_MAX_RECORD_COUNT_FACTOR","_fetchPagedTile","maxRecordCountFactor","_totalFeaturesForTile","schedule","_removeEmptyFeatures","_getEffectiveTileResolution","k","_createFeatureCountQuery","_setPagingParameters","num","concat","supportsCacheHint","createQuery","_resultType","T","_setResolutionParams","effectiveDisplayFilter","where","supportsPagination","start","resolutionAtLevel","quantizationParameters","C","mode","originPosition","tolerance","fullExtent","maxAllowableOffset","_ref2","B","x","_ref3","tileMaxRecordCount","standardMaxRecordCount","maxRecordCount","V","supportsResultType","I","hasHandles","removeHandles","_hideTileFeatures","_hideTile","removeMany","addMany","J","put","featureTiles","storedFeatures","missingTiles","test","map","name","attribute","constructOnly","prototype","readOnly","_tileFetcher","_view","_handles","_loadingGraphics","_loadingSymbols","symbolLayers","material","color","outline","_loadedGraphics","_loadedSymbols","_pendingGraphics","_pendingSymbols","_dataExtentGraphic","_dataExtentSymbol","_enabled","_tilingScheme","enabled","_synchronizeMaps","symbols","showDataExtent","graphics","fromExtent","symbol","removeAll","ensureMaxLod","getExtentGeometry","round","center","verticalOffset","screenLength","callout","border","text","halo","EsriPromiseMixin","layerView","view","_fetchDataInfoPromise","_updatingHandles","displayFeatureLimit","_overrideIfSome","hasMaximumNumberOfFeaturesOverride","_isOverridden","hasAllFeatures","serviceDataCount","noServiceDataCount","hasAllFeaturesInView","layer","type","infoFor3D","_forceTilesMode","qualitySettings","graphics3D","snapshotAvailable","_snapshotLimitExceeded","quality","minScale","serviceDataExtent","_approximateExtentSizeAtScale","width","height","maxSnapshotMinScaleFactor","maxTotalSnapshotVertices","pixelSize","levels","tileSize","scale","tiles","_fetchDataInfoAbortController","_lifeCycleAbortController","addPromise","_updateSnapshotLimit","_modeChanged","addResolvingPromise","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","operations","supportsQuery","_cancelFetchServiceDataInfo","_tilesHandle","_refetch","resetForceTilesMode","createQueryVersion","_dataFilterChanged","_effectiveDisplayFilterChanged","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","customParameters","on","_applyEdits","FEATURE_TILE_FETCH_SHOW_TILES","toTileInfo","_supportsExceedsLimitQuery","addClient","warn","refresh","_updateServiceDataExtent","_createVertexLimitExceededQuery","returnGeometry","outStatistics","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","_createDataInfoQuery","outSpatialReference","_fullExtentIsAccurate","definitionExpression","url","_tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","maxFeatureCountForExtent","queryExtent","queryExtentTimeout","_updateServiceDataCount","queryStatisticsTimeout","ok","supportsExceedsLimitStatistics","_minimumNumberOfVerticesForGeometry","averageSymbolComplexity","maximumTotalNumberOfVertices","verticesPerFeature","verticesPerCoordinate","queryFeatures","exceedslimit","performanceInfo","Number","reset","async","j","elevationProvider","renderCoordsHelper","elevationInfo","pointsInFeatures","fromJSON","WGS84","points","graphic","setFromElevationInfo","updateFeatureExpressionInfoContext","elevations","drapedObjectIds","failedObjectIds","vertex","fragment","varyings","isAttributeDriven","usesHalfFloat","POSITION","UV0","FEATUREATTRIBUTE","constants","uniforms","resolutionForScale","searchRadius","camera","screenToWorldRatio","overlayStretch","pixelRatio","fullViewport","main","freeze","__proto__","build","Symbol","toStringTag","minX","minY","maxX","maxY","search","_indexInvalid","_boundsToLoad","_boundsById","_idByBounds","_index","_loadIndex","load","fullBounds","valid","forEachInBounds","invalidateIndex","toJSON","compactGeometryEnabled","defaultSpatialReferenceEnabled","xmin","ymin","xmax","ymax","JSON","stringify","inSR","groupByFieldsForStatistics","join","uniqueIdFields","uniqueIds","parse","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","includes","outSR","returnCentroid","fullText","parameterValues","rangeValues","dynamicDataSource","source","timeExtent","end","time","defaultSR","isEmpty","data","createFeatureResult","hasOwnProperty","returnUniqueIdsOnly","arguments","undefined","path","formatOf3DObjects","responseType","candidates","graphics3DGraphicsByObjectID","graphics3DGraphics","renderer","arcadeRequired","graphics3DSymbol","getRenderingInfoAsync","queryForSnapping","symbologySnappingSupported","all","sourceCandidateIndices","_length","toArray","emit","REMOVE","added","removed","ADD","geometryInfo","_boundsStore","_featuresById","_usedMemory","events","featureAdapter","usedMemory","hasM","hasZ","storeStatistics","coords","featureCount","vertexCount","getFullExtent","_add","_emitChanged","upsertMany","_upsert","removeById","_remove","removeManyById","forEachBounds","getFeature","displayId","estimateFeatureUsedMemory","onFeatureAdd","onFeatureRemove","colorRamp","densityMap","fieldTotal","minDensity","maxDensity","primitiveType","TRIANGLE_STRIP","initializePipeline","blending","colorWrite","depthTest","depthWrite","_colorRampData","Uint8ClampedArray","_heatmapParameters","_configuration","wrapMode","CLAMP_TO_EDGE","rendererContext","rctx","_densityMap","_quad","pluginContext","techniques","precompile","_colorRamp","colorTexture","colorRampData","notifyContentChanged","resize","setData","hasHighlights","hasWater","rendersOccludedDraped","render","sortedRenderers","getBoundFramebufferObject","getViewport","bindFramebuffer","setViewport","COLOR","forAll","acquireTechniques","bindVAO","bindTechnique","bind","drawArrays","usesHalfFloats","produces","DRAPED_MATERIAL","Color","getConfiguration","parameters","visible","createGLMaterial","intersect","intersectDraped","distance","normal","createBufferWriter","beginSlot","getTechnique","vertexBufferLayout","elementCount","indices","write","position","uv0","setValues","featureAttribute","vec3f","vec2f16","f32","preferredUpdatePolicy","ASYNC","dataExtent","drapeSourceType","Features","_renderGeometries","_fieldTotal","_drapeSourceRenderer","_dataType","W","_pixelFormat","_renderView","renderingContext","reject","_featureStore","basemapTerrain","overlayManager","_rendererParameters","stage","drapeSource","registerDrapeSource","_material","_materialWithField","_filterVisibility","configuration","owner","featureStore","getFeatureCount","_loadedPointGraphics","setAllFeaturesVisibility","_setAllFeaturesVisibility","clearFeaturesVisibility","updateFeatureVisibilities","_updateFeatureVisibilities","addOnCollectionChange","_onLoadedFeaturesChange","addWhen","_materialParameters","_forEachMaterial","setParameters","_heatmapRendererField","_recreate","fieldName","_heatmapRendererFieldName","numeric","_heatmapRendererFieldIsNumeric","field","title","unregisterDrapeSource","filterVisibility","suspendInfo","legendEnabled","heatmap","maxTotalNumberOfFeatures","fullOpacity","updatePolicy","scaleVisibilitySuspended","_isScaleRangeActive","maxScale","effectiveScaleRange","usedMemoryPerFeature","_overlayRenderer","overlays","_densityMapPixelRatio","loadedFeatures","unprocessedMemoryEstimate","_visibleFeatures","_heatmapRenderer","_overlaySpatialReference","_radiusParameter","_densityParameters","_colorRampParameter","_pixelRatioParameter","_resolutionForScaleParameter","_clampSearchRadius","radius","referenceScale","colorStops","renderView","_featuresArePoints","loadedGraphics","fieldsIndex","_ref4","whenGraphicBounds","computeAttachmentOrigin","highlight","maskOccludee","setObjectIdVisibility","refreshFilter","reapply","centroid","_computeFieldTotalChange","_ref5","_pointGraphicToRenderGeometry","removeGeometries","addGeometries","requestRender","Point","layerViewUid","graphicUid","defaultVisibility","_ref6","modifyGeometries","VISIBILITY","_dataUpdatingState","NONE","graphicsQuery","queryForSymbologySnapping","graphics3DProcessor","executeQuery","queryEngine","executeQueryForIds","executeQueryForCount","executeQueryForExtent","executeQueryForLatestObservations","updatingHandles","_controllerCreated","_pendingController","_initializeController","_recreateProcessor","processor","resourceController","priority","FEATURE_QUERY_ENGINE","removeAllHandles","_destroyPendingController","suspended","slicePlaneEnabled","featureSpatialReference","heatmapProcessor","SYNC","forEachGraphic","findGraphic","queryObjectIds","elevationAlignPointsInFeatures","getGraphics3DGraphicByObjectId","notifyContentGeometryUpdate","createController","_setupDataUpdating","when","_setControllerWhenInitialized","CONTROLLER","CORE","isResolved","destroyed","ready","beforeSetController","frustumVisibilityEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","updateClippingExtent","_updateClippingExtent","clippingExtent","isArray","include","PI","highlightOptions","supportsHeightUnitConversion","isTable","_validateGeometryType","createGraphicsPipeline","graphicsPipeline","canResume","visibleAtCurrentScale","getHit","_getHitMock","sourceLayer","_ensureQuery","getSuspendInfo","isUpdating","queryAttributeBins","queryAggregates","Boolean"],"sourceRoot":""}