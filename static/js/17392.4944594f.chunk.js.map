{"version":3,"file":"static/js/17392.4944594f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/chunks/Viewshed.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js","../node_modules/@arcgis/core/analysis/Viewshed.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/analysis/AnalysisView.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedFieldOfViewManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedArrowManipulator.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedScaleOrientManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedShapeVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js","../node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView as o}from\"../../analysis/AnalysisView.js\";let e=class extends o{};e=s([r(\"esri.views.3d.analysis.AnalysisView3D\")],e);export{e as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{watch as s,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(e){super(e)}initialize(){this.addHandles(s(()=>this.analysisViewData.visible,e=>this.visible=e,t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=e([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{removeMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as i,onAbort as a}from\"../../core/promiseUtils.js\";import{watch as r,syncAndInitial as s,on as l,whenOnce as c}from\"../../core/reactiveUtils.js\";function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=a(n,()=>{r.activeTool===i&&(r.activeTool=null)});return o(async o=>{await c(()=>!t.tool?.active,o),s=e(s)},n)}function m(o,t){return r(()=>o.interactive,()=>p(o,t),s)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=o(async o=>{if(r){const t=r.promise.catch(()=>{});r?.abort(),await t,n(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=t([l(()=>e.tool,\"cancel\",()=>{c()&&s.abort()})]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,n(o)}catch(v){if(o.aborted||!i(v)||c())throw v}finally{m?.remove()}},{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally(()=>{e.userOperation===s&&(e.userOperation=null)})}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}export{u as activateAnalysisViewTool,m as connectAnalysisViewToTool,f as removeAnalysisViewTool,y as startExclusiveInteractiveOperation,d as startPlaceOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{invertOrIdentity as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ScreenSpacePass as t}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{PiUtils as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{LocalFromScreenSpacePassParameters as r,localFromScreenSpace as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js\";import{Float2PassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{FloatPassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js\";import{glsl as c}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Matrix4BindUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Matrix4sPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js\";import{Texture2DBindUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as u}from\"../views/webgl/ShaderBuilder.js\";class x extends r{constructor(){super(...arguments),this.shadowMap={depthTexture:null,nearFar:[1,100],numActiveFaces:1,atlasRegions:[[0,0,1,1]]},this.targetVector=[1,0,0],this.upVector=[0,0,1],this.fovs=[45,45],this.headingAndTilt=[0,0],this.observerOffset=[0,0,0],this.projectionMatrices=i.flat(),this.viewMatrices=i.flat(),this.volumeOffset=0}}function V(){const i=new u,o=i.fragment;return i.include(t),i.include(n),o.include(s),o.include(a),o.uniforms.add(new m(\"depthTexture\",e=>e.depth?.attachment),new f(\"inverseProjectionMatrix\",e=>e.camera.inverseProjectionMatrix),new f(\"inverseViewNormalMatrix\",({camera:i})=>e(b,i.viewInverseTransposeMatrix)),new l(\"viewshedObserverOffset\",e=>e.observerOffset),new l(\"viewshedTargetVector\",e=>e.targetVector),new l(\"viewshedUpVector\",e=>e.upVector),new d(\"viewshedFOVs\",e=>e.fovs),new d(\"viewshedHeadingAndTilt\",e=>e.headingAndTilt),new d(\"viewshedNearFar\",e=>e.shadowMap.nearFar??[1,100]),new h(\"viewshedVolumeOffset\",e=>e.volumeOffset),new g(\"viewshedShadowMap\",e=>e.shadowMap.depthTexture),new p(\"viewshedProjectionMatrices\",e=>e.projectionMatrices,6),new p(\"viewshedViewMatrices\",e=>e.viewMatrices,6),new w(\"viewshedNumFaces\",e=>e.shadowMap.numActiveFaces),new v(\"viewshedAtlasRegions\",e=>e.shadowMap.atlasRegions.flat(),24),new g(\"normalMap\",e=>e.normals)),o.constants.add(\"visibleColor\",\"vec4\",[0,1,0,.5]),o.constants.add(\"occludedColor\",\"vec4\",[1,0,0,.5]),o.code.add(c`vec2 getViewshedUv(vec4 worldPosition, int face) {\nmat4 viewshedMatrix = viewshedProjectionMatrices[face];\nvec4 viewshedUv4 = viewshedMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nreturn viewshedUv.xy;\n}\nfloat viewshedDepthToFloat(float depth) {\nreturn (depth - viewshedNearFar[0]) / (viewshedNearFar[1] - viewshedNearFar[0]);\n}\nfloat getOrthographicDepthToViewshed(vec4 worldPosition, int face) {\nmat4 viewshedViewMatrix = viewshedViewMatrices[face];\nvec4 viewshedUv4 = viewshedViewMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nfloat depth = -viewshedUv.z;\nreturn viewshedDepthToFloat(depth);\n}\nfloat viewshedReadShadowMapDepth(sampler2D _viewshedShadowmap, ivec2 uv) {\nreturn texelFetch(_viewshedShadowmap, uv, 0).r;\n}\nfloat viewshedFilterShadow(sampler2D _viewshedShadowmap, vec2 uv) {\nvec2 uvScaled = uv * vec2(textureSize(_viewshedShadowmap, 0));\nvec2 st    = fract(uvScaled);\nivec2 base = ivec2(uvScaled);\nfloat s00 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y    ));\nfloat s10 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y    ));\nfloat s11 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y + 1));\nfloat s01 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y + 1));\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat viewshedTextureAtlasLookup(sampler2D _viewshedShadowmap, vec2 uv, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(uv) * atlasScale + atlasRegion.xy;\nreturn viewshedFilterShadow(_viewshedShadowmap, uvAtlas);\n}\nfloat getDepthFromShadowMap(vec2 uv, int face) {\nint index = 4 * face;\nfloat umin = viewshedAtlasRegions[index];\nfloat umax = viewshedAtlasRegions[index + 1];\nfloat vmin = viewshedAtlasRegions[index + 2];\nfloat vmax = viewshedAtlasRegions[index + 3];\nvec4 atlasRegion = vec4(umin, vmin, umax, vmax);\nreturn viewshedTextureAtlasLookup(viewshedShadowMap, uv, atlasRegion);\n}\nstruct ViewshedPoint {\nint face;\nvec2 uv;\nbool isWithin;\nfloat orthographicDepth;\n};\nmat3 rotationMatrix(vec3 axis, float angle)\n{\nfloat s = sin(angle);\nfloat c = cos(angle);\nfloat oc = 1.0 - c;\nreturn mat3(\noc * axis.xxz * axis.xyx + vec3(c, axis.zy) * vec3(1., -s, s),\noc * axis.xyy * axis.yyz + vec3(axis.z, c, axis.x) * vec3(s, 1., -s),\noc * axis.zyz * axis.xzz + vec3(axis.yx, c) * vec3(-s, s, 1.)\n);\n}\nfloat distanceToPlane(vec3 position, vec3 normal) {\nreturn dot(position, normal);\n}\nbool outsideViewshed(float distance) {\nreturn distance > -viewshedVolumeOffset;\n}\nbool isWithinViewshed(vec3 position) {\nfloat positionLength = length(position - viewshedObserverOffset);\nfloat farSphereDistance = positionLength - viewshedNearFar[1];\nif (outsideViewshed(farSphereDistance)) { return false; }\nfloat nearSphereDistance = viewshedNearFar[0] - positionLength;\nif (outsideViewshed(nearSphereDistance)) { return false; }\nvec3 westVector = normalize(cross(viewshedUpVector, viewshedTargetVector));\nbool leftOfTarget = distanceToPlane(position, westVector) > 0.0;\nif (viewshedFOVs[0] < TWO_PI) {\nfloat horAngle = viewshedFOVs[0] / 2.0;\nhorAngle = leftOfTarget ? horAngle : -horAngle;\nvec3 sideVector = viewshedTargetVector * rotationMatrix(viewshedUpVector, horAngle);\nbool inFront = distanceToPlane(position, sideVector) > 0.0;\nif (inFront) {\nvec3 sideNormal = cross(viewshedUpVector, sideVector) * (leftOfTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n} else if (viewshedFOVs[0] < PI) { return false; }\n}\nif (viewshedFOVs[1] < PI) {\nfloat t = dot(viewshedUpVector, position);\nvec3 nProjVector = normalize(position - t * viewshedUpVector);\nfloat heading = acos(clamp(dot(normalize(viewshedTargetVector), nProjVector), -1.0, 1.0));\nheading = leftOfTarget ? heading : -heading;\nbool aboveTarget = distanceToPlane(position, viewshedUpVector) > 0.0;\nfloat verFOV = viewshedFOVs[1] / 2.0;\nverFOV = aboveTarget ? -verFOV : verFOV;\nmat3 rotateByHeading = rotationMatrix(viewshedUpVector, heading);\nvec3 sideVector = viewshedTargetVector * rotationMatrix(westVector, verFOV) * rotateByHeading;\nvec3 leftVector = westVector * rotateByHeading;\nvec3 sideNormal = cross(sideVector, leftVector) * (aboveTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n}\nreturn true;\n}\nbool getViewshedPoint(vec4 localPosition, out ViewshedPoint point) {\nfor(int i=0; i < viewshedNumFaces; i++) {\nvec2 viewshedUv = getViewshedUv(localPosition, i);\nif (viewshedUv.x > 0. && viewshedUv.x < 1. && viewshedUv.y > 0. && viewshedUv.y < 1.) {\nfloat orthoDepth = getOrthographicDepthToViewshed(localPosition, i);\nif (orthoDepth >= 0.) {\nbool isWithin = isWithinViewshed(localPosition.xyz);\npoint = ViewshedPoint(i, viewshedUv, isWithin, orthoDepth);\nreturn true;\n}\n}\n}\nreturn false;\n}\nfloat normalCosAngle(float linearDepth, vec3 localPosition) {\nvec4 normal4 = texture(normalMap, uv);\nvec3 normalN = normalize(normal4.xyz * 2.0 - 1.0);\nvec3 normal =  normalize((inverseViewNormalMatrix * vec4(normalN, 1.0)).xyz);\nvec3 viewingDir = normalize(localPosition);\nreturn dot(normal, viewingDir);\n}`),o.main.add(c`float depth = depthFromTexture(depthTexture, uv);\nif (depth >= 1.0 || depth <= 0.0) {\nreturn;\n}\nfloat linearDepth = linearizeDepth(depth);\nvec4 localPosition = reconstructLocalPosition(gl_FragCoord.xy, linearDepth);\nViewshedPoint point;\nbool foundFace = getViewshedPoint(localPosition, point);\nif (!foundFace || !point.isWithin) {\nreturn;\n}\nfloat viewshedDepth = getDepthFromShadowMap(point.uv, point.face);\nfloat distance = point.orthographicDepth;\nbool visible = distance < viewshedDepth;\nfragColor = visible ? visibleColor : occludedColor;\nfloat cosAngle = normalCosAngle(linearDepth, localPosition.xyz);\nfloat threshold = -0.01;\nif (cosAngle > threshold) {\nfragColor = occludedColor;\n}`),i}const b=o(),M=Object.freeze(Object.defineProperty({__proto__:null,ViewshedPassParameters:x,build:V},Symbol.toStringTag,{value:\"Module\"}));export{x as V,M as a,V as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{translate as r,invertOrIdentity as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{zeros as i}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{CameraSpace as t}from\"./CameraSpace.glsl.js\";import{glsl as a}from\"../../shaderModules/glsl.js\";import{Matrix4PassUniform as s}from\"../../shaderModules/Matrix4PassUniform.js\";import{NoParameters as c}from\"../../../../../webgl/NoParameters.js\";class m extends c{constructor(){super(...arguments),this.localOrigin=i()}}function l(i){i.include(t),i.fragment.uniforms.add(new s(\"inverseViewMatrix\",(i,t)=>{const a=r(o(),t.camera.viewMatrix,i.localOrigin);return e(a,a)})).code.add(a`vec4 reconstructLocalPosition(vec2 coord, float linearDepth) {\nvec4 cameraSpace = vec4(reconstructPosition(coord, linearDepth), 1.0);\nreturn inverseViewMatrix * cameraSpace;\n}`)}export{m as LocalFromScreenSpacePassParameters,l as localFromScreenSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{featureReferenceEquals as r,featureReferenceProperty as o}from\"./featureReferenceUtils.js\";import{Clonable as i}from\"../core/Clonable.js\";import{cyclicalDegrees as t}from\"../core/Cyclical.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as a}from\"../core/maybe.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as m}from\"../core/accessorSupport/ensureType.js\";import c from\"../geometry/Point.js\";let u=class extends(s(i)){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}get valid(){return null!=this.observer&&this.farDistance>0}equals(e){return a(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&r(this.feature,e.feature)}};e([l({type:c,json:{write:{isRequired:!0}}})],u.prototype,\"observer\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],u.prototype,\"farDistance\",void 0),e([l({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n(e=>t.normalize(m(e),void 0,!0))],u.prototype,\"heading\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"tilt\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],u.prototype,\"horizontalFieldOfView\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"verticalFieldOfView\",void 0),e([l(o)],u.prototype,\"feature\",void 0),e([l({readOnly:!0,json:{read:!1}})],u.prototype,\"valid\",null),u=e([p(\"esri.analysis.Viewshed\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{a as e,b as t,c as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{toGraphic as u,hasLod as i,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return s(e)===s(t)}function s(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const d={json:{write:{writer:b,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:f}}},clonable:\"reference\"};function b(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function f(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function I(l,i,a,c){const{sceneIntersectionHelper:d}=l,{observer:b,observerFeatureId:f,targetFeatureId:I,target:m}=a;if(null==f&&null==I)return;c||(c=e=>e),e(g,b,m);const p=t(g),S=1;r(g,b,g,S/p);const v=o(g,m,y);i.options.store=2,d.intersectToolIntersectorRay(v,i);let F=null,N=null,R=null,w=null;for(const e of i.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=s(t);null!=r&&(null!=f&&r===f&&(F??=c(j(e,l,p)),e.distanceInRenderSpace-S<F&&(R=e)),null!=I&&r===I&&(N??=c(j(e,l,p)),null==w&&e.distanceInRenderSpace-S<p&&p-e.distanceInRenderSpace+S<N&&(w=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,w?.getIntersectionPoint(h)?a.targetSurfaceNormal=w.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(i(e)){const n=a(e,t);if(null!=n)return Math.min(n*m,r)}return 1e-5*r}const m=.05,y=l(),g=n();export{c as featureReferenceEquals,d as featureReferenceProperty,s as getFeatureId,I as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Intersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";function o(o){const n=new e(o);return n.options.store=0,n.options.excludeLabels=!0,n}export{o as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{makeHandle as r}from\"../../core/handleUtils.js\";import{EsriPromiseMixin as o}from\"../../core/Promise.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let n=class extends(o(t)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return(this.parent?.visible&&!this.parent.suspended)??!0}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractive(){return this._interactiveViewModelCount++,r(()=>this._interactiveViewModelCount--)}};e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([s(\"esri.views.analysis.AnalysisView\")],n);export{n as AnalysisView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as e,intersectTriangleGeometry2d as t}from\"../lib/RayIntersections.js\";class i extends r{intersect(r,t,i,s,n,o){return e(r,i,s,n,void 0,o)}intersectDraped(r,e,i,s){return t(i[0],i[1],r,s)}}export{i as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,scaleAndAdd as r,add as e,length as s,dot as o,squaredLength as c,scale as u,distance as i,copy as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,clone as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,n,r){const e=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/i(n,r)}function l(t,n,r){const e=o(r,n)/c(r);return u(t,r,e)}function y(t,r,s,o,c=s){return n(q,o,s),n(k,r,c),l(w,k,q),e(t,c,w)}function b(t,e,s,u){n(q,u,s),n(k,e,s);const i=o(q,k)/c(q);return i>0?r(t,s,q,i):f(t,s)}function d(t,e,o,c){n(q,e,o);const u=c/s(q);return r(t,o,q,u)}function j(n,r){return y(k,r,n.start,n.end),t(k[0],r[0])&&t(k[1],r[1])?[p(r)]:[]}function x(n,r,e){return d(k,e,n,r),t(k[0],e[0])&&t(k[1],e[1])?[p(e)]:[]}function M(t,e){const s=t.start,o=t.end,c=e.start,u=e.end,i=n(q,o,s),f=n(U,u,c),a=m(i,f);if(Math.abs(a)<=v)return[];const p=n(k,s,c),h=m(f,p)/a,l=m(i,p)/a;if(h>=0){if(l>=0||1===e.type)return[r(w,s,i,h)]}else if(1===t.type&&(l>=0||1===e.type))return[r(w,s,i,h)];return[]}function g(t,e,s){const u=[],i=n(q,t.end,t.start),f=n(U,t.start,e),a=c(i),p=2*o(i,f),m=p*p-4*a*(c(f)-s*s);if(0===m){const n=-p/(2*a);(1===t.type||n>=0)&&u.push(r(w,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),e=(-p+n)/(2*a);(1===t.type||e>=0)&&u.push(r(w,t.start,i,e));const s=(-p-n)/(2*a);(1===t.type||s>=0)&&u.push(r(k,t.start,i,s))}return u}const v=1e-6,q=a(),U=a(),k=a(),w=a();export{m as cross,x as intersectCircleAndPoint,j as intersectLineAndPoint,M as intersectLineAndRay,g as intersectLineLikeAndCircle,h as pointToLineDistance,l as projectPoint,d as projectPointToCircle,y as projectPointToLine,b as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";const t=2,r=4,s=i(2),o=1.5;class c{constructor(){this.collisionRadius=5,this.fovUnfocusedArcWidth=r,this.fovFocusedArcWidth=t*this.fovUnfocusedArcWidth,this.scaleOrientSize=90,this.scaleOrientHandleRadius=.025,this.scaleOrientMinDistance=1,this.scaleOrientArrowTipLength=.3,this.scaleOrientArrowTipFocusMultiplier=t/1.5,this.observerSize=5,this.hoverTimeoutMilliseconds=1e3,this.viewAngleThreshold=10}getFovArcWidth(e){return e?this.fovFocusedArcWidth:this.fovUnfocusedArcWidth}getScaleOrientArrowTipLength(e){return this.scaleOrientArrowTipLength*(e?this.scaleOrientArrowTipFocusMultiplier:1)}}const n=new c;class h{constructor(){this.frameWidthNotSelected=.3,this.frameWidthSelected=1,this.frameColor=new e([255,255,255,.99]),this.observerPointConfiguration={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0,color:e.toUnitRGBA(new e([3,252,111,1]))},this.shapeMaterialParameters={color:[.33,.33,.33,.25],renderOccluded:1,cullFace:2,writeDepth:!1}}}const l=new h;export{s as arcAnglePerSegment,o as creationVerticalOffset,n as viewshedToolManipulatorConfiguration,l as viewshedVisualizationConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as r,clamp as e}from\"../../../../core/mathUtils.js\";import{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as o,n as a,d as s,p as i,f as c,a as m,g as p,h as d}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as f,fromPositionAndNormal as u,create as g}from\"../../../../geometry/support/plane.js\";import{viewshedToolManipulatorConfiguration as h}from\"./ViewshedConfiguration.js\";import{calculateTranslateRotateFromBases as j,calculateInputRotationTransform as b}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as x}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{headingTiltToDirectionUp as v}from\"../../support/cameraUtils.js\";import{createDirectionUp as S}from\"../../support/cameraUtilsInternal.js\";function R({tiltedUpVector:r,rightVector:e,observerRenderSpace:t},n){const o=j(r,e,t,n);return o[12]=0,o[13]=0,o[14]=0,o}function U(t,n,o,i){const j=l(),v=f(o.plane),S=E(n,v);let R;if(Math.abs(S)>h.viewAngleThreshold)R=t.next(x(n,o.plane));else{const r=u(i.targetRenderSpace,o.basis1,g()),s=a(D,o.basis1),f=a(M,o.basis2);R=t.next(x(n,r)).next(r=>{const t=r=>{const t=c(m(V,r,o.origin),f),n=Math.acos(e(t/i.farDistanceRenderSpace,-1,1)),a=Math.sin(n)*i.farDistanceRenderSpace;return p(l(),o.origin,p(l(),d(V,s,a),d(w,f,t)))},n=t(r.renderStart),a=t(r.renderEnd);return{...r,renderStart:n,renderEnd:a}})}return R.next(e=>{\"start\"===e.action&&s(j,e.renderStart);const t=r(b(j,e.renderEnd,o.origin,v));return{...e,deltaAngle:t}})}function E(e,t){const n=D;e.renderCoordsHelper.toRenderCoords(e.camera.position,n);const o=v(e,n,e.camera.heading,e.camera.tilt,S()).direction;return r(i(o,t))-90}function C(r,e,n,a){return t(A,n,a),o(r,e,A)}const D=l(),M=l(),V=l(),w=l(),A=n();export{R as getViewshedRotationMatrix,C as rotateBy,U as screenToCircleAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as n,n as p,i as a,u as c,g as l,h}from\"../../../../chunks/vec32.js\";import{create as d,fromValues as u,fromArray as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import{rotateBy as g}from\"./viewshedToolUtils.js\";var S;let m=S=class extends t{constructor(e){super(e),this.observerRenderSpaceOverride=null,this.needUpdateByFeature=!1}get observer(){return this.viewshed.observer??new v}get effectiveObserverRenderSpace(){return this.observerRenderSpaceOverride??this.observerRenderSpace}get effectiveObserver(){return this.renderSpaceToPoint(this.effectiveObserverRenderSpace,this.observer.spatialReference)}get effectiveTargetRenderSpace(){return this._computeTargetRenderSpace(this.effectiveObserverRenderSpace)}get farDistance(){return this.viewshed.farDistance}get farDistanceRenderSpace(){return this.farDistance/this.metersPerUnit}get heading(){return this.viewshed.heading}get tilt(){return this.viewshed.tilt}get feature(){return this.viewshed.feature}get tiltParallelToSurface(){return this.tilt-90}get horizontalFieldOfView(){return this.viewshed.horizontalFieldOfView}get verticalFieldOfView(){return this.viewshed.verticalFieldOfView}get observerRenderSpace(){return this._pointToRenderSpace(this.observer,d())}get target(){const e=this.targetRenderSpace;return this.renderSpaceToPoint(e,this.observer.spatialReference)}get targetRenderSpace(){return this._computeTargetRenderSpace(this.observerRenderSpace)}get targetDirection(){const e=n(d(),this.targetRenderSpace,this.observerRenderSpace);return p(e,e)}get tiltedUpVector(){const e=g(d(),this.upVector,-r(this.tiltParallelToSurface),this.leftVector);return p(e,e)}get _basis(){return this.renderCoordsHelper.basisMatrixAtPosition(this.observerRenderSpace,s())}get upVector(){const e=this._basis;return u(e[8],e[9],e[10])}get northVector(){const e=this._basis;return u(e[4],e[5],e[6])}get leftVector(){const e=this.upVector,t=g(d(),this.northVector,-r(this.heading),e);return a(t,e,t)}get rightVector(){return c(d(),this.leftVector)}clone(){return new S({renderCoordsHelper:this.renderCoordsHelper,viewshed:this.viewshed.clone()})}get valid(){return this.viewshed.valid}get metersPerUnit(){return this.renderCoordsHelper.spatialReference.metersPerUnit}pointOnSphere(e,t,o){const{observerRenderSpace:i,targetRenderSpace:s}=this,p=n(R,s,i);return g(p,p,-r(t),this.leftVector),g(p,p,-r(e),this.tiltedUpVector),l(o,p,i)}cornerPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(-t,r,e.topLeft),this.pointOnSphere(t,r,e.topRight),this.pointOnSphere(-t,-r,e.bottomLeft),this.pointOnSphere(t,-r,e.bottomRight)}arcCentersPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(0,r,e.top),this.pointOnSphere(0,-r,e.bottom),this.pointOnSphere(-t,0,e.left),this.pointOnSphere(t,0,e.right)}parallelCenterPoints(e){const t=this.observerRenderSpace,o=this.farDistanceRenderSpace*Math.sin(r(this.verticalFieldOfView/2)),i=h(R,this.tiltedUpVector,o);l(e.top,t,i),n(e.bottom,t,i)}renderSpaceToPoint(e,t){const r=R;return this.renderCoordsHelper.fromRenderCoords(e,r,t),new v(r[0],r[1],r[2],t)}_pointToRenderSpace(e,t){const r=f(e.toArray());return this.renderCoordsHelper.toRenderCoords(r,e.spatialReference,t),t}_computeTargetRenderSpace(e){const{leftVector:t,northVector:o,upVector:i}=this,s=this.farDistanceRenderSpace,n=d();return h(n,o,s),g(n,n,-r(this.heading),i),g(n,n,-r(this.tiltParallelToSurface),t),l(n,e,n),n}};e([o()],m.prototype,\"renderCoordsHelper\",void 0),e([o()],m.prototype,\"viewshed\",void 0),e([o()],m.prototype,\"observerRenderSpaceOverride\",void 0),e([o()],m.prototype,\"needUpdateByFeature\",void 0),e([o()],m.prototype,\"observer\",null),e([o()],m.prototype,\"effectiveObserverRenderSpace\",null),e([o()],m.prototype,\"effectiveObserver\",null),e([o()],m.prototype,\"effectiveTargetRenderSpace\",null),e([o()],m.prototype,\"farDistance\",null),e([o()],m.prototype,\"farDistanceRenderSpace\",null),e([o()],m.prototype,\"heading\",null),e([o()],m.prototype,\"tilt\",null),e([o()],m.prototype,\"feature\",null),e([o()],m.prototype,\"tiltParallelToSurface\",null),e([o()],m.prototype,\"horizontalFieldOfView\",null),e([o()],m.prototype,\"verticalFieldOfView\",null),e([o()],m.prototype,\"observerRenderSpace\",null),e([o()],m.prototype,\"target\",null),e([o()],m.prototype,\"targetRenderSpace\",null),e([o()],m.prototype,\"targetDirection\",null),e([o()],m.prototype,\"tiltedUpVector\",null),e([o()],m.prototype,\"_basis\",null),e([o()],m.prototype,\"upVector\",null),e([o()],m.prototype,\"northVector\",null),e([o()],m.prototype,\"leftVector\",null),e([o()],m.prototype,\"rightVector\",null),e([o()],m.prototype,\"valid\",null),e([o()],m.prototype,\"metersPerUnit\",null),m=S=e([i(\"esri.views.3d.analysis.Viewshed.ViewshedComputedData\")],m);const R=d();export{m as ViewshedComputedData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../core/handleUtils.js\";import{deg2rad as a,clamp as i}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as n,initial as s}from\"../../../../core/reactiveUtils.js\";import{fromYRotation as l,fromXRotation as c,fromScaling as u,fromZRotation as p,fromRotation as m,multiply as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as d,a as _,h as g}from\"../../../../chunks/vec32.js\";import{create as M,fromValues as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{viewshedToolManipulatorConfiguration as j}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as w,screenToCircleAngle as A}from\"./viewshedToolUtils.js\";import{Manipulator3D as V}from\"../../interactive/Manipulator3D.js\";import{RenderObject as O}from\"../../interactive/RenderObject.js\";import{InteractiveManipulation as E}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createPolylineGeometry as y}from\"../../webgl-engine/lib/GeometryUtil.js\";import{assert as R}from\"../../webgl-engine/lib/Util.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";class x extends E{constructor(t){super(),this._handles=new r,this._tool=t.tool,this._view=t.view,this._focusedArcMaterial=this._createArcMaterial(!0),this._unfocusedArcMaterial=this._createArcMaterial(!1),this._createManipulators(),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles=o(this._handles),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulators=null}createDragPipeline(t,r){const a=Object.values(this._manipulators);return e(a.map(({manipulator:e,side:a})=>U(e,(e,i,o,n,s)=>{const l=G(a,r),c=i.next(t=>({...t,manipulatorType:2,side:a})),u=A(c,this._view,l,r);t(e,u,o)})))}updateManipulatorsTransform(t){t.arcCentersPoints(H),this._forEachManipulatorInfo(r=>this._updateArcManipulatorTransform(r,t,H[r.side]))}updateManipulatorVisuals(t){this._forEachManipulatorInfo(r=>this._updateArcManipulatorVisuals(r,t))}_updateArcManipulatorVisuals({manipulator:t,side:r},e){const a=[];if(null!=e){const[i,o]=P(r,e,this._unfocusedArcMaterial);a.push(new O(i,1),new O(i.instantiate({material:this._focusedArcMaterial}),2)),t.collisionType={type:\"line\",paths:[o]}}t.renderObjects=a,t.radius=j.collisionRadius}_updateArcManipulatorTransform({manipulator:t,side:r},e,i){const o=e.horizontalFieldOfView,n=a(e.verticalFieldOfView/2),s=a(o/2),_=I(r);t.renderLocation=i;const g=f(),M=t=>{h(g,t,g)};M(l(k,a(-90))),_||M(c(k,n));const b=e.farDistanceRenderSpace;let v,j;M(u(k,d(L,b,b,b))),M(p(k,F(r))),M(w(e,k)),_?(v=s,j=e.tiltedUpVector):(j=e.rightVector,v=n),v*=\"right\"===r||\"bottom\"===r?-1:1;const A=m(k,v,j);null!=A&&M(A),t.modelTransform=g}_createManipulators(){const t=this._createArcManipulator(\"left\"),r=this._createArcManipulator(\"right\"),e=this._createArcManipulator(\"top\"),a=this._createArcManipulator(\"bottom\");this._manipulators={left:t,right:r,top:e,bottom:a};[[a.manipulator,e.manipulator],[t.manipulator,r.manipulator]].forEach(([t,r])=>{t.metadata={pairedManipulator:r},r.metadata={pairedManipulator:t}})}_createArcManipulator(t){const r=new V({view:this._view,autoScaleRenderObjects:!1,worldSized:!0}),e={manipulator:r,side:t};return this._updateArcManipulatorVisuals(e),this._handles.add(r.events.on([\"focus-changed\",\"grab-changed\"],t=>{const e=r.metadata?.pairedManipulator;null!=e&&(e.hovering!==r.hovering&&(e.hovering=r.hovering),e.grabbing!==r.grabbing&&(e.grabbing=r.grabbing))})),e}_createArcMaterial(r){const e=j.getFovArcWidth(r),a=new T({renderOccluded:4,isDecoration:!0,width:e},this._view.state.isGlobal);return this._handles.add(n(()=>t.toUnitRGBA(this._view.effectiveTheme.accentColor),t=>a.setParameters({color:t}),s)),a}forEachManipulator(t){Object.values(this._manipulators).forEach(({manipulator:r})=>t(r,2))}_forEachManipulatorInfo(t){Object.values(this._manipulators).forEach(r=>t(r))}get test(){return{manipulators:this._manipulators}}}function P(t,r,e){const{horizontalFieldOfView:o,verticalFieldOfView:n}=r,s=I(t),l=a(i((s?n:o)/2,0,15)),c=S(-l/2,l/2,s?1:Math.max(Math.sin(a(90-n/2)),.1));return[y(e,c),c]}function S(t,r,e,a=10){R(a>1,\"createArcPolylineGeometry() needs at least 2 for numVertices\");const i=r-t;if(i<=0||e<=0){const t=.01;return[b(0,0,t),b(0,0,-t)]}const o=[],n=i/a;for(let s=0;s<a;s++){let i=t+s*n;s===a-1&&(i=r);const l=Math.cos(i)*e,c=Math.sin(i)*e,u=b(l-e,0,c);o.push(u)}return o}function D(t){switch(t){case\"left\":return 0;case\"bottom\":return 1;case\"right\":return 2;case\"top\":return 3}}function F(t){return D(t)*z}function I(t){return\"left\"===t||\"right\"===t}function C(t){return\"left\"===t?\"right\":\"right\"===t?\"left\":\"top\"===t?\"bottom\":\"top\"}function G(t,{observerRenderSpace:r,targetRenderSpace:e,tiltedUpVector:a,rightVector:i,farDistanceRenderSpace:o}){const n=_(L,e,r),s=I(t)?i:a,l=g(B,s,o);return v(r,n,l)}const z=Math.PI/2,k=f(),L=M(),B=M(),H={top:M(),bottom:M(),left:M(),right:M()};export{x as ViewshedFieldOfViewManipulation,S as createArcPolylineVertices,C as flipSide,I as isSideHorizontal,F as sideToRad};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../core/Handles.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as i,mul as s,fromXRotation as a,fromYRotation as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as c}from\"../../../../chunks/vec32.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{displayFocusMultiplier as p}from\"../Slice/sliceToolConfig.js\";import{viewshedToolManipulatorConfiguration as f}from\"./ViewshedConfiguration.js\";import{Manipulator3D as h}from\"../../interactive/Manipulator3D.js\";import{RenderObject as d}from\"../../interactive/RenderObject.js\";import{createTubeGeometry as u,createExtrudedTriangle as j}from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";class w extends h{constructor(e,r){super({view:e,autoScaleRenderObjects:!1,worldSized:!1,radius:f.collisionRadius}),this._handles=new t,this._setupManipulatorVisual(r)}destroy(){this._handles.remove(),super.destroy()}_setupManipulatorVisual(e){const t=this._createMaterial(),r=1,o=[m(0,0,0),m(0,0,r)],h=u(t,o,e,16,!1),j=u(t,o,e*p,16,!1),g=b(!1,t,e),w=b(!0,t,e),M=l();i(M,o[o.length-1]),s(M,M,a(v,Math.PI/2)),s(M,M,n(v,Math.PI/2)),g.transformation=M,w.transformation=M,this.renderObjects=[new d(h,1),new d(j,2),new d(g,1),new d(w,2)];const _=m(0,f.getScaleOrientArrowTipLength(!0),0),O=c(_,_,M),x=[...o,O];this.collisionType={type:\"line\",paths:[x]}}_createMaterial(){const t=new g({cullFace:2,renderOccluded:4,isDecoration:!0});return this._handles.add(r(()=>e.toUnitRGBA(this.view.effectiveTheme.accentColor),e=>t.setParameters({color:e}),o)),t}}function b(e,t,r){const o=f.getScaleOrientArrowTipLength(e);let i=2*r;e&&(i*=p);const s=o/2;return j(t,o,s,s,i,0)}const v=l();export{w as ViewshedArrowManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{fromScaling as e,fromTranslation as a,fromZRotation as r,mul as o,fromYRotation as n,multiply as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as m,h as c,g as p,a as u,H as h,f as d,c as f,n as _}from\"../../../../chunks/vec32.js\";import{create as g}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{fromValues as T}from\"../../../../geometry/support/ray.js\";import{displayFocusMultiplier as w}from\"../Slice/sliceToolConfig.js\";import{ViewshedArrowManipulator as j}from\"./ViewshedArrowManipulator.js\";import{viewshedToolManipulatorConfiguration as D}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as H,screenToCircleAngle as x}from\"./viewshedToolUtils.js\";import{screenToRenderRay as S}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{discRadiusSmall as M,discRadius as P}from\"../../interactive/editingTools/manipulations/config.js\";import{InteractiveManipulation as R}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createManipulatorDragEventPipeline as y,dragAtLocation as b}from\"../../../interactive/dragEventPipeline.js\";class V extends R{constructor(i){super(),this._handles=new t,this._tool=i.tool,this._view=i.view;const e=D.scaleOrientHandleRadius;this._manipulatorHeading=new j(this._view,e),this._manipulatorTilt=new j(this._view,e),this._manipulatorDistance=new j(this._view,e),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles.destroy(),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._manipulatorHeading=null,this._manipulatorTilt=null,this._manipulatorDistance=null,this._tool=null,this._view=null}createHeadingDragPipeline(t,e){return y(this._manipulatorHeading,(a,r,o,n,s)=>{const l=this._view,{tiltParallelToSurface:m,farDistanceRenderSpace:d,upVector:f,observerRenderSpace:_,targetRenderSpace:g,rightVector:T}=e,w=Math.sin(i(m))*d,j=p(L,_,c(O,f,w)),D=u(O,g,j),H=c(k,T,h(D)),S=v(j,D,H),M=x(r,l,S,e).next(t=>({...t,manipulatorType:3}));t(a,M,o)})}createTiltDragPipeline(t,i){return y(this._manipulatorTilt,(e,a,r,o,n)=>{const{observerRenderSpace:s,farDistanceRenderSpace:l,upVector:m,targetDirection:p}=i,u=d(p,m),h=f(L,p,m,-u);c(h,_(h,h),l);const g=c(O,m,l),T=v(s,h,g),w=x(a,this._view,T,i).next(t=>({...t,manipulatorType:3}));t(e,w,r)})}createDistanceDragPipeline(t,i){return y(this._manipulatorDistance,(e,a,r,o,n)=>{const s=T(i.observerRenderSpace,i.targetDirection),l=a.next(b(this._view,e.location)).next(S(this._view,s)).next(t=>({...t,manipulatorType:2}));t(e,l,r)})}updateManipulators(t){const{targetRenderSpace:i}=t;this._manipulatorHeading.renderLocation=i,this._manipulatorTilt.renderLocation=i,this._manipulatorDistance.renderLocation=i;const p=l(),u=t=>{s(p,t,p)},h=D.scaleOrientSize*(M/P);u(e(E,m(L,h,h,h))),u(H(t,E));const d=D.scaleOrientHandleRadius*w*h,f=c(L,t.targetDirection,d);u(a(E,f));const _=r(E,-C);o(_,_,n(I,-C)),this._manipulatorHeading.modelTransform=o(l(),p,_);const g=n(E,C);o(g,g,r(I,Math.PI)),this._manipulatorTilt.modelTransform=s(l(),p,g),this._manipulatorDistance.modelTransform=p}forEachManipulator(t){t(this._manipulatorHeading,3),t(this._manipulatorTilt,3),t(this._manipulatorDistance,2)}}const E=l(),I=l(),L=g(),O=g(),k=g(),C=Math.PI/2;export{V as ViewshedScaleOrientManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../../../Color.js\";import o from\"../../../../core/Handles.js\";import{watch as t,initial as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";import{viewshedToolManipulatorConfiguration as c}from\"./ViewshedConfiguration.js\";import{Manipulator3D as m}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as a}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as n}from\"../../interactive/RenderObject.js\";import{createSphereGeometry as p}from\"../../webgl-engine/lib/GeometryUtil.js\";class l extends m{constructor(r,e){super({view:r,autoScaleRenderObjects:!1,worldSized:!1,radius:c.observerSize,interactive:!1}),this._handles=new o;const s=a(this._color);this.renderObjects=[new n(p(s,c.observerSize,32,32))],e.manipulators.add(this),this._handles.add([t(()=>this._color,r=>{s.setParameters({color:r})},i)])}destroy(){this._handles.remove(),super.destroy()}get _color(){return e.toUnitRGBA(this.view.effectiveTheme.accentColor)}}r([s()],l.prototype,\"_color\",null);export{l as ViewshedObserverManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import i from\"../../../../core/Accessor.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{createTask as a}from\"../../../../core/asyncUtils.js\";import{cyclicalDegrees as o,Cyclical as n}from\"../../../../core/Cyclical.js\";import{handlesGroup as s}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{abortMaybe as l,destroyMaybe as p}from\"../../../../core/maybe.js\";import{after as h,throwIfAborted as u}from\"../../../../core/promiseUtils.js\";import{watch as d,syncAndInitial as c,initial as v}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as g,H as M,f as b}from\"../../../../chunks/vec32.js\";import{create as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{tryProjectWithZConversion as w}from\"../../../../geometry/projectionUtils.js\";import{viewingModeFromString as O}from\"../../../ViewingMode.js\";import{viewshedToolManipulatorConfiguration as V}from\"./ViewshedConfiguration.js\";import{ViewshedFieldOfViewManipulation as y,isSideHorizontal as D,flipSide as T}from\"./ViewshedFieldOfViewManipulation.js\";import{ViewshedScaleOrientManipulation as H}from\"./ViewshedScaleOrientManipulation.js\";import{ViewshedObserverManipulator as j}from\"./viewshedToolManipulatorUtils.js\";import{discRadiusSmall as C}from\"../../interactive/editingTools/manipulations/config.js\";import{MoveManipulation as F}from\"../../interactive/editingTools/manipulations/MoveManipulation.js\";import{resetProperties as S,dragManipulatedObject as P}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometryOperations as k}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const E=Symbol(\"dragHandles\"),x=Symbol(\"hideManipulators\"),A=Symbol(\"hideFoVManipulators\"),z=Symbol(\"hideObserverManipulator\");let U=class extends i{constructor(e){super(e),this._moveManipulation=null,this._observerManipulator=null,this._fieldOfViewManipulation=null,this._scaleOrientManipulation=null,this._forceHoveringTask=null,this._forceHoveringTestPromise=null,this._grabbing=!1,this.viewshedComputedData=null}initialize(){this._moveManipulation=this._createMoveManipulation(),this._fieldOfViewManipulation=new y({view:this.view,tool:this.parentTool}),this._scaleOrientManipulation=new H({view:this.view,tool:this.parentTool}),this._observerManipulator=new j(this.view,this.parentTool),this.addHandles([d(()=>this.viewshedComputedData?.observerRenderSpace,e=>{null!=e&&(this._moveManipulation.renderLocation=e,this._observerManipulator.renderLocation=e)},c),d(()=>this.viewshedComputedData?.heading,e=>{e&&(this._moveManipulation.angle=r(90-e))},v),d(()=>{const{viewshedComputedData:e}=this;return{viewshedComputedData:e,observer:e?.observer}},({viewshedComputedData:e,observer:i},a)=>{this._grabbing&&i!==a?.observer||(this.removeHandles(E),e?.valid&&this.addHandles([this._buildObserverDragPipeline(e),this._buildFOVDragPipeline(e),this._buildScaleOrientDragPipeline(e)].filter(t),E))},v),d(()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,target:e.targetRenderSpace,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView}:null},e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorsTransform(e.viewshedCompData)},v),d(()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView,tilt:e.tilt}:null},e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorVisuals(e.viewshedCompData)},v),d(()=>{const e=this.analysisViewData.visible&&(this.viewshedComputedData?.valid??!1),i=this.parentTool.selectedViewshedComputedData===this.viewshedComputedData;return{fovManipulationAvailable:e&&!this.parentTool.isPlacingTarget,nonFOVManipulationAvailable:e&&(!this.parentTool.creating||i)}},({fovManipulationAvailable:e,nonFOVManipulationAvailable:i})=>{this._moveManipulation.available=i,this._scaleOrientManipulation.available=i,this._observerManipulator.available=i,this._fieldOfViewManipulation.available=e},v),d(()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const{observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}=e;return{viewshedCompData:e,observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}},e=>{null!=e&&this._scaleOrientManipulation.updateManipulators(e.viewshedCompData)},v)]);const e=e=>{const i=this.analysisViewData;this.addHandles([e.events.on(\"focus-changed\",()=>{const e=this._someManipulatorHovering();e&&this.parentTool.subToolHandles.forEach(({subTool:e})=>{e._resetHoveringTask()}),this._someManipulatorSelected()||e||(this._forceHoveringTask=a(async e=>{await(this._forceHoveringTestPromise??h(V.hoverTimeoutMilliseconds,e)),u(e),this._forceHoveringTask=null,this._updateManipulatorVisibility()}))}),e.events.on(\"grab-changed\",t=>{this._grabbing=\"start\"===t.action,\"end\"===t.action&&i.tool?.updateInteractionVisualsVisibility(),this.parentTool.subToolHandles.forEach(({subTool:e})=>{e!==this&&e._setInteractive(!this._grabbing)}),this._setInteractive(i=>i.hasManipulator(e)||!this._grabbing)}),e.events.on(\"drag\",e=>{\"start\"===e.action&&i.tool?.updateInteractionVisualsVisibility()})])};this._forEachManipulator(e)}destroy(){this._forceHoveringTask=l(this._forceHoveringTask),this._moveManipulation=p(this._moveManipulation),this._fieldOfViewManipulation=p(this._fieldOfViewManipulation),this._scaleOrientManipulation=p(this._scaleOrientManipulation),this.parentTool.manipulators.remove(this._observerManipulator),this._observerManipulator=p(this._observerManipulator)}get viewshed(){return this.viewshedComputedData?.viewshed}get grabbing(){return this._grabbing}get observer(){return this.viewshed?.observer}set observer(e){const i=this.viewshed;null!=i&&(i.observer=e)}get discManipulator(){return this._moveManipulation.xyManipulation.discManipulator}get moveInteractionState(){const{dragging:e,grabbing:i}=this._moveManipulation;return{dragging:e,grabbing:i}}get scaleOrientInteractionState(){const{dragging:e,grabbing:i}=this._scaleOrientManipulation;return{dragging:e,grabbing:i}}_setInteractive(e){const i=\"boolean\"==typeof e;this._forEachManipulation(t=>t.interactive=i?e:e(t))}onManipulatorSelectionChanged(){if(this._updateManipulatorVisibility(),!this._someManipulatorSelected()){this.analysisViewData.selectedViewshed===this.viewshed&&(this.analysisViewData.selectedViewshed=null),this._resetHoveringTask()}}hasManipulator(e){let i=!1;return this._forEachManipulator(t=>{i=i||t===e}),i}_someManipulatorSelected(){return this._moveManipulation.selected||this._fieldOfViewManipulation.selected||this._scaleOrientManipulation.selected}_someManipulatorHovering(){return this._moveManipulation.hovering||this._fieldOfViewManipulation.hovering||this._scaleOrientManipulation.hovering}_createMoveManipulation(){return new F({view:this.view,tool:this.parentTool,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:C})}_buildObserverDragPipeline(e){const i={mode:\"absolute-height\",offset:0},t=e.observer;if(null==t)return null;const a=this.view.spatialReference;return this._moveManipulation.createDragPipeline((e,i,o,n,s)=>{n=n.next(S(this,[\"observer\"]));const r=w(t,a);if(null==r)return{steps:o,cancel:n};const l=k.fromGeometry(r,O(this.view.viewingMode));return{steps:o.next(P({operations:l})).next(e=>(this.observer=l.data.geometry,e)),cancel:n}},i,a,void 0)}_buildFOVDragPipeline(e){let i=0,t=0;return this._fieldOfViewManipulation.createDragPipeline((a,n,s)=>{if(null==e)return{steps:n,cancel:s};const r=e.viewshed;let l=null;s=s.next(S(r,[\"horizontalFieldOfView\",\"verticalFieldOfView\"]));return{steps:n.next(a=>{\"start\"===a.action&&(l=null,i=e.horizontalFieldOfView,t=e.verticalFieldOfView);const n=a.deltaAngle;if(null==l&&0!==n){const e=\"bottom\"===a.side||\"left\"===a.side?n>0:n<0;l=D(a.side)?0===i&&e||360===i&&!e:0===t&&e}const s=l?T(a.side):a.side;let p=0;switch(s){case\"left\":p=i/2-n;break;case\"right\":p=i/2+n;break;case\"top\":p=t+2*n;break;case\"bottom\":p=t-2*n}return D(s)?(p=o.normalize(p),p=p>270?0:p>180?180:p,r.horizontalFieldOfView=2*p):r.verticalFieldOfView=p,a}),cancel:s}},e)}_buildScaleOrientDragPipeline(e){let i=0,t=0;const a=(i,t)=>(a,o,n)=>{if(null==e)return{steps:o,cancel:n};const s=e.viewshed;return n=n.next(S(s,[i])),{steps:o=o.next(t(s,e)),cancel:n}};return s([this._scaleOrientManipulation.createHeadingDragPipeline(a(\"heading\",(i,a)=>a=>(\"start\"===a.action&&(t=e.heading),i.heading=o.normalize(t+a.deltaAngle),a)),e),this._scaleOrientManipulation.createTiltDragPipeline(a(\"tilt\",(t,a)=>a=>{\"start\"===a.action&&(i=e.tilt);let o=i+a.deltaAngle;return o<-90?o=180:o>270&&(o=0),t.tilt=R.clamp(o),a}),e),this._scaleOrientManipulation.createDistanceDragPipeline(a(\"farDistance\",(e,i)=>t=>{const a=g(I,t.renderEnd,i.observerRenderSpace),o=M(a)*i.metersPerUnit,n=b(a,i.targetDirection)<0?V.scaleOrientMinDistance:o;return e.farDistance=n,t}),e)])}_updateManipulatorVisibility(){const e=this._someManipulatorSelected(),i=null!=this._forceHoveringTask||this._someManipulatorHovering(),t=this._fieldOfViewManipulation.hovering,a=this.parentTool.creating;let o=[];const n=e=>{o.push(e.disableDisplay())};e||!a&&i?this.removeHandles(x):(this._scaleOrientManipulation.forEachManipulator(n),this._moveManipulation.forEachManipulator(n),this.addHandles(o,x),o=[]),e||!a&&i||a&&t?this.removeHandles(A):(this._fieldOfViewManipulation.forEachManipulator(n),this.addHandles(o,A)),e||!a?this.removeHandles(z):this.addHandles(this._observerManipulator.disableDisplay(),z)}_resetHoveringTask(){this._forceHoveringTask=l(this._forceHoveringTask),this._updateManipulatorVisibility()}_forEachManipulator(e){this._forEachManipulation(i=>{i.forEachManipulator(e)}),e(this._observerManipulator)}_forEachManipulation(e){e(this._moveManipulation),e(this._fieldOfViewManipulation),e(this._scaleOrientManipulation)}get test(){return{moveManipulation:this._moveManipulation,fieldOfViewManipulation:this._fieldOfViewManipulation,scaleOrientManipulation:this._scaleOrientManipulation,viewshedComputedData:this.viewshedComputedData,setHoveringTimeoutPromise:e=>{this._forceHoveringTestPromise=e}}}};e([m({constructOnly:!0})],U.prototype,\"analysis\",void 0),e([m({constructOnly:!0})],U.prototype,\"analysisViewData\",void 0),e([m({constructOnly:!0})],U.prototype,\"parentTool\",void 0),e([m({constructOnly:!0,nonNullable:!0})],U.prototype,\"view\",void 0),e([m()],U.prototype,\"viewshed\",null),e([m()],U.prototype,\"_grabbing\",void 0),e([m()],U.prototype,\"grabbing\",null),e([m()],U.prototype,\"viewshedComputedData\",void 0),e([m()],U.prototype,\"observer\",null),U=e([f(\"esri.views.3d.analysis.Viewshed.ViewshedSubTool\")],U);const I=_(),R=new n(0,180);export{U as ViewshedSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../analysis/Viewshed.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as s}from\"../../../../core/mapCollectionUtils.js\";import{rad2deg as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{when as n,watch as l,syncAndInitial as r,sync as d,initial as c}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as m,H as g,j as v,p as w,f as _}from\"../../../../chunks/vec32.js\";import{create as V}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import f from\"../../../../geometry/Point.js\";import{fromPositionAndNormal as b,create as y,projectPoint as S}from\"../../../../geometry/support/plane.js\";import{creationVerticalOffset as T}from\"./ViewshedConfiguration.js\";import{ViewshedSubTool as C}from\"./ViewshedSubTool.js\";import{Manipulator3D as D}from\"../../interactive/Manipulator3D.js\";import{Settings as M}from\"../../interactive/editingTools/settings.js\";import{ExtendedLineVisualElement as j}from\"../../interactive/visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as H}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{toGraphic as I}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{AnalysisToolBase as P}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as E}from\"../../../interactive/keybindings.js\";import{newToolIntersector as L}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointArrayFromEvent as k}from\"../../../support/screenUtils.js\";const R=Symbol(\"interactionVisuals\");let W=class extends P{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.automaticManipulatorSelection=!1,this._stagedViewshed=null,this._stagedViewshedComputedData=null,this._placementMode=B,this._creationState=!1,this._interactionVisualElements=null,this._settings=new M({getTheme:()=>this.view.effectiveTheme}),this._selectedManipulator=null}initialize(){this._intersector=L(this.view.state.viewingMode),this._createInteractionVisuals();const e=this.analysisViewData.viewshedComputedDataHandles;this.subToolHandles=s(()=>e,({viewshedComputedData:e})=>{const t=new C({analysis:this.analysis,analysisViewData:this.analysisViewData,parentTool:this,view:this.view,viewshedComputedData:e});return{subTool:t,remove:()=>{this.selectedViewshed===e.viewshed&&(this.selectedViewshed=null),t.destroy()}}}),this.addHandles([n(()=>this._valid,()=>this.finishToolCreation(),r),l(()=>this._stagedViewshed,e=>{const t=this.analysisViewData.viewshedComputedDataHandles;this._stagedViewshedComputedData=null!=e&&null!=t?this._findSubTool(e)?.viewshedComputedData:null},r),this.analysis.viewsheds.on(\"after-remove\",e=>{const t=this._stagedViewshed;null!=t&&e.item===t&&this.analysis.viewsheds.add(t)}),l(()=>this.firstGrabbedManipulator,e=>{if(null!=e){const t=this._findSubTool(e)?.viewshed;this.selectedViewshed=t,this._selectManipulator(e)}else this._selectedSubTool?.onManipulatorSelectionChanged()},d),l(()=>this.view.activeTool,e=>{e!==this&&null!=e&&(this.selectedViewshed=null)}),n(()=>{const e=this.selectedViewshedComputedData;return null==e?null:{subTool:this._selectedSubTool,observer:e.observerRenderSpace,target:e.targetRenderSpace}},e=>{const{subTool:t,observer:i,target:s}=e;t?.moveInteractionState.dragging?this._updateInteractionVisualsLocation(i,!0):t?.scaleOrientInteractionState.dragging&&this._updateInteractionVisualsLocation(s,!1)},c),l(()=>this.creating,()=>this.updateInteractionVisualsVisibility()),l(()=>this.selectedViewshed,e=>{const t=this._selectedManipulator,i=this._selectedSubTool;null==e?this._selectManipulator(null):null!=t&&i.hasManipulator(t)||this._selectManipulator(i.discManipulator)},c)])}destroy(){this.subToolHandles=o(this.subToolHandles),this.removeHandles(R)}onDeactivate(){this.removeStaged(),this._creationState=!1}get _valid(){return this.analysisViewData.viewshedComputedDataHandles?.some(e=>e.viewshedComputedData.valid)??!1}get cursor(){return this.creating?\"crosshair\":null}get _selectedSubTool(){return this._findSubTool(this.selectedViewshed)}_selectManipulator(e){const t=this._selectedManipulator;t!==e&&(this._selectedManipulator=e,null!=t&&(t.selected=!1),null!=e&&(e.selected=!0),this._findSubTool(t)?.onManipulatorSelectionChanged(),this._selectedSubTool?.onManipulatorSelectionChanged())}get selectedViewshed(){return this.analysisViewData.selectedViewshed}set selectedViewshed(e){this.analysisViewData.selectedViewshed=e}get selectedViewshedComputedData(){return this._selectedSubTool?.viewshedComputedData}get stagedViewshed(){return this._stagedViewshed}get grabbing(){return this.subToolHandles.some(({subTool:e})=>e.grabbing)}get creating(){return this._creationState&&this.active}get isPlacingTarget(){return\"placing-target\"===this._creationState}place(e){this.selectedViewshed=null,this._placementMode=e,this._creationState=\"placing-observer\",this._finishToolCreationIfValid()}onManipulatorSelectionChanged(){this.subToolHandles.forEach(e=>e.subTool.onManipulatorSelectionChanged())}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":E.cancel===e.key?this._cancelKeyHandler(e):E.delete.includes(e.key)&&this._deleteKeyHandler();break;case\"hold\":this.updateInteractionVisualsVisibility(!0)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickPlacementHandler(e)}onActivate(){this._placementMode=B}_clickPlacementHandler(e){if(!this.creating||this.hasFocusedManipulators)return;const i=this._intersectScreen(e,G);if(null!=i){if(\"placing-observer\"===this._creationState){i.mapPoint.z=(i.mapPoint.z??0)+T;const e=new t({observer:i.mapPoint.clone(),feature:i.feature});this.analysis.viewsheds.add(e),this._stagedViewshed=e,this._creationState=\"placing-target\",this._updateStagedViewshed(i.scenePoint)}else if(\"placing-target\"===this._creationState){this._updateStagedViewshed(i.scenePoint);const e=this._stagedViewshed;this._stagedViewshed=null,\"multiple\"===this._placementMode?this._creationState=\"placing-observer\":(this._creationState=!1,this._stagedViewshed=null,this._finishToolCreationIfValid(),this.view.activeTool=null),this.selectedViewshed=e}e.stopPropagation()}}_doubleClickHandler(e){this.creating&&(this.removeStaged(),this._creationState=!1,this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(!this.creating)return;const t=this._intersectScreen(e,G);null!=t&&(this._updateInteractionVisualsLocation(t.scenePoint,!1),this._updateStagedViewshed(t.scenePoint))}_cancelKeyHandler(e){this.creating?this._onCancelWhileCreating(e):this.grabbing||(this.selectedViewshed=null,e.stopPropagation())}_onCancelWhileCreating(e){const t=this.removeStaged();this._finishToolCreationIfValid(),t?(this._creationState=\"placing-observer\",this.selectedViewshed=null,\"multiple\"===this._placementMode&&e.stopPropagation()):this._creationState=!1}_deleteKeyHandler(){this.creating&&(this.removeStaged(),this._creationState=\"placing-observer\"),null!=this.selectedViewshed&&this.analysis.viewsheds.remove(this.selectedViewshed)}_finishToolCreationIfValid(){this._valid&&this.finishToolCreation()}_updateStagedViewshed(e){const t=this._stagedViewshed,i=this._stagedViewshedComputedData;if(null==t||null==i)return;const{heading:s,tilt:a,farDistance:o}=x(this.view,i,e);t.farDistance=o,t.tilt=a,t.heading=s}removeStaged(){const e=this._stagedViewshed;return null!=e&&(this._stagedViewshed=null,this.analysis.viewsheds.remove(e),!0)}_intersectScreen(e,t){const i=k(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=t.scenePoint;if(!s.getIntersectionPoint(a))return null;const o=t.mapPoint;return o.spatialReference=this.view.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(a,o),null==o?null:(t.feature=I(s,this.view),t)}_createInteractionVisuals(){this.removeHandles(R);const e=this._settings.visualElements,t=new H({view:this.view,attached:!1,style:{glowWidth:e.heightPlane.glowWidth,innerWidth:e.heightPlane.innerWidth},isDecoration:!0}),s=new j({view:this.view,extensionType:e.zVerticalLine.extensionType,attached:!1,innerWidth:1,writeDepthEnabled:!1,renderOccluded:4,isDecoration:!0});this._interactionVisualElements={laserline:t,verticalLine:s},this.addHandles([l(()=>e.zVerticalLine,e=>e.apply(s),r),l(()=>e.heightPlane,e=>e.apply(t),r),i(()=>{t.destroy(),s.destroy(),this._interactionVisualElements=null})],R)}updateInteractionVisualsVisibility(e=!1){const t=this.creating,i=this.analysisViewData.visible,s=this._selectedSubTool,a=this.selectedViewshedComputedData,o=(e,t)=>{const i=this._interactionVisualElements;null!=i&&(i.verticalLine.attached=t,i.laserline.attached=e)};if(t)return void o(i,!1);if(null==s||null==a)return void o(!1,!1);const n=s.moveInteractionState,l=e?n.grabbing:n.dragging,r=s.scaleOrientInteractionState,d=e?r.grabbing:r.dragging,c=i&&(l||d);if(o(c,l),c){const e=l?a.observerRenderSpace:a.targetRenderSpace;this._updateInteractionVisualsLocation(e,l)}}_updateInteractionVisualsLocation(e,t){const i=this._interactionVisualElements;if(null==i)return;const{laserline:s,verticalLine:a}=i;s.heightManifoldTarget=e,s.intersectsWorldUpAtLocation=t?e:null,null!=e&&a.setStartEndFromWorldDownAtLocation(e)}_findSubTool(e){if(null==e)return null;const t=e instanceof D?t=>t.subTool.hasManipulator(e):t=>t.subTool.viewshed===e;return this.subToolHandles?.find(t)?.subTool}get test(){}};function x(e,t,i){const s=t.observerRenderSpace,o=m(O,i,s),n=g(o)*t.metersPerUnit,l=e.renderCoordsHelper.basisMatrixAtPosition(s,K),r=v(U,l[8],l[9],l[10]),d=b(s,r,F),c=S(d,i,A),h=m(c,c,s),u=(g(h)<1e-4?90:a(w(o,h)))*(_(r,o)<0?-1:1)+90,p=v(z,l[4],l[5],l[6]),V=a(w(p,h)),f=v(z,l[0],l[1],l[2]);return{heading:_(h,f)<0?360-V:V,tilt:u,farDistance:n}}e([h({constructOnly:!0})],W.prototype,\"view\",void 0),e([h()],W.prototype,\"analysisViewData\",void 0),e([h()],W.prototype,\"removeIncompleteOnCancel\",void 0),e([h()],W.prototype,\"automaticManipulatorSelection\",void 0),e([h({constructOnly:!0})],W.prototype,\"analysis\",void 0),e([h()],W.prototype,\"subToolHandles\",void 0),e([h()],W.prototype,\"_stagedViewshed\",void 0),e([h()],W.prototype,\"_stagedViewshedComputedData\",void 0),e([h()],W.prototype,\"_placementMode\",void 0),e([h()],W.prototype,\"_creationState\",void 0),e([h()],W.prototype,\"_valid\",null),e([h({readOnly:!0})],W.prototype,\"cursor\",null),e([h()],W.prototype,\"_selectedManipulator\",void 0),e([h()],W.prototype,\"_selectedSubTool\",null),e([h()],W.prototype,\"selectedViewshed\",null),e([h()],W.prototype,\"selectedViewshedComputedData\",null),e([h()],W.prototype,\"stagedViewshed\",null),e([h()],W.prototype,\"grabbing\",null),e([h()],W.prototype,\"creating\",null),e([h()],W.prototype,\"isPlacingTarget\",null),W=e([u(\"esri.views.3d.analysis.Viewshed.ViewshedTool\")],W);const O=V(),U=V(),A=V(),z=V(),K=p(),F=y(),G={mapPoint:new f,scenePoint:V(),feature:null},B=\"multiple\";export{W as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{fromScaling as e,mul as r,fromTranslation as s,fromRotation as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as a,d as n,t as l}from\"../../../../chunks/vec32.js\";import{fromValues as m,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as f,arcAnglePerSegment as h}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as p,rotateBy as u}from\"./viewshedToolUtils.js\";import{Object3DVisualElement as d}from\"../../interactive/visualElements/Object3DVisualElement.js\";import{Attribute as w}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as v}from\"../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as j}from\"../../webgl-engine/materials/ColorMaterial.js\";class D extends d{constructor(t){super(t),this._material=null,this._viewshedComputedData=null,this._material=new j({...f.shapeMaterialParameters,isDecoration:this.isDecoration,writeDepth:!1}),this.applyProperties(t)}get viewshedComputedData(){return this._viewshedComputedData}set viewshedComputedData(t){this._viewshedComputedData=t,this.updateTransform()}updateTransform(){const t=this._viewshedComputedData;if(null==t)return;const o=i(),a=t.farDistanceRenderSpace;e(o,m(a,a,a)),p(t,M),r(o,M,o),s(M,this._viewshedComputedData.observerRenderSpace),r(o,M,o),this.transform=o}createExternalResources(){}destroyExternalResources(){}forEachMaterial(t){t(this._material)}createGeometries(t){const{_material:e,viewshedComputedData:r}=this;if(null==r||null==e||!r.valid)return;b(e,r).forEach(e=>t.addGeometry(e))}}function b(e,r){const{horizontalFieldOfView:s,verticalFieldOfView:i}=r,m=a(C,0,0,1),c=a(_,0,1,0),f=a(x,1,0,0);u(m,m,t(i/2),c),u(m,m,t(s/2),f);const p=t=>Math.ceil(Math.abs(t)/h)+1,d=t(s),j=n(E,f),D=p(d),b=g(-d/(D-1)),R=o(M,b,j),V=t(-i),G=p(V),O=g(V/(G-1)),T=n(_,c),F=o(y,t(s)/2,f);l(T,T,F);const N=y,P=[],S=n(x,m);for(let t=0;t<D;t++){o(N,O,T);for(let e=0;e<G;e++){const r=3*(e*D+t);P[r]=S[0],P[r+1]=S[1],P[r+2]=S[2],l(S,S,N)}l(T,T,R),l(m,m,R),n(S,m)}const U=D*G;P[3*U]=0,P[3*U+1]=0,P[3*U+2]=0;const k=[];for(let t=0;t<D-1;t++)for(let e=0;e<G-1;e++){const r=6*(e*(D-1)+t);k[r]=e*D+t,k[r+1]=(e+1)*D+t,k[r+2]=e*D+t+1,k[r+3]=e*D+t+1,k[r+4]=(e+1)*D+t,k[r+5]=(e+1)*D+t+1}const z=[k];if(360!==s&&0!==i){const t=[],e=[];for(let r=0;r<G-1;r++){const s=3*r;t[s]=U,t[s+1]=(r+1)*D,t[s+2]=r*D,e[s]=U,e[s+1]=r*D+D-1,e[s+2]=(r+1)*D+D-1}z.push(t,e)}if(180!==i&&0!==s){const t=[],e=[];for(let r=0;r<D-1;r++){const s=3*r;t[s]=U,t[s+1]=r,t[s+2]=r+1,e[s]=U,e[s+1]=r+(G-1)*D+1,e[s+2]=r+(G-1)*D}z.push(t,e)}return z.map(t=>{const r=[[\"position\",new w(P,t,3,!0)]];return new v(e,r)})}function g(t){return isNaN(t)?1:t}const C=c(),_=c(),x=c(),E=c(),M=i(),y=i();export{D as ViewshedShapeVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Color.js\";import i from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{equals as s}from\"../../../../core/lang.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as a,initial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as d,j as u,a as p,H as _,n as V,h as f,p as v,u as w,d as E,g as b}from\"../../../../chunks/vec32.js\";import{create as g,clone as C}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as L,arcAnglePerSegment as A}from\"./ViewshedConfiguration.js\";import{ViewshedShapeVisualElement as D}from\"./ViewshedShapeVisualElement.js\";import y from\"./ViewshedTool.js\";import{LineVisualElement as j}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as F}from\"../../interactive/visualElements/PointVisualElement.js\";import{createStipplePatternSimple as R}from\"../../webgl-engine/materials/lineStippleUtils.js\";let S=class extends i{constructor(e){super(e),this.visible=!0,this._viewshedCorners={topLeft:g(),topRight:g(),bottomLeft:g(),bottomRight:g()},this._arcCenterPoints={top:g(),bottom:g(),left:g(),right:g()},this._parallelCenters={top:g(),bottom:g()}}initialize(){const e={view:this.view,isDecoration:!0},t={...e,color:this._color,renderOccluded:4},i={...t,stipplePattern:R(2)};this._observerVisualElement=new F({...e,...L.observerPointConfiguration}),this._shapeVisualElement=new D({...e,isDecoration:this.isDecoration}),this._frameLinesVisualElement=new j(t),this._leftArcVisualElement=new j(t),this._rightArcVisualElement=new j(t),this._topArcVisualElement=new j(t),this._bottomArcVisualElement=new j(t),this._centralLongitude=new j(i),this._centralLatitude=new j(i),this.addHandles([a(()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const t=this._viewshedCorners,i=this._arcCenterPoints,s=this._parallelCenters;return e.cornerPoints(t),e.arcCentersPoints(i),e.parallelCenterPoints(s),{viewshedComputedData:e,corners:t,arcCenters:i,parallelCenters:s,interactive:this.analysisViewData.interactive,selected:this._selected}},e=>{const t=null!=e;this._forEachVisualElement(e=>e.attached=t),t&&this._updateVisualElements(e)},{initial:!0,equals:s}),a(()=>{const{viewshedComputedData:e}=this,{horizontalFieldOfView:t,verticalFieldOfView:i}=e??{};return{viewshedComputedData:e,horizontalFieldOfView:t,verticalFieldOfView:i}},({viewshedComputedData:e})=>{const{_shapeVisualElement:t}=this;e!==t.viewshedComputedData&&(t.viewshedComputedData=e),this._shapeVisualElement.recreateGeometry()},l),a(()=>{const{interactive:e}=this.analysisViewData;return{visible:this.visible,selected:e&&this._selected,staged:e&&this._staged,horFovNot360:360!==this.viewshedComputedData?.horizontalFieldOfView}},({visible:e,selected:t,staged:i,horFovNot360:s})=>{const o=t||i;this._shapeVisualElement.visible=e,this._topArcVisualElement.visible=e,this._bottomArcVisualElement.visible=e,this._frameLinesVisualElement.visible=e&&s;const r=e&&(t||s);this._leftArcVisualElement.visible=r,this._rightArcVisualElement.visible=r,this._forEachLineVisualElement(e=>{e.width=o?L.frameWidthSelected:L.frameWidthNotSelected,e.renderOccluded=t?4:1}),[this._centralLatitude,this._centralLongitude].forEach(i=>{i.width=2*(o?L.frameWidthSelected:L.frameWidthNotSelected),i.visible=e&&t})},l),a(()=>{const{analysisViewData:{interactive:e,tool:t},_selected:i,visible:s}=this,o=this.view.activeTool,r=!t?.active&&o instanceof y&&o.creating;return{observerVisible:s&&!i&&(!e||(t?.creating??!1)||r),color:this._color}},({observerVisible:e,color:t})=>{this._observerVisualElement.visible=e,this._forEachLineVisualElement(e=>e.color=t)},l)])}get _color(){const{viewshedComputedData:e,_selected:i,analysisViewData:s}=this;if(null==e)return t.toUnitRGBA(L.frameColor);const o=s.tool?.active||s.interactive,r=e.viewshed===s.tool?.stagedViewshed,a=o&&(i||r)?this.view.effectiveTheme.accentColor:L.frameColor;return t.toUnitRGBA(a)}get _selected(){const{viewshedComputedData:e,analysisViewData:{selectedViewshedComputedData:t}}=this;return null!=e&&e===t}get _staged(){const{analysisViewData:{tool:e},viewshedComputedData:t}=this;return null!=e&&e.creating&&e.stagedViewshed===t?.viewshed}destroy(){this._observerVisualElement=r(this._observerVisualElement),this._shapeVisualElement=r(this._shapeVisualElement),this._frameLinesVisualElement=r(this._frameLinesVisualElement),this._leftArcVisualElement=r(this._leftArcVisualElement),this._rightArcVisualElement=r(this._rightArcVisualElement),this._topArcVisualElement=r(this._topArcVisualElement),this._bottomArcVisualElement=r(this._bottomArcVisualElement),this._centralLongitude=r(this._centralLongitude),this._centralLatitude=r(this._centralLatitude)}_forEachLineVisualElement(e){[this._frameLinesVisualElement,this._leftArcVisualElement,this._rightArcVisualElement,this._topArcVisualElement,this._bottomArcVisualElement,this._centralLatitude,this._centralLongitude].forEach(e)}_forEachVisualElement(e){this._forEachLineVisualElement(e),e(this._observerVisualElement),e(this._shapeVisualElement)}_updateVisualElements(e){const{viewshedComputedData:t,corners:i,arcCenters:s,parallelCenters:o}=e,r=C(t.observerRenderSpace);this._observerVisualElement.geometry=t.observer,this._shapeVisualElement.updateTransform(),this._updateFrameLines(r,i),this._updateFrameArcs(t,i,o),this._updateCentralHelperArcs(t,s)}_updateFrameLines(e,t){this._frameLinesVisualElement.geometry=[[e,t.topLeft],[e,t.topRight],[e,t.bottomLeft],[e,t.bottomRight]]}_updateFrameArcs(e,t,i){const{observerRenderSpace:s,rightVector:r,horizontalFieldOfView:a,tiltedUpVector:l}=e,n=o(a),c=g(),p=m();h(p,n/2,l),d(c,r,p),O(this._leftArcVisualElement,s,t.bottomLeft,t.topLeft,\"forward\",c),h(p,-n/2,l),u(c,0,0,0),d(c,r,p),O(this._rightArcVisualElement,s,t.bottomRight,t.topRight,\"forward\",c);const _=a>180?\"backward\":\"forward\";O(this._topArcVisualElement,i.top,t.topRight,t.topLeft,_,l),O(this._bottomArcVisualElement,i.bottom,t.bottomRight,t.bottomLeft,_,l)}_updateCentralHelperArcs(e,t){const i=e.observerRenderSpace,s=e.horizontalFieldOfView>=180?\"backward\":\"forward\";O(this._centralLatitude,i,t.right,t.left,s,e.tiltedUpVector),O(this._centralLongitude,i,t.top,t.bottom,\"forward\",e.leftVector)}get test(){}};function O(e,t,i,s,o,r,a=A){const l=g();p(l,i,t);const n=_(l),c=g();p(c,s,t),V(c,c),f(c,c,n);let u=v(l,c);const L=C(r);\"backward\"===o&&(w(L,L),u=-(2*Math.PI-u));const D=[],y=Math.ceil(Math.abs(u)/a),j=m();h(j,u/y,L);const F=g();E(F,l);const R=g();E(R,i);for(let h=0;h<y;h++){const e=g();E(e,R),d(F,F,j),b(R,t,F);const i=g();E(i,R),D.push([e,i])}e.geometry=D}e([n()],S.prototype,\"view\",void 0),e([n({constructOnly:!0})],S.prototype,\"isDecoration\",void 0),e([n()],S.prototype,\"analysisViewData\",void 0),e([n()],S.prototype,\"viewshedComputedData\",void 0),e([n()],S.prototype,\"visible\",void 0),e([n()],S.prototype,\"_color\",null),e([n()],S.prototype,\"_selected\",null),e([n()],S.prototype,\"_staged\",null),S=e([c(\"esri.views.3d.analysis.Viewshed.ViewshedSubVisualization\")],S);export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import s from\"../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as t}from\"../../../../core/mapCollectionUtils.js\";import{watch as e,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"./ViewshedSubVisualization.js\";let c=class extends s{get visible(){return this.analysisViewData.visible}constructor(i){super(i)}initialize(){const i=this.analysisViewData,s=t(()=>this.analysisViewData.viewshedComputedDataHandles,({viewshedComputedData:s})=>{const o=new n({view:this.view,viewshedComputedData:s,analysisViewData:i,isDecoration:this.isDecoration});return{visualization:o,remove:()=>o.destroy()}});this._subVisualizations=s,this.addHandles([o(s),e(()=>this.visible,i=>this._subVisualizations.forEach(({visualization:s})=>s.visible=i),r)])}get test(){}};i([a({constructOnly:!0})],c.prototype,\"analysisViewData\",void 0),i([a({constructOnly:!0,nonNullable:!0})],c.prototype,\"view\",void 0),i([a({constructOnly:!0})],c.prototype,\"isDecoration\",void 0),i([a()],c.prototype,\"visible\",null),c=i([l(\"esri.views.3d.analysis.Viewshed.ViewshedVisualization\")],c);export{c as ViewshedVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{rad2deg as o,deg2rad as e}from\"../../../../core/mathUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mul as i,fromTranslation as n,fromScaling as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as l,fromArray as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import m from\"../../webgl/RenderCamera.js\";import{assert as h}from\"./Util.js\";let g=class extends m{constructor(){super(...arguments),this.sectionAngles=l()}get sectionAnglesDeg(){return p(this.sectionAngles.map(t=>o(t)))}set sectionAnglesDeg(t){this.sectionAngles=p(t.map(t=>e(t)))}get projectionMatrix(){return i(c(),this.sectionMatrix,this._projectionMatrixInternal)}get sectionMatrix(){const t=this.sectionAngles[0],o=this.sectionAngles[1],e=this.sectionAngles[2],s=this.sectionAngles[3];h(t<=o),h(e<=s);const r=2*Math.tan(this.fovX/2),l=2*Math.tan(this.fovY/2),p=Math.tan(t),m=Math.tan(o),g=Math.tan(e),f=m-p,M=Math.tan(s)-g,j=r/f,u=l/M,A=-(p+f/2)/r*2,x=-(g+M/2)/l*2,b=c();n(b,[A,x,0]);const d=c();a(d,[j,u,1]);const v=c();return i(v,d,b)}get _sectionRatioX(){const t=Math.tan(this.sectionAngles[0]),o=Math.tan(this.sectionAngles[1]),e=2*Math.tan(this.fovX/2);return Math.min(1,(o-t)/e)}setViewport(t,o){const e=o*this._sectionRatioX;return this.viewport=[t[0],t[1],e,o],e}};t([s()],g.prototype,\"sectionAngles\",void 0),t([s()],g.prototype,\"sectionAnglesDeg\",null),t([s()],g.prototype,\"projectionMatrix\",null),t([s()],g.prototype,\"sectionMatrix\",null),t([s()],g.prototype,\"_sectionRatioX\",null),g=t([r(\"esri.views.3d.webgl-engine.lib.ViewshedFaceCamera\")],g);export{g as ViewshedFaceCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{releaseMaybe as e}from\"../../../../core/maybe.js\";import{fromRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as r,g as a,u as o,t as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{applyTextureResizeModulo as n}from\"./textureUtils.js\";import{ViewshedFaceCamera as l}from\"./ViewshedFaceCamera.js\";import{DepthStencilAttachment as u,SizedDepthFormat as m}from\"../../../webgl/enums.js\";import{isSizedDepthStencilFormat as f}from\"../../../webgl/textureUtils.js\";class d{constructor(){this.textureSizeQuality=1,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.textureSizeMultiple=128,this.toleranceSides=5,this.toleranceBottomTop=10}textureSizeModifier(t){const e=t?this.textureSizeModHighQuality:this.textureSizeModLowQuality;return this.textureSizeQuality*e}textureResizeModulo(t){return Math.ceil(t/this.textureSizeMultiple)*this.textureSizeMultiple}}const p=[\"front\",\"left\",\"right\",\"back\",\"top\",\"bottom\"];function g(t){return![\"top\",\"bottom\"].includes(t)}class _{constructor(t){this._fbos=t,this._faces={},this._width=0,this._height=0,this.settings=new d,this._maxTextureSize=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}get depthTexture(){return this._handle?.getTexture(u)}get ready(){return null!=this.depthTexture&&0!==this._width&&0!==this._height}get nearFar(){const t=this.faces;return 0===t.length?null:t[0].nearFar}get numActiveFaces(){const t=this._faces;let e=0;return Object.keys(t).forEach(i=>{t[i]&&(e+=1)}),e}get faces(){const t=this._faces,e=[];for(const i of p){const s=t[i];s&&e.push(s)}return e}get atlasRegions(){return this.faces.map(t=>[t.x/this._width,(t.x+t.width)/this._width,t.y/this._height,(t.y+t.height)/this._height])}get viewshedProjectionMatrices(){return this.faces.map(t=>t.projectionMatrix)}get viewshedViewMatrices(){return this.faces.map(t=>t.viewMatrix)}_setupFaceCamera(e,n,u,m){const{effectiveObserverRenderSpace:f,tiltedUpVector:d,targetRenderSpace:p,farDistanceRenderSpace:_,horizontalFieldOfView:x,verticalFieldOfView:w}=n,b=c();r(b,p,f);const M=c(),S=c(),F=(t,e)=>{const r=c(),o=s();return i(o,t,e),h(r,b,o),a(r,f,r),r};let z,T=d;const v=Math.min(90,x),O=Math.min(90,Math.max(0,(x-90)/2));let j=-45,B=45,y=-45,k=45;if(g(e)){const e=e=>t(e,-45,45);y=e(-w/2)-this.settings.toleranceBottomTop,k=e(+w/2)+this.settings.toleranceBottomTop}switch(e){case\"front\":z=p,j=-v/2,B=v/2;break;case\"left\":z=F(Math.PI/2,d),j=45-O;break;case\"right\":z=F(-Math.PI/2,d),B=-45+O;break;case\"top\":z=a(M,f,d),T=o(S,b);break;case\"bottom\":z=r(M,f,d),T=b;break;case\"back\":z=F(Math.PI,d)}const V=new l({center:z,eye:f,up:T,far:_});V.sectionAnglesDeg=[j-this.settings.toleranceSides,B+this.settings.toleranceSides,y,k],V.fovY=Math.PI/2;const P=V.setViewport(u,m);return this._faces[e]=V,P}isActive(t){return this._computeActiveFaces(t).size>0}_computeActiveFaces(t){const e=new Set,{horizontalFieldOfView:i,verticalFieldOfView:s}=t,r=-s/2,a=s/2;return 0===i||0===s||(r<=45&&a>=-45&&e.add(\"front\"),i>90&&(e.add(\"left\"),e.add(\"right\")),i>270&&e.add(\"back\"),a>45-this.settings.toleranceBottomTop&&e.add(\"top\"),r<-45+this.settings.toleranceBottomTop&&e.add(\"bottom\")),e}_computeBaseTextureSize({pixelRatio:t,fullWidth:e,fullHeight:i},s,r,a){const o=s/t,h=this.settings.textureSizeModifier(r);return n(Math.max(e,i)*o*h,this._maxTextureSize/a)}_ensureFBO(t){const e=this._width,i=this._height,s=this._handle?.fbo;s&&s.width===e&&s.height===i&&t===f(s.depthStencilTexture?.descriptor?.internalFormat??m.DEPTH_COMPONENT16)||(this._handle?.release(),this._handle=this._allocateFBO(t))}_allocateFBO(t){const{_width:e,_height:i}=this,s=t?13:12,r=this._fbos.acquire(e,i,\"viewshed shadow map\",s);return r.getTexture(u)?.setShadowFiltering(!1),r}clearFBO(t){const e=this._fbos.rctx;this._ensureFBO(t),e.bindFramebuffer(this._handle?.fbo),e.setClearColor(1,1,1,1),e.clear(16640)}dispose(){this._debugFBO||(this._handle=e(this._handle))}start(t,e,i,s,r=!1){this._faces={};const a=this._computeActiveFaces(e),o=a.size;if(0===o)return!1;const h=this._computeBaseTextureSize(t,s,i,o);let c=0,n=0,l=0;return p.filter(t=>a.has(t)).forEach(t=>{const i=x(t,o);i>n&&(l=Math.max(l,c),c=0),n=i;const s=i*h;c+=this._setupFaceCamera(t,e,[c,s],h)}),l=Math.max(l,c),this._width=this.settings.textureResizeModulo(l),this._height=w(o)*h,this.clearFBO(r),!0}finish(){}get test(){}}function x(t,e){if(e<4)return 0;const i=\"front\"===t||\"left\"===t;return 4===e?i?0:1:i||\"right\"===t?0:1}function w(t){return t<4?1:2}export{_ as ViewshedShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Pos2Locations as o}from\"../lib/DefaultVertexBufferLayouts.js\";import{a as i}from\"../../../../chunks/Viewshed.glsl.js\";import{makePipelineState as s,unpremultipliedAlphaToPremultipliedAlpha as t,defaultColorWrite as l}from\"../../../webgl/renderState.js\";class a extends r{constructor(r,s){super(r,s,new e(i,()=>import(\"./Viewshed.glsl.js\")),o)}initializePipeline(){return s({colorWrite:l,blending:t})}}export{a as ViewshedTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import s from\"../../../../core/Collection.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../../core/maybe.js\";import{watch as i,when as o,initial as a,sync as n}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{translate as c,fromTranslation as p,scale as w,mul as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as u,k as f}from\"../../../../chunks/vec32.js\";import{create as v,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{j as V}from\"../../../../chunks/sphere.js\";import{InternalRenderCategory as g}from\"../../webgl.js\";import M from\"../../webgl/RenderNode.js\";import{ViewshedShadowMap as b}from\"./ViewshedShadowMap.js\";import{V as S}from\"../../../../chunks/Viewshed.glsl.js\";import{ViewshedTechnique as y}from\"../shaders/ViewshedTechnique.js\";let j=class extends M{get shadowMap(){return this._shadowMap}get hasViewsheds(){return this._viewsheds.length>0}get _contentPixelRatio(){return this.view.state.contentPixelRatio}get _viewshedsInView(){return this._viewsheds.items.filter(e=>x(this.view,e))}constructor(e){super(e),this.isDecoration=!1,this._passParameters=new S,this._viewsheds=new s,this._shadowMap=null,this.consumes={required:[g.VIEWSHED,\"normals\"]},this.produces=g.VIEWSHED,this.requireGeometryDepth=!0}initialize(){this._shadowMap=new b(this.fboCache),this.addHandles([i(()=>this.view.resolutionScale,e=>{const s=this._shadowMap;s&&(s.settings.textureSizeQuality=e)},a),o(()=>!this.hasViewsheds,()=>this._shadowMap?.dispose()),i(()=>this._viewshedsInView.map(e=>[e.observerRenderSpace,e.heading,e.tilt,e.farDistance,e.horizontalFieldOfView,e.verticalFieldOfView]),()=>this.requestRender(1),n)])}destroy(){this._shadowMap=r(this._shadowMap)}precompile(){if(this.hasViewsheds){this.techniques.precompile(y);for(const e of this._viewshedsInView)if(this._shadowMap?.isActive(e))return void this.view.stage.renderer.precompileViewshedShadowMap()}}render(e){const s=this.bindParameters,t=this.renderingContext,r=e.find(({name:e})=>e===g.VIEWSHED);if(!this.hasViewsheds||!s.depth||this.isDecoration&&!s.decorations)return r;this._passParameters.shadowMap=this._shadowMap??this._passParameters.shadowMap,this._passParameters.normals=e.find(({name:e})=>\"normals\"===e)?.getTexture();const i=this.techniques.get(y);if(!i?.compiled)return this.requestRender(1),r;const o=this.view.stage.renderer.isFeatureEnabled(7);for(const a of this._viewshedsInView){if(!this._renderShadowCubeMap(s,a,o)||!this._shadowMap?.ready)continue;const e=this._setupViewshedParameters(a,s.camera);t.bindTechnique(i,s,e),t.bindFramebuffer(r.fbo),t.screen.draw()}return this.shadowMap?.dispose(),r}updateViewsheds(e){const s=this._viewsheds,{removes:t,adds:r}=e;if(t&&(Array.isArray(t)?s.removeMany(t):s.remove(t)),r)if(Array.isArray(r)){const e=r.filter(e=>!s.includes(e));s.addMany(e)}else s.includes(r)||s.add(r)}_renderShadowCubeMap(e,s,t){const r=this._shadowMap;if(!r)return!1;const i=this.view.basemapTerrain.hasStencilEnabledExtents,o=r.start(e.camera,s,t,this._contentPixelRatio,i);return o&&r.faces.forEach(e=>this.view.stage.renderer.renderViewshedShadowMap(e)),r.finish(),o}_setupViewshedParameters(e,s){const r=this._shadowMap;if(!r)return this._passParameters;const i=this._passParameters,o=e.effectiveObserverRenderSpace;i.localOrigin=o,i.observerOffset=u(E,e.observerRenderSpace,e.effectiveObserverRenderSpace),i.fovs=[t(e.horizontalFieldOfView),t(e.verticalFieldOfView)],i.headingAndTilt=[t(e.heading),t(e.tiltParallelToSurface)],i.upVector=e.tiltedUpVector;const a=R(e.targetRenderSpace,o);i.targetVector=a;const n=new Array,h=new Array;for(let t=0;t<r.numActiveFaces;t++)c(I,r.viewshedViewMatrices[t],o),n.push(...I),P(r.viewshedProjectionMatrices[t],I,D),h.push(...D);return i.viewMatrices=n,i.projectionMatrices=h,i.volumeOffset=this.selectedViewshed?.()===e.viewshed?A(e,this.view,s.eye):0,i}get test(){return{viewsheds:this._viewsheds,shadowMap:this._shadowMap,viewshedsInView:this._viewshedsInView}}};function R(e,s){const t=v();return u(t,e,s)}function P(e,s,t){const r=_(.5,.5,.5);return p(t,r),w(t,t,r),l(t,t,e),l(t,t,s),t}function x(e,s){const t=V(s.observerRenderSpace,s.farDistanceRenderSpace);return!!e.ready&&e.frustum.intersectsSphere(t)}function A(e,s,t){if(null==e)return 0;const{observerRenderSpace:r,targetRenderSpace:i}=e,o=f(t,r)>f(t,i)?e.observer:e.target;return s.pixelSizeAt(o)}e([h()],j.prototype,\"selectedViewshed\",void 0),e([h()],j.prototype,\"isDecoration\",void 0),e([h()],j.prototype,\"shadowMap\",null),e([h()],j.prototype,\"hasViewsheds\",null),e([h()],j.prototype,\"_contentPixelRatio\",null),e([h()],j.prototype,\"_viewshedsInView\",null),e([h()],j.prototype,\"consumes\",void 0),e([h()],j.prototype,\"produces\",void 0),j=e([d(\"esri.views.3d.webgl-engine.lib.Viewshed\")],j);const E=v(),I=m(),D=m();export{j as Viewshed,A as computeOffsetScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{getFeatureId as t,updatePointsFromFeatureReference as s}from\"../../../analysis/featureReferenceUtils.js\";import\"../../../core/has.js\";import i from\"../../../core/Logger.js\";import{mapCollection as r}from\"../../../core/mapCollectionUtils.js\";import{abortMaybe as o,destroyMaybe as a}from\"../../../core/maybe.js\";import{watch as d,initial as n,when as l,syncAndInitial as h}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as u,q as m}from\"../../../chunks/vec32.js\";import{create as v}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as w,isLoaded as f,projectOrLoad as V}from\"../../../geometry/projectionUtils.js\";import{projectBoundingRect as y}from\"../../../geometry/projection/projectBoundingRect.js\";import{empty as _,containsPoint as g}from\"../../../geometry/support/aaBoundingRect.js\";import{AnalysisView3D as j}from\"./AnalysisView3D.js\";import{logFailedGeometryProjectionError as R}from\"./support/projectionUtils.js\";import{ViewshedComputedData as b}from\"./Viewshed/ViewshedComputedData.js\";import D from\"./Viewshed/ViewshedTool.js\";import{ViewshedVisualization as C}from\"./Viewshed/ViewshedVisualization.js\";import{Intersector as F}from\"../webgl-engine/lib/Intersector.js\";import{Viewshed as H}from\"../webgl-engine/lib/Viewshed.js\";import{connectAnalysisViewToTool as O,removeAnalysisViewTool as U,startPlaceOperation as S}from\"../../analysis/analysisViewUtils.js\";let A=class extends j{constructor(e){super(e),this.type=\"viewshed-view-3d\",this.analysis=null,this.tool=null,this._selectedViewshed=null,this.viewshedComputedDataHandles=null,this.userOperation=null,this._viewshedRenderNode=null,this._intersector=null}get visible(){return super.visible}set visible(e){super.visible=e}get interactive(){return super.interactive}set interactive(e){super.interactive=e}get selectedViewshed(){return this._selectedViewshed}set selectedViewshed(e){this._unselectOtherViewsheds(e),this._selectedViewshed=e}get selectedViewshedComputedData(){return this.tool?.selectedViewshedComputedData}get _isDecoration(){return!this.parent}initialize(){const e=this.view;this._viewshedRenderNode=new H({view:e,selectedViewshed:()=>this.selectedViewshed??this.tool?.stagedViewshed,isDecoration:this._isDecoration}),this._intersector=new F(this.view.state.viewingMode),this._intersector.options.hud=!1,this._intersector.options.store=0,this.viewshedComputedDataHandles=r(()=>this.analysis.viewsheds,t=>{const s=new b({renderCoordsHelper:e.renderCoordsHelper,viewshed:t}),r=Symbol();return this.addHandles([d(()=>({valid:s.valid,canProject:w(s.observer?.spatialReference,this.view.spatialReference)||f()}),({valid:e,canProject:t},r)=>{this.visible&&(e&&t?this._addViewshedsToRenderer(s):r?.valid&&r?.canProject&&this._removeViewshedsFromRenderer(s),t||R(this.analysis,s.observer.spatialReference,i.getLogger(this)))},n),...this._createFeatureReferenceHandles(s)],r),{viewshedComputedData:s,remove:()=>{this.removeHandles(r),this._removeViewshedsFromRenderer(s),s.destroy()}}}),this._visualization=new C({view:e,analysisViewData:this,isDecoration:this._isDecoration}),this.addHandles([d(()=>this.visible,e=>{const t=this.viewshedComputedDataHandles;if(null==t)return;e||(this.selectedViewshed=null);const s=t.map(e=>e.viewshedComputedData).filter(e=>e.valid).toArray();e?this._addViewshedsToRenderer(s):this._removeViewshedsFromRenderer(s)}),d(()=>e.renderCoordsHelper,e=>{this.viewshedComputedDataHandles?.forEach(({viewshedComputedData:t})=>t.renderCoordsHelper=e)}),O(this,D),l(()=>this.interactive,()=>{this._unselectOtherViewsheds(this.selectedViewshed)},h)])}destroy(){this.userOperation=o(this.userOperation),U(this),this._visualization=a(this._visualization);const e=this.viewshedComputedDataHandles;null!=e&&this._removeViewshedsFromRenderer(e.map(e=>e.viewshedComputedData).toArray())}_createFeatureReferenceHandles(e){const{view:t}=this;return[d(()=>[t.state.camera,t.slice.plane,e.viewshed.observer,e.targetRenderSpace,e.verticalFieldOfView,e.horizontalFieldOfView,e.feature],()=>{this._updateObserverFromFeature(t,e)},n),this._createElevationUpdateHandle(e),l(()=>e.needUpdateByFeature,()=>{this._updateObserverFromFeature(t,e),e.needUpdateByFeature=!1})]}_createElevationUpdateHandle(e){const t=(s,i)=>{const{view:r}=this,{observer:o}=e;if(null==o)return;const a=V(o,r.spatialReference);if(null!=a.pending)return void a.pending.finally(()=>t(s,i));const d=a.geometry;null!=d&&(y(s,i,z,r.spatialReference),g(z,[d.x,d.y])&&(e.needUpdateByFeature=!0))};return this.view.elevationProvider.on(\"elevation-change\",({extent:e,spatialReference:s})=>t(e,s))}async createViewsheds(e){await S(this,{placementOptions:e,onToolActivated:e=>e.place(\"multiple\")})}place(e){return S(this,{placementOptions:e,onToolActivated:e=>e.place(\"single\")})}_addViewshedsToRenderer(e){this._viewshedRenderNode.updateViewsheds({adds:e})}_removeViewshedsFromRenderer(e){this._viewshedRenderNode.updateViewsheds({removes:e})}_updateObserverFromFeature(e,i){const r=i.observerRenderSpace,o=i.targetRenderSpace,a=u(v(),r),d={observer:r,observerSurfaceNormal:null,observerAdjusted:a,observerFeatureId:t(i.feature),target:o,targetSurfaceNormal:null,targetAdjusted:u(v(),o),targetFeatureId:null};s(e,this._intersector,d,e=>Math.min(e,.05*i.farDistanceRenderSpace)),i.observerRenderSpaceOverride=m(a,r)?null:a}_unselectOtherViewsheds(e){if(null!=e)for(const t of this.view.tools.items)t!==this.tool&&t instanceof D&&(t.analysisViewData.selectedViewshed=null)}get test(){}};e([p({readOnly:!0})],A.prototype,\"type\",void 0),e([p({constructOnly:!0,nonNullable:!0})],A.prototype,\"analysis\",void 0),e([p()],A.prototype,\"tool\",void 0),e([p()],A.prototype,\"_selectedViewshed\",void 0),e([p()],A.prototype,\"selectedViewshed\",null),e([p()],A.prototype,\"selectedViewshedComputedData\",null),e([p()],A.prototype,\"viewshedComputedDataHandles\",void 0),e([p()],A.prototype,\"userOperation\",void 0),e([p()],A.prototype,\"_visualization\",void 0),e([p()],A.prototype,\"_viewshedRenderNode\",void 0),A=e([c(\"esri.views.3d.analysis.ViewshedAnalysisView3D\")],A);const N=A,z=_();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";const t=has(\"mac\")?\"Meta\":\"Control\",r=\"Shift\",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos(o(45)),i=Math.cos(o(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;export{s as displayFocusMultiplier,t as forceHorizontalModifier,r as forceVerticalModifier,h as initialDepthOffsetFrac,v as initialPlaneHalfSizeViewProportion,u as planeMinBasisScreenLen2,j as planeOutlineWidth,M as planePreviewOutlineWidth,m as pointerMoveTimerMs,f as previewFadeDotThreshold,p as previewFadeDurationSeconds,k as resizeHandleCornerInputRadius,b as resizeHandleCornerWidth,q as resizeHandleEdgeInputRadius,g as resizeHandleEdgePaddingFrac,d as resizeHandleEdgeWidth,S as shiftRestartArrowLength,U as shiftRestartArrowOutlineWidth,C as shiftRestartOffsetDistance,c as shiftRestartTipFocusMultiplier,x as shiftRestartTipLength,n as shiftRestartTipRadius,a as shiftRestartTubeFocusMultiplier,l as shiftRestartTubeRadius,i as smallAngleDotThreshold,e as verticalDotThreshold};\n"],"names":["e","o","s","r","i","constructor","super","initialize","this","addHandles","analysisViewData","visible","t","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","m","interactive","f","view","n","tool","tools","add","v","p","remove","y","a","userOperation","async","promise","catch","abort","activeTool","c","active","u","signal","shouldRejectOnCancel","l","onToolActivated","aborted","abortOptions","finally","d","clone","placementOptions","valid","equals","x","arguments","shadowMap","depthTexture","nearFar","numActiveFaces","atlasRegions","targetVector","upVector","fovs","headingAndTilt","observerOffset","projectionMatrices","flat","viewMatrices","volumeOffset","V","fragment","include","uniforms","depth","attachment","camera","inverseProjectionMatrix","_ref","b","viewInverseTransposeMatrix","h","g","w","normals","constants","code","main","M","Object","freeze","defineProperty","__proto__","ViewshedPassParameters","build","Symbol","toStringTag","value","localOrigin","viewMatrix","observer","farDistance","heading","tilt","horizontalFieldOfView","verticalFieldOfView","feature","type","json","write","isRequired","prototype","Number","nonNullable","range","min","normalize","max","readOnly","read","layer","id","objectId","objectIdField","attributes","uid","writer","layerId","target","String","origins","ObjectId","clonable","I","sceneIntersectionHelper","observerFeatureId","targetFeatureId","options","store","intersectToolIntersectorRay","F","N","R","results","all","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","excludeLabels","parent","_userInteractive","_interactiveViewModelCount","updating","suspended","_overrideIfSome","forceInteractive","constructOnly","Boolean","intersect","intersectDraped","length","undefined","q","k","start","end","U","abs","push","sqrt","collisionRadius","fovUnfocusedArcWidth","fovFocusedArcWidth","scaleOrientSize","scaleOrientHandleRadius","scaleOrientMinDistance","scaleOrientArrowTipLength","scaleOrientArrowTipFocusMultiplier","observerSize","hoverTimeoutMilliseconds","viewAngleThreshold","getFovArcWidth","getScaleOrientArrowTipLength","frameWidthNotSelected","frameWidthSelected","frameColor","observerPointConfiguration","size","pixelSnappingEnabled","primitive","elevationInfo","mode","offset","outlineSize","color","toUnitRGBA","shapeMaterialParameters","renderOccluded","cullFace","writeDepth","tiltedUpVector","rightVector","observerRenderSpace","plane","S","D","renderCoordsHelper","toRenderCoords","position","direction","E","next","targetRenderSpace","basis1","basis2","origin","acos","farDistanceRenderSpace","sin","renderStart","renderEnd","action","deltaAngle","C","A","observerRenderSpaceOverride","needUpdateByFeature","viewshed","effectiveObserverRenderSpace","effectiveObserver","renderSpaceToPoint","spatialReference","effectiveTargetRenderSpace","_computeTargetRenderSpace","metersPerUnit","tiltParallelToSurface","_pointToRenderSpace","targetDirection","leftVector","_basis","basisMatrixAtPosition","northVector","pointOnSphere","cornerPoints","topLeft","topRight","bottomLeft","bottomRight","arcCentersPoints","top","bottom","left","right","parallelCenterPoints","fromRenderCoords","toArray","_handles","_tool","_view","_focusedArcMaterial","_createArcMaterial","_unfocusedArcMaterial","_createManipulators","forEachManipulator","manipulators","destroy","_manipulators","createDragPipeline","values","map","manipulator","side","_ref6","_","L","B","G","manipulatorType","updateManipulatorsTransform","H","_forEachManipulatorInfo","_updateArcManipulatorTransform","updateManipulatorVisuals","_updateArcManipulatorVisuals","_ref2","cos","P","O","instantiate","material","collisionType","paths","renderObjects","radius","_ref3","renderLocation","z","modelTransform","_createArcManipulator","forEach","_ref4","metadata","pairedManipulator","autoScaleRenderObjects","worldSized","events","on","hovering","grabbing","isDecoration","width","state","isGlobal","effectiveTheme","accentColor","setParameters","_ref5","test","PI","_setupManipulatorVisual","_createMaterial","transformation","_manipulatorHeading","_manipulatorTilt","_manipulatorDistance","createHeadingDragPipeline","createTiltDragPipeline","createDistanceDragPipeline","location","updateManipulators","_color","_moveManipulation","_observerManipulator","_fieldOfViewManipulation","_scaleOrientManipulation","_forceHoveringTask","_forceHoveringTestPromise","_grabbing","viewshedComputedData","_createMoveManipulation","parentTool","angle","removeHandles","_buildObserverDragPipeline","_buildFOVDragPipeline","_buildScaleOrientDragPipeline","filter","viewshedCompData","hFOV","vFOV","selectedViewshedComputedData","fovManipulationAvailable","isPlacingTarget","nonFOVManipulationAvailable","creating","available","_forEachManipulator","_someManipulatorHovering","subToolHandles","subTool","_resetHoveringTask","_someManipulatorSelected","_updateManipulatorVisibility","updateInteractionVisualsVisibility","_setInteractive","hasManipulator","discManipulator","xyManipulation","moveInteractionState","dragging","scaleOrientInteractionState","_forEachManipulation","onManipulatorSelectionChanged","selectedViewshed","selected","snapToScene","xyAvailable","xyAxisAvailable","zAvailable","steps","cancel","fromGeometry","viewingMode","operations","data","geometry","clamp","disableDisplay","moveManipulation","fieldOfViewManipulation","scaleOrientManipulation","setHoveringTimeoutPromise","W","removeIncompleteOnCancel","automaticManipulatorSelection","_stagedViewshed","_stagedViewshedComputedData","_placementMode","_creationState","_interactionVisualElements","_settings","getTheme","_selectedManipulator","_intersector","_createInteractionVisuals","viewshedComputedDataHandles","_valid","finishToolCreation","_findSubTool","viewsheds","item","firstGrabbedManipulator","_selectManipulator","_selectedSubTool","_updateInteractionVisualsLocation","removeStaged","some","cursor","stagedViewshed","place","_finishToolCreationIfValid","onInputEvent","_doubleClickHandler","_pointerMoveHandler","key","_cancelKeyHandler","delete","includes","_deleteKeyHandler","onInputEventAfter","_clickPlacementHandler","onActivate","hasFocusedManipulators","_intersectScreen","mapPoint","_updateStagedViewshed","scenePoint","stopPropagation","_onCancelWhileCreating","K","intersectToolIntersectorScreen","visualElements","attached","style","glowWidth","heightPlane","innerWidth","extensionType","zVerticalLine","writeDepthEnabled","laserline","verticalLine","apply","heightManifoldTarget","intersectsWorldUpAtLocation","setStartEndFromWorldDownAtLocation","find","_material","_viewshedComputedData","applyProperties","updateTransform","transform","createExternalResources","destroyExternalResources","forEachMaterial","createGeometries","ceil","addGeometry","isNaN","_viewshedCorners","_arcCenterPoints","_parallelCenters","stipplePattern","_observerVisualElement","_shapeVisualElement","_frameLinesVisualElement","_leftArcVisualElement","_rightArcVisualElement","_topArcVisualElement","_bottomArcVisualElement","_centralLongitude","_centralLatitude","corners","arcCenters","parallelCenters","_selected","_forEachVisualElement","_updateVisualElements","initial","recreateGeometry","staged","_staged","horFovNot360","_forEachLineVisualElement","observerVisible","_updateFrameLines","_updateFrameArcs","_updateCentralHelperArcs","visualization","_subVisualizations","sectionAngles","sectionAnglesDeg","projectionMatrix","sectionMatrix","_projectionMatrixInternal","tan","fovX","fovY","_sectionRatioX","setViewport","viewport","textureSizeQuality","textureSizeModHighQuality","textureSizeModLowQuality","textureSizeMultiple","toleranceSides","toleranceBottomTop","textureSizeModifier","textureResizeModulo","_fbos","_faces","_width","_height","settings","_maxTextureSize","has","rctx","parameters","maxTextureSize","_handle","getTexture","ready","faces","keys","height","viewshedProjectionMatrices","viewshedViewMatrices","_setupFaceCamera","center","eye","up","far","isActive","_computeActiveFaces","Set","_computeBaseTextureSize","pixelRatio","fullWidth","fullHeight","_ensureFBO","fbo","depthStencilTexture","descriptor","internalFormat","DEPTH_COMPONENT16","release","_allocateFBO","acquire","setShadowFiltering","clearFBO","bindFramebuffer","setClearColor","dispose","_debugFBO","finish","initializePipeline","colorWrite","blending","_shadowMap","hasViewsheds","_viewsheds","_contentPixelRatio","contentPixelRatio","_viewshedsInView","items","frustum","intersectsSphere","_passParameters","consumes","required","VIEWSHED","produces","requireGeometryDepth","fboCache","resolutionScale","requestRender","precompile","techniques","stage","renderer","precompileViewshedShadowMap","render","bindParameters","renderingContext","name","decorations","get","compiled","isFeatureEnabled","_renderShadowCubeMap","_setupViewshedParameters","bindTechnique","screen","draw","updateViewsheds","removes","adds","Array","isArray","removeMany","addMany","basemapTerrain","hasStencilEnabledExtents","renderViewshedShadowMap","pixelSizeAt","viewshedsInView","_selectedViewshed","_viewshedRenderNode","_unselectOtherViewsheds","_isDecoration","hud","canProject","_addViewshedsToRenderer","_removeViewshedsFromRenderer","getLogger","_createFeatureReferenceHandles","_visualization","slice","_updateObserverFromFeature","_createElevationUpdateHandle","pending","elevationProvider","extent","createViewsheds"],"sourceRoot":""}