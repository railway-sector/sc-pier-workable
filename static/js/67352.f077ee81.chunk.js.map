{"version":3,"file":"static/js/67352.f077ee81.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DView.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js","../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{toUnit as o}from\"../../../../core/quantityUtils.js\";import{watch as n,syncAndInitial as r}from\"../../../../core/reactiveUtils.js\";import{adaptiveLengthUnit as s,adaptiveVerticalLengthUnit as a}from\"../../../../core/unitUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{applyProjectionAndElevationAlignment as u,logFailedGeometryProjectionError as p}from\"../support/projectionUtils.js\";import{euclideanDistanceBetweenPoints as d}from\"../../../support/euclideanLengthMeasurementUtils.js\";let m=class extends e{constructor(t){super(t)}initialize(){this.addHandles([n(()=>({viewData:this.viewData,startPoint:this.analysis.startPoint}),({viewData:t,startPoint:e})=>{t.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(e)},r),n(()=>({viewData:this.viewData,endPoint:this.analysis.endPoint}),({viewData:t,endPoint:e})=>{t.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(e)},r),n(()=>({result:this._computedResult,viewData:this.viewData}),({result:t,viewData:e})=>{e.result=t},r)])}_applyProjectionAndElevationAlignment(t){if(null==t)return t;const{spatialReference:e,elevationProvider:o}=this.view,n=u(t,e,o);return n??(p(this.analysis,t.spatialReference,i.getLogger(this)),null)}get _computedResult(){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:e,measurementMode:i,unit:n}=this.viewData;if(null==t||null==e)return null;const r=d(t,e),l=this.geodesicLengthMeasurementUtils.geodesicDistanceBetweenPoints(t,e);if(null==r)return null;let c,u;switch(i){case 0:u=null!=l?\"geodesic\":\"euclidean\",c=l??r.horizontal;break;case 2:if(null==l)return null;u=\"geodesic\",c=l;break;case 1:u=\"euclidean\",c=r.horizontal}let p=r.direct,m=r.vertical;const v=s(p.value,p.unit,n),h=s(c.value,c.unit,n),g=a(m.value,m.unit,n);return p=o(p,v),c=o(c,h),m=o(m,g),{mode:u,directDistance:p,horizontalDistance:c,verticalDistance:m}}};t([l({constructOnly:!0})],m.prototype,\"view\",void 0),t([l({constructOnly:!0})],m.prototype,\"analysis\",void 0),t([l({constructOnly:!0})],m.prototype,\"viewData\",void 0),t([l({constructOnly:!0})],m.prototype,\"geodesicLengthMeasurementUtils\",void 0),t([l()],m.prototype,\"_computedResult\",null),m=t([c(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController\")],m);export{m as DirectLineMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{blending as t}from\"../lib/OrderIndependentTransparency.js\";import{M as n}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{PrimitiveType as s}from\"../../../webgl/enums.js\";import{makePipelineState as i,defaultColorWrite as l,defaultDepthWrite as a}from\"../../../webgl/renderState.js\";class p extends o{constructor(e,o){super(e,o,new r(n,()=>import(\"./MeasurementArrow.glsl.js\")),m.locations),this.primitiveType=s.TRIANGLE_STRIP}initializePipeline(e){return i({blending:e.transparent?t(e.oitPass):null,polygonOffset:e.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:513},depthWrite:a,colorWrite:l})}}const m=e().vec3f(\"position\").vec3f(\"normal\").vec2f(\"uv0\").f32(\"length\");export{p as MeasurementArrowTechnique,m as layout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as e}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends e{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1}}o([t()],r.prototype,\"polygonOffsetEnabled\",void 0),o([t()],r.prototype,\"transparent\",void 0);export{r as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as t,n as e,e as r,i as s,k as o,t as i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as c}from\"../core/shaderLibrary/ShaderOutput.js\";import l from\"../lib/GLMaterial.js\";import{Material as u,MaterialParameters as p}from\"../lib/Material.js\";import{MeasurementArrowTechnique as h,layout as f}from\"../shaders/MeasurementArrowTechnique.js\";import{MeasurementArrowTechniqueConfiguration as m}from\"../shaders/MeasurementArrowTechniqueConfiguration.js\";import{alphaCutoff as g}from\"../../../../webscene/support/AlphaCutoff.js\";class d extends u{constructor(t){super(t,w),this._configuration=new m,this.intersectDraped=void 0,this.produces=new Map([[2,t=>!this._transparent&&c(t)],[8,t=>this._transparent&&c(t)]])}getConfiguration(t,e){return super.getConfiguration(t,e,this._configuration),this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.oitPass=e.oitPass,this._configuration}get visible(){const{outlineColor:t,stripeEvenColor:e,stripeOddColor:r}=this.parameters;return t[3]>=g||e[3]>=g||r[3]>=g}intersect(){}createGLMaterial(t){return new C(t)}createBufferWriter(){return new O}get _transparent(){const{parameters:t}=this;return t.outlineColor[3]<1||t.stripeEvenColor[3]<1||t.stripeOddColor[3]<1}}class C extends l{beginSlot(t){return this.getTechnique(h,t)}}class w extends p{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=a(1,.5,0,1),this.stripeEvenColor=a(1,1,1,1),this.stripeOddColor=a(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const j=n(),_=n(),b=n(),v=n(),M=n();class O{constructor(){this.layout=f}elementCount(t){return 2*(t.get(\"position\").indices.length/2+1)}write(n,a,c,l,u,p){const{data:h,indices:f}=c.get(\"position\"),m=c.get(\"normal\").data,g=h.length/3;f&&f.length!==2*(g-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const d=j,C=_,w=b,O=v,x=M,y=u.position,A=u.normal,E=u.uv0;let L=0;for(let j=0;j<g;++j){const c=3*j;if(t(d,h[c],h[c+1],h[c+2]),j<g-1){const o=3*(j+1);t(C,h[o],h[o+1],h[o+2]),t(x,m[o],m[o+1],m[o+2]),e(x,x),r(w,C,d),e(w,w),s(O,x,w),e(O,O)}const l=o(d,C);n&&a&&(i(d,d,n),i(C,C,n),i(O,O,a));const u=p+2*j,f=u+1;y.setVec(u,d),y.setVec(f,d),A.setVec(u,O),A.setVec(f,O),E.set(u,0,L),E.set(u,1,-1),E.set(f,0,L),E.set(f,1,1),j<g-1&&(L+=l)}const V=u.length;for(let t=0;t<2*g;++t)V.set(p+t,L);return null}}export{d as MeasurementArrowMaterial,w as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{colorVectorEquals as t}from\"../../../../core/colorUtils.js\";import e from\"../../../../core/Handles.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as s}from\"../../../../core/reactiveUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{d as i,e as a,a as n,i as h,H as l}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{d}from\"../../../../chunks/vec42.js\";import{create as _}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{headingTiltToDirectionUp as g}from\"../../support/cameraUtils.js\";import{createDirectionUp as u}from\"../../support/cameraUtilsInternal.js\";import{createPolylineGeometry as w}from\"../../webgl-engine/lib/GeometryUtil.js\";import{MeasurementArrowMaterial as f}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class C extends p{constructor(t){super(t),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=c(),this._originTransform=o(),this._arrowCenter=c(),this._renderOccluded=4,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=_(),this._contrastColor=_(),this.applyProperties(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(t){t!==this._renderOccluded&&(this._renderOccluded=t,this._arrowMaterial?.setParameters({renderOccluded:t}))}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(t){this._stripeLength=t,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(t){if(this._stripesEnabled=t,this.attached){const t=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:t})}}get color(){return this._color}set color(e){t(e,this._color)||(d(this._color,e),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(e){t(e,this._color)||(d(this._contrastColor,e),this._updateArrowColor())}createExternalResources(){const t=this._color,r=this._contrastColor,o=this._stripesEnabled?r:t;this._arrowMaterial=new f({outlineColor:t,stripeEvenColor:o,stripeOddColor:t,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new e,this._handles.add(s(()=>this.view.state.camera,()=>{this._viewChanged()}))}destroyExternalResources(){this._arrowMaterial=null,this._handles=r(this._handles)}forEachMaterial(t){t(this._arrowMaterial)}createGeometries(t){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const e=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);e.transformation=this._originTransform,t.addGeometry(e),this._viewChanged()}_createArrowGeometry(t,e,r,s){const o=this.view,n=o.renderCoordsHelper,h=[],l=[],c=(t,e)=>{const s=m.get();a(s,t,r),h.push(s),l.push(e)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const r=m.get();if(n.worldUpAtPosition(this._arrowCenter,r),y(t,e,r)){const{heading:e,tilt:s}=o.camera,{direction:a}=g(o,t,e,s,b);i(r,a)}c(t,r),c(e,r)}else{s.eval(.5,this._arrowCenter);const t=this._arrowSubdivisions+1&-2;for(let e=0;e<t;++e){const r=e/(t-1),o=m.get(),i=m.get();s.eval(r,o),n.worldUpAtPosition(o,i),c(o,i)}}return w(this._arrowMaterial,h,l)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const t=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*t})}}_updateArrowColor(){if(!this.attached)return;const t=this._color,e=this._contrastColor,r=this._stripesEnabled?e:t,s=t,o=t;this._arrowMaterial.setParameters({stripeEvenColor:r,outlineColor:s,stripeOddColor:o})}}function y(t,e,r){const s=n(v,e,t),o=h(v,s,r);return 0===l(o)}const v=c(),b=u();export{C as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../../../intl.js\";import t from\"../../../../core/Accessor.js\";import{unitRGBAFromColor as i,multiplyOpacityToUnitRGBA as s,getContrast as n,multiplyOpacity as l}from\"../../../../core/colorUtils.js\";import\"../../../../core/has.js\";import{nextHighestPowerOfTen as o,deg2rad as r}from\"../../../../core/mathUtils.js\";import{destroyMaybe as a}from\"../../../../core/maybe.js\";import{formatDecimal as c,formatImperialVerticalLength as h,formatImperialLength as u,formatMetricVerticalLength as d,formatMetricLength as m}from\"../../../../core/quantityFormatUtils.js\";import{toUnit as g}from\"../../../../core/quantityUtils.js\";import{watch as p,syncAndInitial as _,initial as v}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as b,createRenderScreenPointArray as L}from\"../../../../core/screenUtils.js\";import{adaptiveImperialLengthUnit as w,convertUnit as y}from\"../../../../core/unitUtils.js\";import{property as S}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{dot as E}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{h as V,g as z}from\"../../../../chunks/vec32.js\";import{create as A}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{renderScreenSpaceTangent as P}from\"../../interactive/support/viewUtils.js\";import{LabelVisualElement as j,mirrorPosition as M}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as C}from\"../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as O}from\"../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as x}from\"../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as D,EuclideanSegment as G}from\"../../interactive/visualElements/support/Segment.js\";import{createStipplePatternSimple as H}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{geodesicDistanceThreshold as k}from\"../../../support/geodesicMeasurementUtils.js\";import{onLocaleChange as T}from\"../../../../intl/locale.js\";import{fetchMessageBundle as U}from\"../../../../intl/messages.js\";let R=class extends t{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:o}=e,r=i(t),a=s(t,.75),c=i(n(t)),h=n(o,160);return{accentColor:r,contrastColor:c,translucentAccentColor:a,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:o,textBackgroundColor:l(h,.6),textCalloutColor:l(h,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return 0;const i=this.analysisView.result;if(null==i)return 1;if(\"geodesic\"===this.actualVisualizedMeasurement)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?3:1;const{verticalDistance:s,horizontalDistance:n}=i,l=g(s,\"meters\").value,o=g(n,\"meters\").value;return Math.min(l/o,o/l)<this.triangleCollapseRatioThreshold?1:2}get actualVisualizedMeasurement(){const{measurementMode:e,result:t}=this.analysisView;switch(e){case 0:return null!=t&&g(t.horizontalDistance,\"meters\").value>k?\"geodesic\":\"euclidean\";case 1:return\"euclidean\";case 2:return\"geodesic\"}}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){return\"geodesic\"===this.actualVisualizedMeasurement?{direct:null,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=A(),this._endPosition=A(),this._cornerPosition=A(),this._startPositionAtSeaLevel=A(),this._endPositionAtSeaLevel=A(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=0,this.triangleCollapseRatioThreshold=.03}initialize(){const e={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:t,guideStippleLengthPixels:i,triangleLineWidth:s,geodesicProjectionLineWidth:n,directLabelFontSize:l,verticalLabelFontSize:o,horizontalLabelFontSize:r}=this._parameters;this._segmentVisualElement=new O({...e,geometry:null,renderOccluded:4}),this._triangleVisualElement=new C({...e,width:s,renderOccluded:4}),this._rightAngleQuad=new x({...e,renderOccluded:4});const a={...e,polygonOffset:!0,renderOccluded:4};this._projectedGeodesicLine=new C({...a,width:n,stipplePattern:H(i)}),this._geodesicStartHint=new C({...a,width:t,stipplePattern:H(i)}),this._geodesicEndHint=new C({...a,width:t,stipplePattern:H(i)}),this._segmentLabel=new j({...e,fontSize:l}),this._verticalLabel=new j({...e,fontSize:o}),this._horizontalLabel=new j({...e,fontSize:r}),this.addHandles([p(()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}},e=>this._updateGeometryAndViewMode(e),_),p(()=>({visible:this.visible,viewMode:this.viewMode}),e=>this._updateVisualElementVisibility(e),_),p(()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement}),e=>this._updateLabelText(e),_),p(()=>({visible:this.visible,viewMode:this.viewMode}),e=>this._updateLabelVisibility(e),_),p(()=>this._measurementArrowStripeLength,e=>this._updateSegmentStripeLength(e),_),T(()=>this._updateMessageBundle()),p(()=>this._parameters,({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:s,accentColor:n,contrastColor:l})=>{const{_segmentLabel:o,_verticalLabel:r,_horizontalLabel:a,_triangleVisualElement:c,_rightAngleQuad:h,_projectedGeodesicLine:u,_geodesicStartHint:d,_geodesicEndHint:m,_segmentVisualElement:g}=this;o.backgroundColor=e,o.calloutColor=t,o.textColor=i,r.backgroundColor=e,r.calloutColor=t,r.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,c.color=s,h.color=s,u.color=s,d.color=s,m.color=s,g.color=n,g.contrastColor=l},v)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=a(this._segmentVisualElement),this._triangleVisualElement=a(this._triangleVisualElement),this._rightAngleQuad=a(this._rightAngleQuad),this._projectedGeodesicLine=a(this._projectedGeodesicLine),this._geodesicStartHint=a(this._geodesicStartHint),this._geodesicEndHint=a(this._geodesicEndHint),this._segmentLabel=a(this._segmentLabel),this._verticalLabel=a(this._verticalLabel),this._horizontalLabel=a(this._horizontalLabel),this.set(\"view\",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case 0:break;case 1:this._segmentVisualElement.visible=!0;break;case 2:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case 3:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:s,elevationAlignedEndPoint:n,orientation:l,visualizedMeasurement:o,stripeLength:r}){const a=e.renderCoordsHelper;if(null==a||null==s||null==n||s.equals(n))return;let c=this._startPosition,h=this._endPosition;a.toRenderCoords(s,c),a.toRenderCoords(n,h);const u=1===l?1:-1,d=u*(a.getAltitude(h)-a.getAltitude(c));d<0&&(c=this._endPosition,h=this._startPosition);const m=\"geodesic\"===o?new D(this._startPosition,this._endPosition,a.spatialReference):new G(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=m,this._updateSegmentStripeLength(r),i){case 1:this._updateSegment(m,l);break;case 2:this._updateSegmentAndTriangle({view:e,camera:t,segment:m,orientation:l,startPosition:c,endPosition:h,deltaSign:u,altitudeDelta:d});break;case 3:this._updateSegmentAndProjection({view:e,orientation:l,startPosition:c,endPosition:h})}}_updateSegment(e,t){this._segmentLabel.anchor=1===t?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:s,startPosition:n,endPosition:l,deltaSign:o,altitudeDelta:r}){const a=this._cornerPosition;e.worldUpAtPosition(n,a),V(a,a,o*Math.abs(r)),z(a,a,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[a[0],a[1],a[2]],[l[0],l[1],l[2]]]],this._rightAngleQuad.geometry={previous:n,center:a,next:l};const c=new G(n,a),h=new G(a,l),u=F(n,l,a,s,t);u&&(this._segmentLabel.anchor=u.segment,this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=u.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:h,sampleLocation:\"center\"},this._horizontalLabel.anchor=u.horizontal)}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:s}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,s);const n=new D(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(n),this._geodesicStartHint.setGeometryFromSegment(new G(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new G(this._endPositionAtSeaLevel,s)),this._segmentLabel.geometry={type:\"segment\",segment:n,sampleLocation:\"center\"},this._segmentLabel.anchor=1===t?\"top\":\"bottom\"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text=\"euclidean\"===t?e.directDistance:e.horizontalDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange(\"labels\")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,s=this._horizontalLabel,n=this._verticalLabel;if(i.visible=!1,s.visible=!1,n.visible=!1,e)switch(t){case 1:case 3:i.visible=!0;break;case 2:i.visible=!0,s.visible=!0,n.visible=!0}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:s,verticalDistance:n}=t,l=this.analysisView.unit,o=e=>({directDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(l){case\"metric\":return o({directDistance:i&&m(e,i),horizontalDistance:s&&m(e,s),verticalDistance:n&&d(e,n)});case\"imperial\":return o({directDistance:i&&u(e,i),horizontalDistance:s&&u(e,s),verticalDistance:n&&h(e,n)});default:return o({directDistance:i&&c(e,i,l),horizontalDistance:s&&c(e,s,l),verticalDistance:n&&c(e,n,l)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return 0===e?this.view.state.camera.aboveGround?1:2:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper;if(!s)return!1;const n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const s=e.directDistance;switch(t){case\"metric\":i=s&&g(s,\"meters\");break;case\"imperial\":i=s&&g(s,w(s.value,s.unit));break;default:i=s&&g(s,t)}if(null==i)return null;return o(i.value/30)*y(1,i.unit,\"meters\")}_updateMessageBundle(){this.loadingMessages=!0,U(\"esri/core/t9n/Units\").then(e=>{this.messages=e}).finally(()=>{this.loadingMessages=!1})}get testData(){}};function F(e,t,i,s,n){const l=P(e,i,n,B),o=P(e,t,n,I);if(null==l||null==o)return null;const r=n.projectToRenderScreen(i,q),a=n.projectToRenderScreen(t,W),c={segment:\"bottom\",horizontal:\"top\",vertical:null==r||null==a||r[0]<a[0]?\"left\":\"right\"};if(E(l,o)>=Q){const e=Math.sign(l[1])===Math.sign(o[1]);c.segment=e?M(c.vertical):c.vertical}else{const e=J;P(i,t,n,e),E(e,o)>=Q&&(c.segment=Math.sign(e[0])===Math.sign(o[0])?M(c.horizontal):c.horizontal)}if(2===s){const e=e=>\"top\"===e?\"bottom\":\"top\";c.segment=e(c.segment),c.horizontal=e(c.horizontal),c.vertical=e(c.vertical)}return c}e([S()],R.prototype,\"_parameters\",null),e([S()],R.prototype,\"_triangleOrientationOverride\",void 0),e([S()],R.prototype,\"messages\",void 0),e([S()],R.prototype,\"view\",void 0),e([S()],R.prototype,\"analysis\",void 0),e([S()],R.prototype,\"analysisView\",void 0),e([S()],R.prototype,\"loadingMessages\",void 0),e([S()],R.prototype,\"visible\",null),e([S()],R.prototype,\"viewMode\",null),e([S()],R.prototype,\"actualVisualizedMeasurement\",null),e([S()],R.prototype,\"visualElementOrientation\",void 0),e([S()],R.prototype,\"triangleCollapseRatioThreshold\",void 0),e([S()],R.prototype,\"allowVisualElementsOrientationChange\",null),e([S()],R.prototype,\"labels\",null),e([S()],R.prototype,\"_labelsText\",null),e([S()],R.prototype,\"_actualVisualElementsOrientation\",null),e([S()],R.prototype,\"_measurementArrowStripeLength\",null),R=e([f(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization\")],R);const Q=Math.cos(r(12)),q=b(),W=b(),B=L(),I=L(),J=L();export{R as DirectLineMeasurementVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../../Color.js\";import i from\"../../../../../core/Accessor.js\";import{multiplyOpacityToUnitRGBA as s,getContrast as o,colorVectorEquals as n,colorVectorToColorAndOpacity as a}from\"../../../../../core/colorUtils.js\";import\"../../../../../core/has.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as l,initial as d}from\"../../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromPoints as u}from\"../../../../../geometry/support/lineSegment.js\";import{Manipulator3D as m}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as g}from\"../../manipulatorUtils.js\";import{RenderObject as _}from\"../../RenderObject.js\";import{LaserlineVisualElement as y}from\"../../visualElements/LaserlineVisualElement.js\";import{createSphereGeometry as v}from\"../../../webgl-engine/lib/GeometryUtil.js\";let b=class extends i{constructor(t){super(t),this.cursorPoint=null,this._visible=!1,this._laserLine=null,this.laserLineEnabled=!0,this._lastDraggedHandle=null}initialize(){this._laserLine=new y({view:this.view,attached:!0,isDecoration:!0}),this._updateVisibility(this._visible),this._connectToAnalysisView(),this.addHandles(l(()=>this._params,({laserLineGlowColor:t,laserLineInnerColor:e,laserLineGlobalAlpha:i})=>{const s=this._laserLine,o=s.style;s.style={...o,innerColor:e,glowColor:t,globalAlpha:i}}))}destroy(){this._laserLine=r(this._laserLine)}get _params(){const{accentColor:t}=this.view.effectiveTheme;return{laserLineGlowColor:e.toUnitRGB(t),laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:e.toUnitRGB(o(t)),laserLineInnerWidth:.75,laserLineGlobalAlpha:.75*t.a,handleColor:s(t,.5),handleRadius:5}}get visible(){return this._visible}set visible(t){t?this.show():this.hide()}get testData(){}get _cursorPosition(){const t=p(),e=this.cursorPoint;return e&&this.view.renderCoordsHelper.toRenderCoords(e,t),t}get _startPosition(){const t=p(),e=this.analysis.startPoint;return e&&this.view.renderCoordsHelper.toRenderCoords(e,t),t}get _endPosition(){const t=p(),e=this.analysis.endPoint;return e&&this.view.renderCoordsHelper.toRenderCoords(e,t),t}get _laserLineParams(){const t=this._focusPosition,{active:e,lineState:i}=this.toolState,s=this.analysisViewData,o=this.laserLineEnabled&&!!t&&\"measured\"!==i&&e;if(!o||!this.visible||null==s||s.destroyed)return{heightManifoldTarget:null,pointDistanceLine:null,lineVerticalPlaneSegment:null};const n=s.actualVisualizedMeasurement,a=\"local\"!==this.view.viewingMode&&o&&!!this.analysis.startPoint&&\"geodesic\"===n,r=o&&2===s.viewMode;return{heightManifoldTarget:\"euclidean\"===n?t:null,pointDistanceLine:a?this._pointDistanceLine:null,lineVerticalPlaneSegment:r?u(this._startPosition,this._endPosition):null}}get _focusPosition(){const{lineState:t}=this.toolState,e=this.analysisViewData,i=null!=e&&!e.destroyed&&1===e.measurementMode&&1===e.viewMode;switch(t){case\"drawing\":return i?this._startPosition:this.analysis.endPoint?this._endPosition:this._startPosition;case\"editing\":return i?\"start\"===this._lastDraggedHandle?this._endPosition:this._startPosition:\"start\"===this._lastDraggedHandle?this._startPosition:this._endPosition;default:return null!=this.cursorPoint?this._cursorPosition:null}}get _pointDistanceLine(){return{origin:\"drawing\"===this.toolState.lineState||\"end\"===this._lastDraggedHandle?this._startPosition:this._endPosition,target:this._focusPosition}}createManipulators(){const t=this._params,{view:e}=this,i=()=>{const i=g(t.handleColor),s=[new _(v(i,1,32,32))],o=new m({view:e,renderObjects:s});return o.available=!1,o.radius=t.handleRadius,[o,i]},[s,o]=i(),[r,d]=i(),h=new m({view:this.view,available:!1,interactive:!1});null!=this.analysis.startPoint&&(s.location=this.analysis.startPoint,s.available=!0),null!=this.analysis.endPoint&&(r.location=this.analysis.endPoint,r.available=!0);const c=()=>{let t=this._lastDraggedHandle;s.grabbing&&!r.grabbing&&(t=\"start\"),r.grabbing&&!s.grabbing&&(t=\"end\"),s.grabbing||r.grabbing||(t=null),this._lastDraggedHandle=t},p=s.events.on(\"grab-changed\",c),u=r.events.on(\"grab-changed\",c);return this.addHandles([p,u,l(()=>a(this._params.handleColor),t=>{o.setParameters({color:t}),d.setParameters({color:t})},{equals:n})],\"manipulators\"),{start:s,end:r,cursor:h}}show(){this.destroyed||this._visible||this._updateVisibility(!0)}hide(){!this.destroyed&&this._visible&&this._updateVisibility(!1)}_connectToAnalysisView(){this.removeHandles(\"analysis-view\"),this.addHandles([l(()=>this.analysisViewData?.destroyed,t=>{t&&this.removeHandles(\"analysis-view\")},d),l(()=>[\"measured\"===this.toolState.lineState,this.analysisViewData],([t,e])=>{null==e||e.destroyed||(e.allowVisualElementsOrientationChange=!t)},d),l(()=>this._laserLineParams,t=>{const e=this._laserLine;e.heightManifoldTarget=t.heightManifoldTarget,e.pointDistanceLine=t.pointDistanceLine,e.lineVerticalPlaneSegment=t.lineVerticalPlaneSegment},d)],\"analysis-view\")}_updateVisibility(t){this.initialized&&(this._visible=t,t&&(this._laserLine.style={innerColor:this._params.laserLineInnerColor,innerWidth:this._params.laserLineInnerWidth,glowColor:this._params.laserLineGlowColor,glowWidth:this._params.laserLineGlowWidth,glowFalloff:this._params.laserLineGlowFalloff,globalAlpha:this._params.laserLineGlobalAlpha}),this._laserLine.visible=t)}};t([h({constructOnly:!0})],b.prototype,\"view\",void 0),t([h()],b.prototype,\"_params\",null),t([h({constructOnly:!0})],b.prototype,\"analysis\",void 0),t([h({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),t([h()],b.prototype,\"cursorPoint\",void 0),t([h()],b.prototype,\"toolState\",void 0),t([h()],b.prototype,\"visible\",null),t([h()],b.prototype,\"testData\",null),t([h()],b.prototype,\"_visible\",void 0),t([h()],b.prototype,\"_laserLine\",void 0),t([h({constructOnly:!0})],b.prototype,\"laserLineEnabled\",void 0),t([h()],b.prototype,\"_cursorPosition\",null),t([h()],b.prototype,\"_startPosition\",null),t([h()],b.prototype,\"_endPosition\",null),t([h()],b.prototype,\"_lastDraggedHandle\",void 0),t([h()],b.prototype,\"_laserLineParams\",null),t([h()],b.prototype,\"_focusPosition\",null),t([h()],b.prototype,\"_pointDistanceLine\",null),b=t([c(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DView\")],b);export{b as DirectLineMeasurement3DView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import\"../../../../../core/has.js\";import{destroyMaybe as e}from\"../../../../../core/maybe.js\";import{memoize as i}from\"../../../../../core/memoize.js\";import{when as n,watch as a,syncAndInitial as s}from\"../../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as l}from\"../../../../../core/support/UpdatingHandles.js\";import u from\"../../../../../geometry/Point.js\";import{clonePoint as p}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{isPrimaryPointerAction as c}from\"../../../analysis/support/measurementUtils.js\";import{SnappingVisualizer3D as d}from\"../../SnappingVisualizer3D.js\";import{hideManipulatorWhileDragging as h,screenToMap3D as m}from\"../../editingTools/dragEventPipeline3D.js\";import{DirectLineMeasurement3DView as g}from\"./DirectLineMeasurement3DView.js\";import{getElevationAtPoint as v}from\"../../../support/ElevationProvider.js\";import{AnalysisToolBase as P}from\"../../../../interactive/AnalysisToolBase.js\";import{createCoordinateHelper as y}from\"../../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as f,resetProperties as w}from\"../../../../interactive/dragEventPipeline.js\";import{EditGeometry as _}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as M}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as S}from\"../../../../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as D}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";import{acquire as j}from\"../../../../interactive/snapping/SnappingManagerPool.js\";import{setupSnappingToggleHandles as b}from\"../../../../interactive/snapping/snappingUtils.js\";import{createScreenPointFromEvent as L}from\"../../../../support/screenUtils.js\";let x=class extends P{constructor(t){super(t),this._updatingHandles=new l,this._snappingManagerResult=null,this._emulatedDrag=null,this.lineState=\"initial\",this.removeIncompleteOnCancel=!1,this.startPointSurfaceLocation=null,this.endPointSurfaceLocation=null,this.cursorPointSurfaceLocation=null,this.startManipulator=null,this.endManipulator=null,this.cursorManipulator=null,this._getSnappingContext=i(t=>new S({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:t,editGeometryOperations:new M(new _(\"point\",y(!0,!1,this.view.spatialReference)),this.view.state.viewingMode),visualizer:new d}))}initialize(){const{view:t,analysis:e,analysisViewData:i,visible:r}=this;this.measurementView=new g({toolState:this,view:t,analysis:e,analysisViewData:i,visible:r});const{start:o,end:l,cursor:c}=this.measurementView.createManipulators(),d=(t,e,i)=>{const n=f(t,(t,n,a,s)=>{const r=h(t),o=this._ensureSnappingManager(),l=this._getSnappingContext(s),c=this._updatingHandles,{lineState:d}=this;a=a.next(r).next(w(this,[i,e])).next(i=>{if(\"cursorPoint\"!==e){const i=this.analysis[e];null!=i&&(t.location=i)}return i});const g=m(this.view),v=t=>{const n=g(t);return n||\"drawing\"!==this.lineState&&\"initial\"!==this.lineState||(this[e]=null,this[i]=null),n};let P=n.next(r).next(v);if(\"touch\"!==s||\"editing\"===d){const{snappingStep:t,cancelSnapping:e}=D({snappingManager:o,snappingContext:l,updatingHandles:c});a=a.next(e),P=P.next(...t)}P.next(t=>\"start\"!==t.action?t:null).next(n=>{const a=p(n.mapEnd,new u);this[e]=a,t.location=a,this[i]=this._surfaceLocation(a,n.surfaceType)})});return\"cursorPoint\"===e?[n]:[n,t.events.on(\"grab-changed\",()=>{const t=o.grabbing||l.grabbing;this.lineState=t?\"editing\":\"measured\"}),a(()=>this.analysis[e],e=>{e&&(t.location=e)})]};this.startManipulator=o,this.endManipulator=l,this.cursorManipulator=c,this.manipulators.add(o),this.manipulators.add(l),this.manipulators.add(c),this.addHandles([...d(o,\"startPoint\",\"startPointSurfaceLocation\"),...d(l,\"endPoint\",\"endPointSurfaceLocation\"),...d(c,\"cursorPoint\",\"cursorPointSurfaceLocation\"),n(()=>\"measured\"===this.state,()=>{this.finishToolCreation(),this.active&&(this.view.activeTool=null)},s),a(()=>({startPointAvailable:null!=this.startPoint,endPointAvailable:null!=this.endPoint}),({startPointAvailable:t,endPointAvailable:e})=>{this.startManipulator.available=t,this.endManipulator.available=e},s)]),b(this)}destroy(){this._updatingHandles=e(this._updatingHandles),this.measurementView=e(this.measurementView)}get _snappingManager(){return this._snappingManagerResult?.snappingManager}_ensureSnappingManager(){if(null==this._snappingManagerResult){const t=j(this.view);this._snappingManagerResult=t,this.addHandles(t)}return this._snappingManagerResult.snappingManager}get state(){const{analysis:t}=this;if(null==t.startPoint&&null==t.endPoint)return\"ready\";const{lineState:e}=this;return this.validMeasurement&&\"editing\"!==e&&\"drawing\"!==e?\"measured\":\"measuring\"}get cursor(){return!this.active||\"ready\"!==this.state&&\"measured\"===this.lineState?null:\"crosshair\"}get startPoint(){return this.analysis.startPoint}set startPoint(t){this.analysis.startPoint=t}get endPoint(){return this.analysis.endPoint}set endPoint(t){this.analysis.endPoint=t}get cursorPoint(){return this.measurementView.cursorPoint}set cursorPoint(t){this.measurementView.cursorPoint=t}get snappingOptions(){return this._snappingManager?.options}get validMeasurement(){return null!=this.analysis.startPoint&&null!=this.analysis.endPoint}get updating(){return this._updatingHandles.updating||!!this._snappingManager?.updating}resetCreated(){super.resetCreated(),this.lineState=\"initial\",this.cursorPoint=null,\"measured\"===this.state&&this.finishToolCreation()}onShow(){this.measurementView.show()}onHide(){this.measurementView.hide()}onDeactivate(){this._emulatedDrag?.cancel(),this._emulatedDrag=null}onInputEvent(t){switch(t.type){case\"immediate-click\":this._handleImmediateClick(t);break;case\"pointer-move\":this._handlePointerMove(t)}}_handlePointerMove(t){if(!this.active||this.view.navigating)return;const{pointerType:e}=t;if(\"mouse\"!==e)return;const i=L(t),{lineState:n,cursorManipulator:a,endManipulator:s}=this;let r=!1;null==this.cursorPoint&&(this._emulatedDrag?.cancel(),this._emulatedDrag=V(a,e,i),r=!0),\"initial\"===n&&(this._emulatedDrag?.update(i),r=!0),\"drawing\"===n&&(s.events.emit(\"drag\",{action:\"update\",start:i,screenPoint:i}),r=!0),r&&t.stopPropagation()}_handleImmediateClick(t){if(!this.active||!c(t))return;const e=L(t),{pointerType:i}=t,{cursorManipulator:n,startManipulator:a,endManipulator:s,lineState:r}=this;let o=!1;switch(null==this.cursorPoint&&(this._emulatedDrag?.cancel(),this._emulatedDrag=V(n,i,e)),r){case\"initial\":if(this._emulatedDrag?.update(e),null!=this.cursorPoint){this._emulatedDrag?.end(e),this._emulatedDrag=null,this.endPoint=null;const{cursorPoint:t}=this;this.startPoint=t,this.startPointSurfaceLocation=this.cursorPointSurfaceLocation,a.location=t,a.interactive=!1,s.interactive=!1,this.lineState=\"drawing\",this._emulatedDrag=V(s,i,e),o=!0}break;case\"drawing\":this._emulatedDrag?.update(e),null!=this.endPoint&&(this._emulatedDrag?.end(e),this._emulatedDrag=null,a.interactive=!0,s.interactive=!0,this.lineState=\"measured\",o=!0)}o&&t.stopPropagation()}_surfaceLocation(t,e){return 0===e?\"on-the-surface\":(t.z??0)>=this._getElevation(t)?\"above-the-surface\":\"below-the-surface\"}_getElevation(t){return this.view.basemapTerrain.ready?v(this.view.elevationProvider,t)??0:0}get test(){}};function V(t,e,i){return t.events.emit(\"drag\",{action:\"start\",pointerType:e,start:i,screenPoint:i}),{update:e=>t.events.emit(\"drag\",{action:\"update\",start:e,screenPoint:e}),end:e=>t.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),cancel:()=>t.events.emit(\"drag\",{action:\"cancel\"})}}t([r()],x.prototype,\"_snappingManagerResult\",void 0),t([r()],x.prototype,\"_snappingManager\",null),t([r({readOnly:!0})],x.prototype,\"state\",null),t([r()],x.prototype,\"lineState\",void 0),t([r({readOnly:!0})],x.prototype,\"cursor\",null),t([r()],x.prototype,\"startPoint\",null),t([r()],x.prototype,\"endPoint\",null),t([r()],x.prototype,\"cursorPoint\",null),t([r({constructOnly:!0})],x.prototype,\"analysis\",void 0),t([r({constructOnly:!0})],x.prototype,\"analysisViewData\",void 0),t([r()],x.prototype,\"measurementView\",void 0),t([r()],x.prototype,\"removeIncompleteOnCancel\",void 0),t([r({constructOnly:!0})],x.prototype,\"view\",void 0),t([r({readOnly:!0})],x.prototype,\"validMeasurement\",null),t([r({value:null})],x.prototype,\"startPointSurfaceLocation\",void 0),t([r({value:null})],x.prototype,\"endPointSurfaceLocation\",void 0),t([r({value:null})],x.prototype,\"cursorPointSurfaceLocation\",void 0),t([r()],x.prototype,\"updating\",null),x=t([o(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DTool\")],x);export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../../core/has.js\";import{abortMaybe as t,destroyMaybe as i}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getDefaultUnitForView as l}from\"../../../support/getDefaultUnitForView.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{DirectLineMeasurementController as o}from\"./DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementVisualization as r}from\"./DirectLineMeasurement/DirectLineMeasurementVisualization.js\";import u from\"../interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y,startPlaceOperation as h}from\"../../analysis/analysisViewUtils.js\";import{loadGeodesicLengthMeasurementUtils as d}from\"../../support/geodesicLengthMeasurementUtils.js\";let m=class extends n{constructor(e){super(e),this.type=\"direct-line-measurement-view-3d\",this.analysis=null,this.tool=null,this.result=null,this.measurementMode=0,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null,this.userOperation=null}initialize(){const{analysis:e,view:t}=this;this._analysisVisualization=new r({view:t,analysis:e,analysisView:this}),this.addResolvingPromise(d().then(i=>{this.destroyed||(this._analysisController=new o({view:t,analysis:e,viewData:this,geodesicLengthMeasurementUtils:i}))})),this.addHandles(p(this,u))}destroy(){y(this),this.userOperation=t(this.userOperation),this._analysisController=i(this._analysisController),this._analysisVisualization=i(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get visible(){return super.visible}set visible(e){super.visible=e}get interactive(){return super.interactive}set interactive(e){super.interactive=e}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(e){this._analysisVisualization.visualElementOrientation=e}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(e){this._analysisVisualization.allowVisualElementsOrientationChange=e}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._analysisVisualization.triangleCollapseRatioThreshold=e}get directLabelText(){return this._analysisVisualization.labels.direct?.text??\"\"}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??\"\"}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??\"\"}get unit(){return this.analysis.unit??l(this.view)}get testData(){}place(e){return h(this,{placementOptions:e})}};e([s()],m.prototype,\"_analysisVisualization\",void 0),e([s()],m.prototype,\"_analysisController\",void 0),e([s()],m.prototype,\"updating\",null),e([s({readOnly:!0})],m.prototype,\"type\",void 0),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"analysis\",void 0),e([s()],m.prototype,\"tool\",void 0),e([s()],m.prototype,\"result\",void 0),e([s()],m.prototype,\"measurementMode\",void 0),e([s()],m.prototype,\"elevationAlignedStartPoint\",void 0),e([s()],m.prototype,\"elevationAlignedEndPoint\",void 0),e([s({readOnly:!0})],m.prototype,\"viewMode\",null),e([s({readOnly:!0})],m.prototype,\"actualVisualizedMeasurement\",null),e([s()],m.prototype,\"visualElementOrientation\",null),e([s()],m.prototype,\"allowVisualElementsOrientationChange\",null),e([s()],m.prototype,\"triangleCollapseRatioThreshold\",null),e([s({readOnly:!0})],m.prototype,\"directLabelText\",null),e([s({readOnly:!0})],m.prototype,\"horizontalLabelText\",null),e([s({readOnly:!0})],m.prototype,\"verticalLabelText\",null),e([s()],m.prototype,\"unit\",null),e([s()],m.prototype,\"userOperation\",void 0),m=e([a(\"esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D\")],m);const c=m;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{ShaderBuilder as i}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as n}from\"../webscene/support/AlphaCutoff.js\";function s(s){const a=new i,{vertex:d,fragment:l}=a;e(d,s),d.uniforms.add(new o(\"width\",e=>e.width)),a.attributes.add(\"position\",\"vec3\"),a.attributes.add(\"normal\",\"vec3\"),a.attributes.add(\"uv0\",\"vec2\"),a.attributes.add(\"length\",\"float\"),a.varyings.add(\"vtc\",\"vec2\"),a.varyings.add(\"vlength\",\"float\"),a.varyings.add(\"vradius\",\"float\"),d.main.add(r`vec3 bitangent = normal;\nvtc = uv0;\nvlength = length;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;`),l.uniforms.add(new o(\"outlineSize\",e=>e.outlineSize),new t(\"outlineColor\",e=>e.outlineColor),new o(\"stripeLength\",e=>e.stripeLength),new t(\"stripeEvenColor\",e=>e.stripeEvenColor),new t(\"stripeOddColor\",e=>e.stripeOddColor));const c=1/Math.sqrt(2);return l.code.add(r`\n    const float INV_SQRT2 = ${r.float(c)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      }\n      if (d < outlineSize) {\n        return outlineColor;\n      }\n      return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n    }`),l.main.add(r`\n    vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n    vec4 color = arrowColor(ntc, vlength / vradius);\n    if (color.a < ${r.float(n)}) {\n      discard;\n    }\n    fragColor = color;`),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{a as M,s as b};\n"],"names":["m","e","constructor","t","super","initialize","this","addHandles","n","viewData","startPoint","analysis","_ref","elevationAlignedStartPoint","_applyProjectionAndElevationAlignment","r","endPoint","_ref2","elevationAlignedEndPoint","result","_computedResult","_ref3","spatialReference","elevationProvider","o","view","u","p","i","getLogger","measurementMode","unit","d","l","geodesicLengthMeasurementUtils","geodesicDistanceBetweenPoints","c","horizontal","direct","vertical","v","s","value","h","g","a","mode","directDistance","horizontalDistance","verticalDistance","constructOnly","prototype","locations","primitiveType","TRIANGLE_STRIP","initializePipeline","blending","transparent","oitPass","polygonOffset","polygonOffsetEnabled","factor","units","depthTest","func","depthWrite","colorWrite","vec3f","vec2f","f32","arguments","w","_configuration","intersectDraped","produces","Map","_transparent","getConfiguration","parameters","visible","outlineColor","stripeEvenColor","stripeOddColor","intersect","createGLMaterial","C","createBufferWriter","O","beginSlot","getTechnique","width","outlineSize","stripeLength","j","_","b","M","layout","f","elementCount","get","indices","length","write","data","console","warn","x","y","position","A","normal","E","uv0","L","setVec","set","V","_arrowWidth","_arrowSubdivisions","_origin","_originTransform","_arrowCenter","_renderOccluded","_geometry","_stripeLength","_stripesEnabled","_color","_contrastColor","applyProperties","renderOccluded","_arrowMaterial","setParameters","geometry","_geometryChanged","attached","stripesEnabled","color","_updateArrowColor","contrastColor","createExternalResources","isDecoration","_handles","add","state","camera","_viewChanged","destroyExternalResources","forEachMaterial","createGeometries","startRenderSpace","endRenderSpace","_createArrowGeometry","transformation","addGeometry","renderCoordsHelper","push","type","eval","worldUpAtPosition","heading","tilt","direction","recreateGeometry","ready","computeScreenPixelSizeAt","R","_parameters","effectiveTheme","accentColor","textColor","translucentAccentColor","triangleLineWidth","geodesicProjectionLineWidth","guideLineWidth","guideStippleLengthPixels","directLabelFontSize","horizontalLabelFontSize","verticalLabelFontSize","textBackgroundColor","textCalloutColor","analysisView","viewMode","equals","actualVisualizedMeasurement","_requiresGeodesicGuideAt","_startPosition","_endPosition","Math","min","triangleCollapseRatioThreshold","k","allowVisualElementsOrientationChange","_triangleOrientationOverride","_actualVisualElementsOrientation","labels","_segmentLabel","_verticalLabel","_horizontalLabel","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","messages","loadingMessages","visualElementOrientation","stipplePattern","H","fontSize","orientation","visualizedMeasurement","_measurementArrowStripeLength","_updateGeometryAndViewMode","_updateVisualElementVisibility","text","_labelsText","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","T","_updateMessageBundle","backgroundColor","calloutColor","destroy","toRenderCoords","getAltitude","D","G","_updateSegment","_updateSegmentAndTriangle","segment","startPosition","endPosition","deltaSign","altitudeDelta","_updateSegmentAndProjection","anchor","sampleLocation","_ref4","abs","z","previous","center","next","P","B","I","projectToRenderScreen","q","W","Q","sign","J","F","_ref5","setAltitude","setGeometryFromSegment","_ref6","notifyChange","_ref7","destroyed","aboveGround","U","then","finally","testData","S","cos","cursorPoint","_visible","_laserLine","laserLineEnabled","_lastDraggedHandle","_updateVisibility","_connectToAnalysisView","_params","laserLineGlowColor","laserLineInnerColor","laserLineGlobalAlpha","style","innerColor","glowColor","globalAlpha","toUnitRGB","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerWidth","handleColor","handleRadius","show","hide","_cursorPosition","_laserLineParams","_focusPosition","active","lineState","toolState","analysisViewData","heightManifoldTarget","pointDistanceLine","lineVerticalPlaneSegment","viewingMode","_pointDistanceLine","origin","target","createManipulators","renderObjects","available","radius","interactive","location","grabbing","events","on","start","end","cursor","removeHandles","initialized","innerWidth","glowWidth","glowFalloff","_updatingHandles","_snappingManagerResult","_emulatedDrag","removeIncompleteOnCancel","startPointSurfaceLocation","endPointSurfaceLocation","cursorPointSurfaceLocation","startManipulator","endManipulator","cursorManipulator","_getSnappingContext","elevationInfo","offset","pointer","editGeometryOperations","visualizer","measurementView","_ensureSnappingManager","snappingStep","cancelSnapping","snappingManager","snappingContext","updatingHandles","action","mapEnd","_surfaceLocation","surfaceType","manipulators","finishToolCreation","activeTool","startPointAvailable","endPointAvailable","_snappingManager","validMeasurement","snappingOptions","options","updating","resetCreated","onShow","onHide","onDeactivate","cancel","onInputEvent","_handleImmediateClick","_handlePointerMove","navigating","pointerType","update","emit","screenPoint","stopPropagation","_getElevation","basemapTerrain","test","readOnly","tool","userOperation","_analysisVisualization","addResolvingPromise","_analysisController","directLabelText","horizontalLabelText","verticalLabelText","place","placementOptions","nonNullable","vertex","fragment","uniforms","attributes","varyings","main","sqrt","code","float","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag"],"sourceRoot":""}