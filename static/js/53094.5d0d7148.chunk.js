"use strict";(self.webpackChunksc_pier_workable=self.webpackChunksc_pier_workable||[]).push([[53094],{53094:(t,e,i)=>{i.r(e),i.d(e,{default:()=>k});var s=i(6326),r=i(50076),o=i(46053),a=(i(81806),i(76460),i(47249),i(87990)),l=i(49853);let n=class extends l.a{};n=(0,s.Cg)([(0,a.$)("esri.views.2d.analysis.AnalysisView2D")],n);var p=i(91967),u=i(73520);let c=class extends p.A{constructor(t){super(t)}initialize(){this.addHandles((0,u.V)({analysisViewData:this.analysisViewData,remove:()=>{},show:()=>{}}))}get updating(){return!1}};(0,s.Cg)([(0,o.MZ)({constructOnly:!0})],c.prototype,"view",void 0),(0,s.Cg)([(0,o.MZ)({constructOnly:!0})],c.prototype,"analysisViewData",void 0),(0,s.Cg)([(0,o.MZ)()],c.prototype,"updating",null),c=(0,s.Cg)([(0,a.$)("esri.views.2d.analysis.ElevationProfile.ElevationProfileInputVisualization2D")],c);var h=i(39356),y=i(59784),d=i(68134),g=i(79468),v=i(63733),w=i(89465),_=i(45564),C=i(55980);let m=class extends p.A{constructor(t){super(t),this._graphic=new h.A,this._layer=new v.A({listMode:"hide",internal:!0}),this._updateGeometryThrottled=(0,g.n)(t=>{if(!t)return void(this._graphic.visible=!1);const e=this._layer,i=this.view.map?.layers;i&&(i.includes(e)||i.add(e),i.reorder(e,0)),this._graphic.visible=!0,this._graphic.geometry=(0,C.T)(t.samples,t.spatialReference)},(0,_.zj)().profileLinesUpdateThrottleMillis)}initialize(){this._layer.add(this._graphic),this.addHandles([(0,d.z7)(()=>!this.analysisViewData.visible,()=>{this._graphic.visible=!1}),(0,d.wB)(()=>this._colorUpdateParameters,t=>this._updateColor(t),d.pc),(0,d.wB)(()=>this.analysisViewData.analysis.geometry,()=>{this._graphic.visible=!1},d.pc),(0,d.wB)(()=>this._geometryUpdateParameters,t=>this._updateGeometryThrottled(t),d.pc),this._updateGeometryThrottled])}destroy(){this.view.map?.remove(this._layer),this._layer.destroy(),this._graphic.destroy()}get updating(){return this._updateGeometryThrottled.hasPendingUpdates()}get _result(){const{analysisViewData:t}=this;return t.visible?t.results.find(t=>{let{available:e,computation:i,rawResult:s}=t;return e&&i.profile.viewOptions.lineVisible&&!0===s?.hasZ}):null}get _geometryUpdateParameters(){const t=this._result;return 1!==t?.progress?null:{samples:t.samples,spatialReference:this.view.spatialReference}}get _colorUpdateParameters(){const t=this._result?.computation.profile.color;return t?{color:t.toArray(),contrastColor:(0,y.bJ)(t).toArray()}:null}_updateColor(t){t&&(this._graphic.symbol=new w.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",capStyle:"Butt",color:t.color,effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[5,4],lineDashEnding:"FullGap",controlPointEnding:"NoConstraint"}],joinStyle:"Round",width:1.5},{type:"CIMSolidStroke",capStyle:"Butt",color:t.contrastColor,joinStyle:"Round",width:1.5}]}}}))}};(0,s.Cg)([(0,o.MZ)({constructOnly:!0})],m.prototype,"view",void 0),(0,s.Cg)([(0,o.MZ)({constructOnly:!0})],m.prototype,"analysisViewData",void 0),(0,s.Cg)([(0,o.MZ)()],m.prototype,"updating",null),(0,s.Cg)([(0,o.MZ)()],m.prototype,"_result",null),(0,s.Cg)([(0,o.MZ)()],m.prototype,"_geometryUpdateParameters",null),(0,s.Cg)([(0,o.MZ)()],m.prototype,"_colorUpdateParameters",null),m=(0,s.Cg)([(0,a.$)("esri.views.2d.analysis.ElevationProfile.ElevationProfileLineVisualization2D")],m);var M=i(94656);let f=class extends p.A{constructor(t){super(t)}initialize(){const{view:t,analysisViewData:e}=this;this._hoveredPointsVisualization=new M.n({view:t,analysisViewData:e}),this._inputVisualization=new c({view:t,analysisViewData:e}),this._lineVisualization=new m({view:t,analysisViewData:e})}destroy(){this._inputVisualization.destroy(),this._hoveredPointsVisualization.destroy(),this._lineVisualization.destroy()}get updating(){return this._hoveredPointsVisualization.updating||this._inputVisualization.updating||this._lineVisualization.updating}};(0,s.Cg)([(0,o.MZ)()],f.prototype,"view",void 0),(0,s.Cg)([(0,o.MZ)()],f.prototype,"analysisViewData",void 0),(0,s.Cg)([(0,o.MZ)()],f.prototype,"updating",null),f=(0,s.Cg)([(0,a.$)("esri.views.2d.analysis.ElevationProfile.ElevationProfileVisualization2D")],f);var V=i(43825),Z=i(82185),D=i(62068),b=i(49636),P=i(71143);let z=class extends n{constructor(t){super(t),this.type="elevation-profile-view-2d",this.analysis=null,this.hoveredPosition=null}initialize(){const{analysis:t,view:e}=this;this._controller=new V.V({analysis:t,analysisViewData:this,view:e,computationFactory:{create:t=>{switch(t.profile.type){case"ground":return new Z.R(t);case"input":return new D.o(t);case"query":return new b.s(t);case"scene":throw new r.A("elevation-profile-analysis-view-2d:unsupported","The scene profile line type is not supported in 2D views.")}}}}),this._visualization=new f({view:e,analysisViewData:this}),this._sketchTool=new P.R({view:e,analysisViewData:this})}destroy(){this._controller?.destroy(),this._visualization?.destroy(),this._sketchTool?.destroy()}get effectiveDisplayUnits(){return this._controller?.effectiveDisplayUnits??{distance:"meters",elevation:"meters"}}get error(){return this._controller?.error}get hoveredPoints(){return this._controller?.hoveredPoints??[]}get interactive(){return super.interactive}set interactive(t){super.interactive=t}get progress(){return this._controller?.progress??0}get results(){return this._controller?.results??[]}get statistics(){return this._controller?.statistics}get updating(){return!0===this._controller?.updating||!0===this._visualization?.updating||!0===this._sketchTool?.updating}get visible(){return super.visible}set visible(t){super.visible=t}get sketchGraphic(){return this._sketchTool?.sketchGraphic}get toolState(){return this._sketchTool?.state??"idle"}place(t){return this._sketchTool.place(t)}pickFeature(t){return this._sketchTool.pickFeature(t)}};(0,s.Cg)([(0,o.MZ)({readOnly:!0})],z.prototype,"type",void 0),(0,s.Cg)([(0,o.MZ)({constructOnly:!0,nonNullable:!0})],z.prototype,"analysis",void 0),(0,s.Cg)([(0,o.MZ)({readOnly:!0})],z.prototype,"effectiveDisplayUnits",null),(0,s.Cg)([(0,o.MZ)({readOnly:!0})],z.prototype,"error",null),(0,s.Cg)([(0,o.MZ)()],z.prototype,"hoveredPosition",void 0),(0,s.Cg)([(0,o.MZ)()],z.prototype,"hoveredPoints",null),(0,s.Cg)([(0,o.MZ)({readOnly:!0})],z.prototype,"progress",null),(0,s.Cg)([(0,o.MZ)({readOnly:!0})],z.prototype,"results",null),(0,s.Cg)([(0,o.MZ)({readOnly:!0})],z.prototype,"statistics",null),(0,s.Cg)([(0,o.MZ)({readOnly:!0})],z.prototype,"updating",null),(0,s.Cg)([(0,o.MZ)()],z.prototype,"sketchGraphic",null),(0,s.Cg)([(0,o.MZ)()],z.prototype,"toolState",null),(0,s.Cg)([(0,o.MZ)()],z.prototype,"_controller",void 0),(0,s.Cg)([(0,o.MZ)()],z.prototype,"_visualization",void 0),(0,s.Cg)([(0,o.MZ)()],z.prototype,"_sketchTool",void 0),z=(0,s.Cg)([(0,a.$)("esri.views.2d.analysis.ElevationProfileAnalysisView2D")],z);const k=z}}]);
//# sourceMappingURL=53094.5d0d7148.chunk.js.map