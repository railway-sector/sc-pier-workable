{"version":3,"file":"static/js/9740.d13cba5f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/StreamLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/StreamController.js","../node_modules/@arcgis/core/views/3d/layers/graphics/StreamGraphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js","../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/rest/support/AttributeBinsQuery.js","../node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js","../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/AttributeBinsGraphic.js","../node_modules/@arcgis/core/rest/support/AttributeBinsFeatureSet.js","../node_modules/@arcgis/core/layers/support/streamLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../layers/support/FeatureFilter.js\";const r=r=>{const i=r;let n=class extends i{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}disconnect(){this._doDisconnect()}connect(){this._doConnect()}clear(){this._doClear()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return(this._isUserPaused||this.suspended)&&\"connected\"===this._streamConnectionStatus?\"paused\":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return s([e()],n.prototype,\"_isUserPaused\",void 0),s([e({readOnly:!0})],n.prototype,\"connectionStatus\",null),s([e({type:o})],n.prototype,\"filter\",void 0),n=s([t(\"esri.views.layers.StreamLayerView\")],n),n};export{r as StreamLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function p(p,n=p.popupTemplate){if(null==n)return[];const u=await n.getRequiredFields(p.fieldsIndex),{lastEditInfoEnabled:t}=n,{objectIdField:d,typeIdField:a,globalIdField:i,relationships:o}=p;if(u.includes(\"*\"))return[\"*\"];const s=t?e(p):[],f=l(p.fieldsIndex,[...u,...s]);return a&&f.push(a),f&&d&&p.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&p.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),o?.forEach(e=>{const{keyField:l}=e;f&&l&&p.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)}),f}function n(e,l){return e&&\"object\"==typeof e?l?.checkPopupEnabled&&\"popupEnabled\"in e&&!e.popupEnabled?null:\"popupTemplate\"in e&&e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&\"defaultPopupTemplate\"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function u(e,l){return null!=n(e,{defaultPopupTemplateEnabled:l})}export{n as getFetchPopupTemplate,p as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";function e(e){const{objectIdField:i,uniqueIdFields:t}=e;return t?.length?t.length>=2?{type:\"unique-id-composite\",fieldNames:t}:{type:\"unique-id-simple\",fieldName:t[0]}:{type:\"object-id\",fieldName:i}}export{e as createFeatureIdInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Graphic.js\";import s from\"../../../../core/Accessor.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{destroyMaybe as i}from\"../../../../core/maybe.js\";import{EsriPromiseMixin as o}from\"../../../../core/Promise.js\";import{watch as a,initial as n}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{featureGeometryTypeKebabDictionary as p}from\"../../../../geometry/support/typeUtils.js\";import{StreamFeatureManager as h}from\"../../../../layers/graphics/data/StreamFeatureManager.js\";import{createConnection as l}from\"../../../../layers/graphics/sources/connections/createConnection.js\";import{EventedSet as u}from\"../../support/EventedSet.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";import{Yield as y}from\"../../../support/Yield.js\";const g=2500;let f=class extends t{constructor(e){super(e)}getObjectId(){return this.objectId}};e([c({type:Number,json:{read:!0}})],f.prototype,\"objectId\",void 0),f=e([d(\"esri.views.3d.layers.graphics.StreamController.StreamGraphic\")],f);class _{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=t.origin=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}const v=Symbol(\"startup-watches\"),R=Symbol(\"update-interval\");let j=class extends(o(s)){constructor(){super(...arguments),this.isPaused=!1,this.graphics=new u,this._updateInfo={websocket:0,client:0},this._updateRequested=!1,this._lastUpdateRateTime=0,this._outSpatialReference=null}initialize(){this.addResolvingPromise(this.layer.when(()=>this._startup()))}destroy(){this.clear()}clear(){this._shutdown(),this.graphics.clear()}get updating(){return!this.connection||this.readyToRun}get readyToRun(){return!this.isPaused&&null!=this.connection&&this._updateRequested}get _graphicOrigin(){return this.layer.graphicOrigin}runTask(){if(this._updateRequested=!1,this._emitUpdateRate(),!this.featuresManager.checkForUpdates())return y}_emitUpdateRate(){const e=performance.now(),t=e-this._lastUpdateRateTime;if(t<g)return;this._lastUpdateRateTime=e;const s=Math.round(this._updateInfo.client/(t/1e3)),r=Math.round(this._updateInfo.websocket/(t/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:s,websocket:r})}_shutdown(){this.connection=i(this.connection),this.store=i(this.store),this.removeAllHandles()}_startup(){const{layer:e,layerView:t}=this,{spatialReference:s,definitionExpression:i,geometryDefinition:o,timeInfo:c,purgeOptions:d,maxReconnectionAttempts:u,maxReconnectionInterval:y,customParameters:g}=e,f=e.geometryType?p.toJSON(e.geometryType):null,j=s,w=t.view.spatialReference,b={type:\"object-id\",fieldName:e.objectIdField};this.clear(),this._set(\"connection\",l(e.parsedUrl,j,w,f,i,o,u,y,g??void 0)),this._outSpatialReference=w.toJSON(),this.store=new _(this._onUpdate.bind(this)),this.featuresManager=new h(this.store,b,c.toJSON(),d),this.removeHandles(v),this.removeHandles(R),this.addHandles([e.on(\"send-message-to-socket\",e=>this.connection.sendMessageToSocket(e)),e.on(\"send-message-to-client\",e=>this.connection.sendMessageToClient(e)),this.connection.on(\"data-received\",e=>this._onFeature(e)),this.connection.on(\"message-received\",e=>this._onWebSocketMessage(e)),a(()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions],()=>this._startup()),a(()=>this.isPaused?null:this.layer.updateInterval,e=>{if(this.removeHandles(R),null==e)return;const t=setInterval(()=>{this._updateRequested=!0},e);this.addHandles(r(()=>clearInterval(t)),R)},n),this.layerView.view.resourceController.scheduler.registerTask(m.STREAM_CONTROLLER,this)],v),this._updateRequested=!0}_onWebSocketMessage(e){if(this.layerView.emit(\"message-received\",e),\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this.featuresManager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this.featuresManager.removeByTrackId(t);break;case\"clear\":this.store.forEach(e=>this.featuresManager.removeById(e.objectId))}}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{null==e.geometry||e.geometry.spatialReference||(e.geometry.spatialReference=this._outSpatialReference);const t=f.fromJSON(e);t.sourceLayer=t.layer=this.layer,t.origin=this._graphicOrigin,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){null!=t&&this.graphics.removeMany(t),null!=e&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}pauseStream(){this.isPaused=!0}resumeStream(){this.isPaused=!1}disconnect(){this._shutdown()}connect(){null==this.connection&&this._startup()}clearGraphics(){this.graphics.clear()}};e([c()],j.prototype,\"isPaused\",void 0),e([c({constructOnly:!0})],j.prototype,\"layer\",void 0),e([c({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([c()],j.prototype,\"connection\",void 0),e([c({readOnly:!0})],j.prototype,\"updating\",null),e([c()],j.prototype,\"readyToRun\",null),e([c()],j.prototype,\"_updateRequested\",void 0),e([c()],j.prototype,\"_graphicOrigin\",null),j=e([d(\"esri.views.3d.layers.graphics.StreamController\")],j);export{j as StreamController,f as StreamGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{Graphics3DGraphicsPipeline as t}from\"./Graphics3DGraphicsPipeline.js\";import{StreamController as s}from\"./StreamController.js\";let c=class extends t{constructor(r){super(r),this.suspendResumeExtentMode=\"computed\"}get connection(){return this.controller?.connection}createController(){return new s({layer:this.layer,layerView:this.layerView})}beforeSetController(){}pause(){this.controller?.pauseStream()}resume(){this.controller?.resumeStream()}disconnect(){this.controller?.disconnect()}connect(){this.controller?.connect()}clear(){this.controller?.clearGraphics()}};r([e()],c.prototype,\"controller\",void 0),r([e()],c.prototype,\"connection\",null),r([e()],c.prototype,\"suspendResumeExtentMode\",void 0),c=r([o(\"esri.views.3d.layers.graphics.StreamGraphics3DGraphicsPipeline\")],c);export{c as StreamGraphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../core/Error.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../rest/support/Query.js\";import{isNumber as a}from\"../../../support/guards.js\";import{FeatureLikeLayerView3D as n}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{StreamController as c}from\"./graphics/StreamController.js\";import{StreamGraphics3DGraphicsPipeline as l}from\"./graphics/StreamGraphics3DGraphicsPipeline.js\";import u from\"../../layers/LayerView.js\";import{StreamLayerView as h}from\"../../layers/StreamLayerView.js\";let m=class extends(h(n(p(u)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=0,this.hasZ=!0,this.hasM=!1,this.featureEffect=null}initialize(){this.addHandles(t(()=>this.suspended,e=>{this.graphicsPipeline&&this._onSuspendedChange(e)}))}get connectionError(){const e=this.graphicsPipeline?.connection?.errorString;return e?new r(\"stream-controller\",e):null}get graphicOrigin(){return this.layer.graphicOrigin}createQuery(){return new o({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(e,r){return this.graphicsPipeline.graphicsQuery.executeQueryForLatestObservations(this._ensureQuery(e),r?.signal)}async queryObjectIds(e,r){return(await super.queryObjectIds(e,r)).filter(a)}get _streamConnectionStatus(){return this.graphicsPipeline?.connection?.connectionStatus??\"disconnected\"}async createGraphicsPipeline(){return new l({layerView:this})}createController(){return new c({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.graphicsPipeline?.pause()}_doResume(){this.graphicsPipeline?.resume()}_doDisconnect(){this.graphicsPipeline?.disconnect(),this._doPause()}_doConnect(){this.graphicsPipeline?.connect(),this.resume()}_doClear(){this.graphicsPipeline?.clear()}};e([i({readOnly:!0})],m.prototype,\"updatePolicy\",void 0),e([i({readOnly:!0})],m.prototype,\"connectionError\",null),e([i()],m.prototype,\"graphicsPipeline\",void 0),e([i({readOnly:!0})],m.prototype,\"hasZ\",void 0),e([i({readOnly:!0})],m.prototype,\"hasM\",void 0),e([i()],m.prototype,\"featureEffect\",void 0),e([i()],m.prototype,\"graphicOrigin\",null),e([i({readOnly:!0})],m.prototype,\"_streamConnectionStatus\",null),m=e([s(\"esri.views.3d.layers.StreamLayerView3D\")],m);const y=m;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{offsetDate as n}from\"../core/timeUtils.js\";import i from\"../time/TimeExtent.js\";import{isWebMap as r}from\"../webmap/utils.js\";import{isWebScene as l}from\"../webscene/utils.js\";function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:e(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return i.allTime;await Promise.all(e.map(t=>t.load({signal:n})));const r=e.filter(s),l=e.filter(t=>!s(t)&&null!=t.visibilityTimeExtent);if(0===r.length&&0===l.length)return i.allTime;const u=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map(t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n}),...l.map(t=>t.visibilityTimeExtent)];if(a.some(m))return i.allTime;const f=u.map(async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i}),c=(await Promise.allSettled(f)).map(t=>\"fulfilled\"===t.status?t.value:null);if(c.some(m))return i.allTime;const d=[...c,...a].filter(t);if(0===d.length)return i.allTime;return d.reduce((t,e)=>t.union(e))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case\"time-window\":return new i({start:r,end:l});case\"cumulative-from-start\":return new i({start:null,end:s});case\"cumulative-from-end\":return new i({start:s,end:null});case\"instant\":return new i({start:s,end:s})}}async function c(t,e){if(!r(t)&&!l(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,-r.getTimezoneOffset(),\"minutes\"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,r.getTimezoneOffset(),\"minutes\"):r})}export{a as getTimeExtentFromLayers,c as getTimeSliderSettingsFromWebDocument,p as toLocalTimeExtent,d as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{ClonableMixin as t}from\"../../core/Clonable.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import i from\"../../core/Logger.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{ensureType as n}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as a}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import m from\"../../geometry/SpatialReference.js\";import{fromJSON as l}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as u}from\"../../geometry/support/typeUtils.js\";import{unitsKebabDict as d}from\"../../layers/graphics/data/queryUtils.js\";import c from\"./AutoIntervalBinParameters.js\";import y from\"./BinParametersBase.js\";import j from\"./DateBinParameters.js\";import f from\"./FixedBoundariesBinParameters.js\";import h from\"./FixedIntervalBinParameters.js\";import{QueryMixin as v}from\"./QueryMixin.js\";import{spatialRelKebabDict as w}from\"./spatialRelationships.js\";import S from\"./StatisticDefinition.js\";import g from\"../../time/TimeExtent.js\";import{isTimeZoneValid as b}from\"../../time/timeZoneUtils.js\";const B=new o({asc:\"ascending\",desc:\"descending\"}),R={base:y,key:\"type\",typeMap:{\"auto-interval\":c,date:j,\"fixed-boundaries\":f,\"fixed-interval\":h}};let T=class extends(v(t(r))){constructor(e){super(e),this.binParameters=null,this.binOrder=\"ascending\",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship=\"intersects\",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where=\"1=1\"}set outTimeZone(e){this._set(\"outTimeZone\",e),e&&!b(e)&&i.getLogger(this).warn(\"#outTimeZone\",`the parsed value '${e}' may not be a valid IANA time zone`)}};e([s({types:R,json:{name:\"bin\",write:!0}})],T.prototype,\"binParameters\",void 0),e([a(B)],T.prototype,\"binOrder\",void 0),e([s({type:Boolean,json:{write:!0}})],T.prototype,\"cacheHint\",void 0),e([s({json:{write:!0}})],T.prototype,\"datumTransformation\",void 0),e([s({type:m,json:{name:\"defaultSR\",write:!0}})],T.prototype,\"defaultSpatialReference\",void 0),e([s({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],T.prototype,\"distance\",void 0),e([s({types:u,json:{read:l,write:!0}})],T.prototype,\"geometry\",void 0),e([s({type:String,json:{write:!0}})],T.prototype,\"lowerBoundaryAlias\",void 0),e([s({type:m,json:{name:\"outSR\",write:!0}})],T.prototype,\"outSpatialReference\",void 0),e([s({type:[S],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],T.prototype,\"outStatistics\",void 0),e([s({value:null,json:{name:\"outTimeReference\",read:{reader:e=>e.ianaTimeZone},write:{writer:(e,t,o)=>{e&&(t[o]={ianaTimeZone:e})}}}})],T.prototype,\"outTimeZone\",null),e([s({type:Boolean,json:{write:!0}})],T.prototype,\"returnDistinctValues\",void 0),e([a(w,{name:\"spatialRel\"})],T.prototype,\"spatialRelationship\",void 0),e([s({type:g,json:{write:!0}})],T.prototype,\"timeExtent\",void 0),e([s({type:String,json:{write:!0}})],T.prototype,\"upperBoundaryAlias\",void 0),e([s({type:String,json:{read:d.read,write:{writer:d.write,overridePolicy(e){return{enabled:null!=e&&null!=this.distance}}}}})],T.prototype,\"units\",void 0),e([s({type:String,json:{write:!0}})],T.prototype,\"where\",void 0),T=e([p(\"esri.rest.support.AttributeBinsQuery\")],T),T.from=n(T);export{T as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import e from\"../../../core/Error.js\";import{clamp as s}from\"../../../core/mathUtils.js\";import{defaultStreamIdField as i,esriTimestamp as r,internalTimeReceivedField as o}from\"../../support/streamLayerUtils.js\";const d=1e3;class a{constructor(t,s,r,o,d=128){if(this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=r,this._purgeOptions=o,this.store=t,\"unique-id-composite\"===s.type)throw new e(\"stream-layer\",\"composite uniqueIds are not supported\");this.idField=s.fieldName,this.purgeInterval=d,this._useGeneratedIds=this.idField===i}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(e){if(this._useGeneratedIds){const t=this._nextId();e.attributes[this.idField]=t,e.objectId=t}else e.objectId=e.attributes[this.idField];const i=e.objectId;if(this._addOrUpdated.set(i,e),this._maxAge=Math.max(this._maxAge,e.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(i);const r=e.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(r)){const e=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:d,i=s(e,0,d);this._trackIdToObservations.set(r,new t(i))}const o=this._trackIdToObservations.get(r),a=o?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now(),i=s-this._lastPurge,d=Date.now();i>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const a=[];if(null!=e)for(const r of e){const t=this.store.removeById(r);null!=t&&a.push(t)}const n=[];if(null!=t){const i=new Set(e??[]);for(const e of t)i.has(e.objectId)||(e.attributes[r]=s,e.attributes[o]=d,this.store.add(e),n.push(e))}return!(!n.length&&!a?.length)&&(this.store.update(n,a),!0)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach(s=>t[e++]=s),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach(t=>{t.attributes[e]<i&&this._removed.push(t.objectId)})}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach(t=>{t.attributes[r]<s&&this._removed.push(t.objectId)})}_purgeTracks(){this._trackIdToObservations.forEach((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)})}}export{a as StreamFeatureManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}peekLast(){return 0===this.size?null:this._buffer[(this._start+(this.size-1))%this.maxSize]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import r from\"./Graphic.js\";import{ClonableMixin as s}from\"./core/Clonable.js\";import{clone as o}from\"./core/lang.js\";import{property as e}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import{subclass as c}from\"./core/accessorSupport/decorators/subclass.js\";var i;let a=class extends(s(r)){static{i=this}constructor(t){super(t),this.stackedAttributes=null}cloneShallow(){return new i(Object.assign({stackedAttributes:this.stackedAttributes},super.cloneShallow()))}toJSON(){return{...super.toJSON(),stackedAttributes:o(this.stackedAttributes)}}};t([e()],a.prototype,\"stackedAttributes\",void 0),a=i=t([c(\"esri.AttributeBinsGraphic\")],a);export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../AttributeBinsGraphic.js\";import{ClonableMixin as t}from\"../../core/Clonable.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"./FeatureSet.js\";let i=class extends(t(a)){constructor(r){super(r),this.features=[]}readFeatures(r,t){return this.readFeaturesWithClass(r,t,e)}};r([o({type:[e],json:{write:!0}})],i.prototype,\"features\",void 0),r([s(\"features\")],i.prototype,\"readFeatures\",null),i=r([p(\"esri.rest.support.AttributeBinsFeatureSet\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst _=\"__esri_stream_id__\",e=\"__esri_timestamp__\",r=\"__esri_track_part__\",i=\"__esri_time_received__\",t=\"__esri_track_line__\";export{_ as defaultStreamIdField,e as esriTimestamp,t as externalTrackLineOidPrefix,i as internalTimeReceivedField,r as internalTrackPartField};\n"],"names":["r","i","n","resume","this","_isUserPaused","suspended","_doResume","pause","_doPause","disconnect","_doDisconnect","connect","_doConnect","clear","_doClear","constructor","super","arguments","filter","connectionStatus","_streamConnectionStatus","_onSuspendedChange","s","e","prototype","readOnly","type","o","t","async","p","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","d","typeIdField","a","globalIdField","relationships","includes","f","l","push","has","forEach","keyField","checkPopupEnabled","popupEnabled","defaultPopupTemplateEnabled","defaultPopupTemplate","uniqueIdFields","fieldNames","fieldName","getObjectId","objectId","c","Number","json","read","_","onUpdate","_idToGraphic","Map","destroy","add","set","get","removeById","sourceLayer","layer","origin","delete","update","size","v","Symbol","R","j","isPaused","graphics","_updateInfo","websocket","client","_updateRequested","_lastUpdateRateTime","_outSpatialReference","initialize","addResolvingPromise","when","_startup","_shutdown","updating","connection","readyToRun","_graphicOrigin","graphicOrigin","runTask","_emitUpdateRate","featuresManager","checkForUpdates","y","performance","now","Math","round","layerView","emit","store","removeAllHandles","spatialReference","definitionExpression","geometryDefinition","timeInfo","purgeOptions","maxReconnectionAttempts","maxReconnectionInterval","customParameters","g","geometryType","toJSON","w","view","b","_set","parsedUrl","_onUpdate","bind","h","removeHandles","addHandles","on","sendMessageToSocket","sendMessageToClient","_onFeature","_onWebSocketMessage","updateInterval","setInterval","clearInterval","resourceController","scheduler","registerTask","m","STREAM_CONTROLLER","objectIds","trackIds","removeByTrackId","hasEventListener","attributes","centroid","geometry","fromJSON","removeMany","addMany","pauseStream","resumeStream","clearGraphics","constructOnly","suspendResumeExtentMode","controller","createController","beforeSetController","updatePolicy","hasZ","hasM","featureEffect","graphicsPipeline","connectionError","errorString","createQuery","outFields","returnGeometry","outSpatialReference","queryLatestObservations","graphicsQuery","executeQueryForLatestObservations","_ensureQuery","signal","queryObjectIds","createGraphicsPipeline","datesInUnknownTimezone","timeOffset","useViewTime","timeExtent","start","end","getTimezoneOffset","intersection","isEmpty","isAllTime","offset","value","unit","equals","B","asc","desc","base","key","typeMap","date","T","binParameters","binOrder","cacheHint","datumTransformation","defaultSpatialReference","distance","lowerBoundaryAlias","outStatistics","returnDistinctValues","spatialRelationship","upperBoundaryAlias","units","where","outTimeZone","getLogger","warn","types","name","write","Boolean","overridePolicy","enabled","String","S","reader","ianaTimeZone","writer","from","_trackIdToObservations","_idCounter","_lastPurge","_addOrUpdated","_removed","_maxAge","_timeInfo","_purgeOptions","idField","purgeInterval","_useGeneratedIds","entries","_nextId","max","startTimeField","trackIdField","_trackIdLessObservations","enqueue","maxObservations","_getToAdd","_getToRemove","Date","_purge","Set","Array","_purgeSomeByDisplayCount","_purgeByAge","_purgeByAgeReceived","_purgeTracks","displayCount","values","dequeue","age","ageReceived","_start","maxSize","_buffer","peek","peekLast","find","stackedAttributes","cloneShallow","Object","assign","features","readFeatures","readFeaturesWithClass"],"sourceRoot":""}