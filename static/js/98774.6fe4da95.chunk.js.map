{"version":3,"file":"static/js/98774.6fe4da95.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DrapedSubView3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/layers/SubView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{If as n,glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as m}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{NoParameters as c}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";class u extends c{}function w(c){const u=new p,{vertex:w,fragment:b,varyings:f}=u,{output:h,perspectiveInterpolation:j}=c;return a(w,c),u.include(i,c),u.include(s,c),u.fragment.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(m.POSITION,\"vec3\"),u.attributes.add(m.UV0,\"vec2\"),j&&u.attributes.add(m.PERSPECTIVEDIVIDE,\"float\"),w.main.add(d`\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${n(j,\"gl_Position *= perspectiveDivide;\")}`),f.add(\"vpos\",\"vec3\",{invariant:!0}),f.add(\"vTexCoord\",\"vec2\"),b.include(t),b.uniforms.add(new l(\"opacity\",(e=>e.opacity)),new g(\"tex\",(e=>e.glTexture))).main.add(d`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${n(h===e.ObjectAndLayerIdColor,\"fragColor = vec4(0, 0, 0, 1); return;\")}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),u}const b=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:u,build:w},Symbol.toStringTag,{value:\"Module\"}));export{b as I,u as a,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{oitPolygonOffset as l,getDrawBuffers as s,depthWrite as n,oitDepthTest as o,oitBlending as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as c,stencilWriteMaskOn as u}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as d}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,defaultColorWrite as f,cullingParams as g,premultipliedAlpha as P}from\"../../../webgl/renderState.js\";class j extends r{constructor(e,r){super(e,r,new t(d,(()=>import(\"./ImageMaterial.glsl.js\"))),I)}_getPipelineState(t,r){const{oitPass:m,output:d,hasOccludees:j,cullFace:I}=t,S=m===i.NONE;return h({blending:e(d)?S?P:a(m):null,culling:g(I),depthTest:{func:o(m)},depthWrite:n(t),drawBuffers:s(m,d),colorWrite:f,stencilWrite:j?u:null,stencilTest:j?r?p:c:null,polygonOffset:l(t)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const I=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{j as ImageMaterialTechnique,I as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(e){super(),this.draped=e,this.cullFace=i.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1,this.snowCover=!1}}e([r({count:i.COUNT})],a.prototype,\"cullFace\",void 0),e([r()],a.prototype,\"enableOffset\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0),e([r()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import s from\"../lib/GLMaterial.js\";import{isUpdatableTexture as a}from\"../lib/ITexture.js\";import{MaterialParameters as o}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{assert as p}from\"../lib/Util.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as c}from\"./DefaultBufferWriter.js\";import{PositionUvLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as f}from\"./TriangleMaterial.js\";import{writeBufferFloat as m,writeDefaultAttribute as g}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as d,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as I}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class _ extends f{constructor(e){super(e,x),this.vertexAttributeLocations=d,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,e=>t(e)],[u.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._configuration=new I(e.draped)}dispose(){this.setParameters({texture:void 0})}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<n,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new b(e)}createBufferWriter(){let e=h;return this.parameters.perspectiveInterpolation&&(e=e.clone().f32(l.PERSPECTIVEDIVIDE)),new E(e)}}class b extends s{constructor(e){super({...e,...e.material.parameters}),this.parameters=e;const t=this._material.parameters.texture;a(t)&&e.textures.updater.add(t)}dispose(){this.parameters.textures.updater.remove(this._material.parameters.texture)}beginSlot(e){return this.getTechnique(T,e)}}class E extends c{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===l.PERSPECTIVEDIVIDE){p(1===s.size);const t=a.getField(n,e);t&&m(s,t,o)}else g(n,s,t,r,a,o)}return null}}class x extends o{constructor(e,t){super(),this.texture=e,this.draped=t,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}get glTexture(){return this.texture.glTexture}}export{_ as ImageMaterial,x as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{abortMaybe as s}from\"../../../core/maybe.js\";import{isAbortError as o,onAbort as n,throwIfAborted as l,isAborted as h,createAbortError as m}from\"../../../core/promiseUtils.js\";import{whenOnce as g}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../geometry/Extent.js\";import{create as p,equals as f,width as y,height as x,copy as w,intersection as _}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as b}from\"./interfaces.js\";import R from\"./SubView3D.js\";import{computeImageExportSize as E,createGeometryForExtent as v,createOuterImageGeometry as j}from\"./support/overlayImageUtils.js\";import{debugFlags as S}from\"../support/debugFlags.js\";import{OverlayIndex as A}from\"../terrain/interfaces.js\";import{DirtyOperation as I}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as M}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as T}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as D}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as G}from\"../webgl-engine/materials/ImageMaterial.js\";import{TextureWrapMode as P}from\"../../webgl/enums.js\";let C=class extends R{constructor(e){super(e),this.drapeSourceType=b.RasterImage,this.updatePolicy=D.SYNC,this.type=\"draped\",this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this._drapeSourceRenderer=null}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))))}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}destroy(){this.clear()}get spatialReference(){return this._spatialReference}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,O);if(null==r)return;const i=E(e.extent,r,e.resolution);let s=e.pixelRatio*this.view.state.pixelRatio;const{layer:n}=this;if(\"imageMaxWidth\"in n&&null!=n.imageMaxWidth||\"imageMaxHeight\"in n&&null!=n.imageMaxHeight){const e=n.imageMaxWidth,t=n.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,s*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,s*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:p(r),imageSize:i,pixelRatio:s},this.suspended||this._fetch(t).catch((e=>{o(e)||a.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(e){const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new u(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=y(e)/this.maximumDataResolution.x,a=x(e)/this.maximumDataResolution.y,s=i/t.width,o=a/t.height,n=i/r.width,l=a/r.height,h=Math.abs(s-n),m=Math.abs(o-l),g=S.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=g&&m<=g}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:p(i)});const g=this._images[e];g.loadingAbortController=s(g.loadingAbortController);const d=new u(i[0],i[1],i[2],i[3],this._spatialReference);if(0===d.width||0===d.height)return void this._clearImage(e);const c=new AbortController;g.loadingAbortController=c,n(t,(()=>c.abort()));const f=c.signal,y=this._waitFetchReady(f).then((async()=>{l(f);const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.layerView.getFetchOptions(),signal:f},{height:i,width:a}=r.imageSize;return this.layer?\"imagery\"===this.layer.type?this.layer.internalFetchImage(d,a,i,t):this.layer.fetchImage(d,a,i,t):null})).then((e=>{if(h(f))throw a.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(g,e)})).then((()=>{w(g.renderExtent,i)}));g.loadingPromise=y,await this.updatingHandles.addPromise(y.then((async()=>{l(f),await this._createStageObjects(e,g.image,f)})).catch((e=>{throw e&&!o(e)&&a.getLogger(this).error(e),e})).finally((()=>{y===g.loadingPromise&&(g.loadingPromise=null,g.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],I.UPDATE),t.renderGeometry=null);const e=this.view.stage,r=t.texture;r?.unload(),e.removeTexture(r),t.texture=null,t.material=null,t.loadingAbortController=s(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const a=this.view.stage,s=this._images[e],o=()=>{s.texture?.unload(),a.removeTexture(s.texture),s.texture=null,s.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([s.renderGeometry],I.UPDATE),s.renderGeometry=null)};if(t){const n=new T(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:P.CLAMP_TO_EDGE,t:P.CLAMP_TO_EDGE}});if(await r(this._images[e===A.INNER?A.OUTER:A.INNER].loadingPromise),l(i),o(),await a.schedule((()=>n.load(a.renderView.renderingContext)),i),!n.loaded)return void o();let h;if(a.addTexture(n),s.texture=n,s.material??=new G({draped:!0,texture:n}),s.material.setParameters({texture:n}),e===A.INNER)h=v(s.material,s.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void o();h=j(s.material,e,s.renderExtent)}s.renderGeometry=new M(h),s.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([s.renderGeometry],I.UPDATE)}else o(),s.material=null}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return w(t,e);const r=this.view.basemapTerrain;return r.ready?_(e,r.extent,t):w(t,e)}async _waitFetchReady(e){await g((()=>this.view.stationary),e),l(e)}};e([d()],C.prototype,\"type\",void 0),C=e([c(\"esri.views.3d.layers.DrapedSubView3D\")],C);const O=p();export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Material as i}from\"../lib/Material.js\";import{intersectTriangleGeometry as p}from\"../lib/RayIntersections.js\";class r extends i{constructor(){super(...arguments),this._pp0=t(0,0,1),this._pp1=t(0,0,0)}intersect(t,i,r,s,e,o){return p(t,r,s,e,void 0,o)}intersectDraped(t,i,r,s){return this._pp0[0]=this._pp1[0]=r[0],this._pp0[1]=this._pp1[1]=r[1],p(t,i,this._pp0,this._pp1,void 0,s)}}export{r as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as s}from\"../../../core/support/UpdatingHandles.js\";let p=class extends r{constructor(e){super(e),this.updatingHandles=new s}destroy(){this.updatingHandles.destroy()}get updating(){return this.updatingHandles.updating}get layer(){return this.layerView.layer}get view(){return this.layerView.view}get suspended(){return this.layerView.suspended}get fullOpacity(){return this.layerView.fullOpacity}};e([t({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([t({readOnly:!0})],p.prototype,\"updatingHandles\",void 0),e([t()],p.prototype,\"updating\",null),e([t()],p.prototype,\"layer\",null),e([t()],p.prototype,\"view\",null),e([t()],p.prototype,\"suspended\",null),e([t()],p.prototype,\"fullOpacity\",null),p=e([o(\"esri.views.3d.layers.SubView3D\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const I=e().vec3f(O.POSITION),c=e().vec3f(O.POSITION).vec2f16(O.UV0),f=e().vec3f(O.POSITION).vec4u8(O.COLOR),v=e().vec3f(O.POSITION).vec2f16(O.UV0).vec4u8(O.OLIDCOLOR),t=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OLIDCOLOR);export{f as PositionColorLayout,I as PositionLayout,c as PositionUvLayout,v as PositionUvOlidLayout,t as PositionUvf32Layout,r as PositionUvf32OlidLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import s from\"../../../core/Logger.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{debounce as i,isAbortError as r}from\"../../../core/promiseUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./DrapedSubView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import l from\"../../layers/LayerView.js\";import d from\"../../layers/RefreshableLayerView.js\";import{isInEffectiveScaleRange as c}from\"../../support/layerViewUtils.js\";import{projectWithZConversionSilent as u}from\"../../support/projectionUtils.js\";let h=class extends(d(p(l))){constructor(){super(...arguments),this.fullExtentInLocalViewSpatialReference=null,this.refreshDebounced=i((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{r(e)||s.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,s=\"effectiveScaleRange\"in e?e.effectiveScaleRange:null;return c(s,this.view.scale)}isUpdating(){return super.isUpdating()||this.subView?.updating}initialize(){this._initSubView(),\"local\"===this.view.viewingMode&&this.addResolvingPromise((async()=>this.fullExtentInLocalViewSpatialReference=await u(this.layer.fullExtent,this.view.spatialReference))()),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.subView=t(this.subView)}_initSubView(){this.subView=new n({layerView:this})}async doRefresh(){return this._doRefresh()}async _doRefresh(e){this.suspended||await this.subView.doRefresh(e)}getFetchOptions(){}_suspendedChangeHandler(){this.suspended?this.subView.clear():this.refreshDebounced()}get test(){}};e([o()],h.prototype,\"layer\",void 0),e([o()],h.prototype,\"suspended\",void 0),e([o()],h.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([o({readOnly:!0})],h.prototype,\"visibleAtCurrentScale\",null),e([o()],h.prototype,\"updating\",void 0),e([o()],h.prototype,\"subView\",void 0),h=e([a(\"esri.views.3d.layers.DynamicLayerView3D\")],h);export{h as default};\n"],"names":["i","a","initialize","this","addHandles","o","layer","r","doRefresh","dataChanged","catch","s","e","getLogger","error","t","u","c","w","p","vertex","fragment","b","varyings","f","output","h","perspectiveInterpolation","j","include","v","attributes","add","m","POSITION","UV0","PERSPECTIVEDIVIDE","main","d","n","invariant","uniforms","l","opacity","g","glTexture","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","ImageMaterialPassParameters","build","Symbol","toStringTag","value","constructor","super","I","_getPipelineState","oitPass","hasOccludees","cullFace","S","NONE","blending","P","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","Map","draped","None","enableOffset","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","snowCover","count","COUNT","prototype","_","x","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","_configuration","dispose","setParameters","texture","getConfiguration","hasSlicePlane","camera","relativeElevation","visible","createGLMaterial","createBufferWriter","clone","f32","E","material","_material","textures","updater","remove","beginSlot","getTechnique","T","write","vertexBufferLayout","fields","keys","get","size","getField","Math","min","max","y","Array","A","M","O","G","length","NORMAL","C","R","drapeSourceType","RasterImage","updatePolicy","D","SYNC","type","maximumDataResolution","_images","_extents","_overlays","_drapeSourceRenderer","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","unregisterDrapeSource","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","destroy","clear","spatialReference","_clippedExtent","extent","width","height","round","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","suspended","_fetch","_clearImage","push","Promise","allSettled","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","redraw","async","_createStageObjects","abs","TESTS_DISABLE_OPTIMIZATIONS","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","then","requestAsImageElement","layerView","getFetchOptions","internalFetchImage","fetchImage","warnOnce","updatingHandles","addPromise","finally","removeGeometries","UPDATE","stage","unload","removeTexture","preMultiplyAlpha","wrap","CLAMP_TO_EDGE","INNER","OUTER","schedule","load","renderView","renderingContext","loaded","addTexture","localOrigin","renderLocalOrigin","addGeometries","viewingMode","ready","stationary","arguments","_pp0","_pp1","intersect","intersectDraped","updating","fullOpacity","constructOnly","readOnly","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","vec3f","vec2f16","vec4u8","COLOR","OLIDCOLOR","vec2f","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","_updatingHandles","parent","when","name","id","title","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","isUpdating","updatingProgress","updateSuspended","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","effectiveScaleRange","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean","fullExtentInLocalViewSpatialReference","refreshDebounced","_doRefresh","scale","subView","_initSubView","fullExtent","_suspendedChangeHandler","test"],"sourceRoot":""}