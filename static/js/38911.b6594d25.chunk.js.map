{"version":3,"file":"static/js/38911.b6594d25.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/MeshTransform.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{ClonableMixin as o}from\"../../core/Clonable.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromRotationTranslationScale as i,invert as a,exactEquals as l}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{setAxisAngle as p}from\"../../core/libs/gl-matrix-2/math/quat.js\";import{create as m}from\"../../core/libs/gl-matrix-2/factories/quatf64.js\";import{create as c,fromArray as u,fromValues as f,clone as h}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromAxisAndAngle as x,angle as g,angleRad as j,axis as b,up as y}from\"./axisAngleDegrees.js\";let d=class extends(o(r)){constructor(t){super(t),this.translation=c(),this.rotationAxis=u(y),this.rotationAngle=0,this.scale=f(1,1,1)}get rotation(){return x(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=h(b(t)),this.rotationAngle=g(t)}get localMatrix(){const t=n();return p(A,b(this.rotation),j(this.rotation)),i(t,A,this.translation,this.scale),t}get localMatrixInverse(){return a(n(),this.localMatrix)}equals(t){return this===t||null!=t&&l(this.localMatrix,t.localMatrix)}};t([e({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,\"translation\",void 0),t([e({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,\"rotationAxis\",void 0),t([e({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,\"rotationAngle\",void 0),t([e({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,\"scale\",void 0),t([e()],d.prototype,\"rotation\",null),t([e()],d.prototype,\"localMatrix\",null),t([e()],d.prototype,\"localMatrixInverse\",null),d=t([s(\"esri.geometry.support.MeshTransform\")],d);const A=m();export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as s}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as o,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projectionUtils.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(e,t,r){const{geometry:s}=t,i={...t.attributes};if(null!=r&&\"mesh\"===s?.type){const{transformFieldRoles:t}=r,{origin:c,spatialReference:p,vertexSpace:m}=s,f=s.transform??new u,g=\"local\"===m.type,b=e.spatialReference,y=b.isGeographic,R=d(b,p),h=o(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[t.originX]=I.x,i[t.originY]=I.y,i[t.originZ]=I.z??0,null!=f){const{translation:e,scale:r,rotation:s}=f,o=g?1:a(p)/a(b);i[t.translationX]=e[0]*o,i[t.translationY]=e[2]*o,i[t.translationZ]=-e[1]*o,i[t.scaleX]=r[0],i[t.scaleY]=r[2],i[t.scaleZ]=r[1],i[t.rotationX]=s[0],i[t.rotationY]=s[2],i[t.rotationZ]=-s[1],i[t.rotationDeg]=s[3]}return{attributes:i}}return null==s?{attributes:i}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:i}}async function f(e,t){const r=await Promise.all((t.addAttachments??[]).map(t=>g(e,t))),a=await Promise.all((t.updateAttachments??[]).map(t=>g(e,t))),s=t.deleteAttachments??[];return r.length||a.length||s.length?{adds:r,updates:a,deletes:[...s]}:null}async function g(e,t){const{feature:r,attachment:a}=t,{globalId:o,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:o};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[e.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const e=await s(i);e&&(d.contentType=e.mediaType,d.data=e.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(e,t,r){if(!t||0===t.length)return[];if(r&&c(t))return t.map(e=>e.globalId);if(p(t))return t.map(e=>e.objectId);const a=r?e.globalIdField:e.objectIdField;return a?t.map(e=>e.getAttribute(a)):[]}function y(e){const t=e?.assetMaps;if(t){for(const e of t.addResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of t.updateResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const a=e?.attachments,s={addFeatureResults:e?.addResults?.map(R)??[],updateFeatureResults:e?.updateResults?.map(R)??[],deleteFeatureResults:e?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return e?.editMoment&&(s.editMoment=e.editMoment),s}function R(e){const r=!0===e.success?null:e.error||{code:void 0,description:\"Feature edit failed\"};return{objectId:e.objectId,globalId:e.globalId,error:r?new t(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(t,r){return new e({attributes:t.attributes,geometry:i({...t.geometry,spatialReference:r})})}function I(e,t){return{adds:e?.adds?.map(e=>h(e,t))||[],updates:e?.updates?.map(e=>({original:h(e[0],t),current:h(e[1],t)}))||[],deletes:e?.deletes?.map(e=>h(e,t))||[],spatialReference:t}}function j(e){const t=e.details.raw,r=+t.code,a=+t.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then(t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)});const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter(e=>!e.error).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter(e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8);if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach(e=>T(e,t))}u.addFeatures.forEach(t=>O(t,e,p,c)),u.updateFeatures.forEach(t=>k(t,e,p,c)),u.deleteFeatures.forEach(t=>U(t,e,p,c)),u.addAttachments.forEach(t=>L(t,e)),u.updateAttachments.forEach(t=>L(t,e)),l&&await x(u,e);return{edits:await B(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function B(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map(e=>e.geometry),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach((e,a)=>t[a].geometry=e),s.slice(i,i+n).forEach((e,t)=>a[t].geometry=e),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!(e&&(s||i)||r?.usingTelecomOperations))throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,B as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n"],"names":["d","o","r","constructor","t","super","this","translation","c","rotationAxis","u","y","rotationAngle","scale","f","rotation","x","h","b","g","localMatrix","n","p","A","j","i","localMatrixInverse","a","equals","l","e","type","Number","nonNullable","json","write","prototype","s","m","async","geometry","attributes","transformFieldRoles","origin","spatialReference","vertexSpace","transform","isGeographic","R","I","originX","originY","originZ","z","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","Promise","all","addAttachments","map","updateAttachments","deleteAttachments","length","adds","updates","deletes","feature","attachment","globalId","name","contentType","data","uploadId","parentGlobalId","globalIdField","mediaType","File","objectId","objectIdField","getAttribute","assetMaps","addResults","success","getLogger","error","updateResults","attachments","addFeatureResults","updateFeatureResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","editMoment","code","description","original","current","details","raw","extendedCode","w","applyEdits","F","every","v","$","arguments","undefined","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","load","layer","options","addFeatures","updateFeatures","deleteFeatures","infoFor3D","usingTelecomOperations","editing","supportsGlobalId","globalIdUsed","usingFeatureServiceEndpoint","V","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","M","addAssetFeatures","G","fields","filter","forEach","T","O","supportsGeometryUpdate","k","U","L","push","B","S","E","exceededTransferLimit","historicMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","MAX_SAFE_INTEGER","hasZ","capabilities","supportsZ","hasM","supportsM","wkid","supportsUploadWithItemId","isBase64","concat","slice","q","uploadAssets"],"sourceRoot":""}