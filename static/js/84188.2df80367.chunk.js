"use strict";(self.webpackChunksc_pier_workable=self.webpackChunksc_pier_workable||[]).push([[84188],{62315:(e,t,s)=>{s.d(t,{A:()=>h});var i=s(6326),r=s(69098),l=s(73582),a=s(42553),n=s(30726),o=s(46053),d=s(21403),u=(s(81806),s(47249),s(87990)),p=s(40565),y=s(19247);let c=class extends((0,r.OU)(a.o)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&this.width===e.width&&this.height===e.height&&(0,n.CM)(this.position,e.position)}};(0,i.Cg)([(0,o.MZ)({type:["plane"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0),(0,i.Cg)([(0,o.MZ)({type:y.A,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,d.w)(e=>l.ie.normalize((0,p.GB)(e),0,!0))],c.prototype,"heading",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,d.w)(e=>l.ie.normalize((0,p.GB)(e),0,!0))],c.prototype,"tilt",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],c.prototype,"width",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],c.prototype,"height",void 0),c=(0,i.Cg)([(0,u.$)("esri.analysis.SlicePlane")],c);const h=c},84188:(e,t,s)=>{s.d(t,{default:()=>w});var i=s(6326),r=s(95085),l=s(62315),a=s(42553),n=s(46053),o=(s(81806),s(76460),s(47249),s(87990));let d=class extends a.o{constructor(e){super(e),this.layerId=""}static fromLayer(e){return new this({layerId:"building-component"===e.type?e.layer.id:e.id,sublayerId:"building-component"===e.type?e.id:void 0})}};(0,i.Cg)([(0,n.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"layerId",void 0),(0,i.Cg)([(0,n.MZ)({type:Number,json:{write:!0}})],d.prototype,"sublayerId",void 0),d=(0,i.Cg)([(0,o.$)("esri.analysis.support.SliceAnalysisExcludedLayer")],d);var u=s(19276),p=s(3975),y=s(53084),c=s(30726),h=s(28379),g=s(17707);let b=class extends r.A{constructor(e){super(e),this.type="slice",this.tiltEnabled=!1,this.shape=null,this.excludeGroundSurface=!1}get excludedLayers(){return this._get("excludedLayers")||new u.A}set excludedLayers(e){this._set("excludedLayers",(0,p.V)(e,this._get("excludedLayers")))}writeExcludedLayers(e,t,s,i){0!==e.length&&(t[s]=e.toArray().map(e=>d.fromLayer(e).toJSON(i)))}readExcludedLayers(e,t,s){const i=s?.initiator;i&&s?.hooks?.onAfterLoad(async()=>{for(const t of e){const{layerId:e,sublayerId:r}=d.fromJSON(t,s),l=i.allLayers.find(t=>{let{id:s}=t;return s===e});if(l)if(null!=r&&"allSublayers"in l){await l.load();const e=l.allSublayers.find(e=>{let{id:t}=e;return t===r});e&&"type"in e&&"building-component"===e.type&&this.excludedLayers.add(e)}else this.excludedLayers.add(l)}})}get valid(){return null!=this.shape?.position}equals(e){return this===e||super.equals(e)&&(0,c.CM)(this.shape,e.shape)&&this.tiltEnabled===e.tiltEnabled&&(0,y.gh)(this.excludedLayers.toArray(),e.excludedLayers.toArray())&&this.excludeGroundSurface===e.excludeGroundSurface}clear(){this.shape=null}};(0,i.Cg)([(0,n.MZ)({type:["slice"],json:{read:!1,write:{isRequired:!0}}})],b.prototype,"type",void 0),(0,i.Cg)([(0,n.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!1}})],b.prototype,"tiltEnabled",void 0),(0,i.Cg)([(0,n.MZ)({types:{key:"type",base:null,typeMap:{plane:l.A},defaultKeyValue:"plane"},json:{write:{isRequired:!0}}})],b.prototype,"shape",void 0),(0,i.Cg)([(0,n.MZ)({cast:p.H,clonable:e=>e.slice(),json:{type:[d],write:!0}})],b.prototype,"excludedLayers",null),(0,i.Cg)([(0,g.K)("excludedLayers")],b.prototype,"writeExcludedLayers",null),(0,i.Cg)([(0,h.w)("excludedLayers")],b.prototype,"readExcludedLayers",null),(0,i.Cg)([(0,n.MZ)({type:Boolean,nonNullable:!0,json:{write:!0}})],b.prototype,"excludeGroundSurface",void 0),(0,i.Cg)([(0,n.MZ)({readOnly:!0})],b.prototype,"valid",null),b=(0,i.Cg)([(0,o.$)("esri.analysis.SliceAnalysis")],b);const w=b},95085:(e,t,s)=>{s.d(t,{A:()=>y});var i=s(6326),r=s(92229),l=s(91967),a=s(69098),n=s(5632),o=s(42553),d=s(46053),u=(s(81806),s(76460),s(47249),s(87990));let p=0,y=class extends((0,o.T)((0,a.OU)((0,n.sA)(l.A)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${p++}`,this.origin=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":case"viewshed":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}equals(e){return!0}};(0,i.Cg)([(0,d.MZ)({type:String,constructOnly:!0,clonable:!1})],y.prototype,"id",void 0),(0,i.Cg)([(0,d.MZ)({clonable:!1,value:null})],y.prototype,"parent",null),(0,i.Cg)([(0,d.MZ)({types:{key:"type",base:null,typeMap:{"web-scene":r.A}}})],y.prototype,"origin",void 0),y=(0,i.Cg)([(0,u.$)("esri.analysis.Analysis")],y)}}]);
//# sourceMappingURL=84188.2df80367.chunk.js.map