{"version":3,"file":"static/js/53046.18b738e6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/support/FrustumExtentIntersection.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","../node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{invert as i}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as n,h as o,E as s,t as a,j as c,f as l}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as d}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBoundingRect as _}from\"../../../geometry/projection/projectBoundingRect.js\";import{projectVectorToVector as m}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as g,create as x,expandWithVec3 as f}from\"../../../geometry/support/aaBoundingBox.js\";import{center as u,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{fromPoints as j,create as R}from\"../../../geometry/support/lineSegment.js\";import{create as b,fromVectorsAndPoint as S,copy as B,negate as C,signedDistance as H}from\"../../../geometry/support/plane.js\";import{wrap as w}from\"../../../geometry/support/ray.js\";import{frustumLineSegment as M}from\"./intersectionUtils.js\";const A=.5*Math.PI,E=A/Math.PI*180;class G{constructor(t){this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()},this._renderCoordsHelper=t.renderCoordsHelper;for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=b();this._planes[4]=b(),this._planes[5]=b(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),S(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}S(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[4]),r?C(this._planes[4],this._planes[5]):(B(this._planes[5],this._planes[4]),C(this._planes[4],this._planes[4])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*h(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(1===this._renderCoordsHelper.viewingMode){const i=this._maxSpanSpatialReference.isGeographic?E:A*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(w(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(w(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(j(e.origin,e.cap.next,k),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(M(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;u(t,v),v[2]=n,d(r,v,F,this._renderCoordsHelper.spatialReference),i(I,F),g(V);for(const{x0:i,x1:s,y0:c,y1:l}of U)for(let p=0;p<o;p++){const h=p/(o-1);v[0]=e(t[i],t[s],h),v[1]=e(t[c],t[l],h),v[2]=n,m(v,r,v,this._renderCoordsHelper.spatialReference),a(v,v,I),f(V,v)}c(this._extent[0].origin,V[0],V[1],V[2]),c(this._extent[1].origin,V[3],V[1],V[2]),c(this._extent[2].origin,V[3],V[4],V[2]),c(this._extent[3].origin,V[0],V[4],V[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,F)}_toRenderBoundingExtentLocal(t,e,i){_(t,e,P,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,P[0],P[1],i),c(this._extent[1].origin,P[2],P[1],i),c(this._extent[2].origin,P[2],P[3],i),c(this._extent[3].origin,P[0],P[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case 1:this._toRenderBoundingExtentGlobal(e,i,r);break;case 2:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(H(t.planes[4],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(H(t.planes[4],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const U=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],v=p(),F=r(),I=r(),V=x(),P=y(),k=R();export{G as FrustumExtentIntersection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{watch as s,sync as i,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as a}from\"../../../../geometry/ellipsoidUtils.js\";import{FrustumExtentIntersection as p}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as c}from\"../../../support/Scheduler.js\";import{Yield as l}from\"../../../support/Yield.js\";const h=1.2;let u=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new p({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,n=t.basemapTerrain,o=t.resourceController.scheduler;this.addHandles([t.on(\"resize\",()=>this._viewChange()),s(()=>t.state.camera,()=>this._viewChange(),i),o.registerTask(c.FRUSTUM_VISIBILITY,this),s(()=>n.visibleElevationBounds,()=>this._elevationBoundsChange())]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this.addHandles([s(()=>[n.baseOpacity,n.wireframe,t.map?.ground?.navigationConstraint?.type],()=>this._updateIsVisibleBelowSurface(),r)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*a(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(h-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get readyToRun(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),l;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=a(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};e([n({readOnly:!0})],u.prototype,\"suspended\",void 0),e([n({constructOnly:!0})],u.prototype,\"graphicsCoreOwner\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],u);export{u as Graphics3DFrustumVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import{EventEmitter as i}from\"../../../../core/Evented.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as o}from\"./ExtentSet.js\";import{TaskPriority as n}from\"../../../support/Scheduler.js\";let h=class extends e{constructor(t){super(t),this._dirtyExtents=new o,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const t=this.elevationProvider,e=this.graphicsCoreOwner.view.resourceController.scheduler;this._task=e.registerTask(p(this.graphicsCore.layer.elevationInfo?.mode),this),this.addHandles([t.on(\"elevation-change\",t=>this._elevationChanged(t)),r(()=>this.graphicsCoreOwner.suspended,()=>this._suspendedChange()),this._task,r(()=>p(this.graphicsCore.layer.elevationInfo?.mode),t=>this._task.priority=t)])}destroy(){this._dirtyGraphicsSet.clear(),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null,this._dirtyExtents.destroy()}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.readyToRun}get readyToRun(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(t){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,t.madeProgress()),t.run(()=>this._dirtyExtents.merge(t));this.readyToRun&&!t.done;)this._updateDirtyGraphics(t),this._updateDirtyExtents(t);this.notifyChange(\"updating\")}_updateDirtyGraphics(t){const e=this.graphicsCoreOwner.view.renderCoordsHelper,i=0===this.graphicsCore.effectiveUpdatePolicy;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),null!=s&&(s.alignWithElevation(this.elevationProvider,e,i),this.graphicsCore.deconflictor?.setDirty(),t.madeProgress()),t.done)return}}_updateDirtyExtents(t){for(;!this._dirtyExtents.empty&&!t.done;){const e=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(e,i,t=>{const e=this.graphicsCore.getGraphics3DGraphicById(t);null!=e&&e.needsElevationUpdates()&&this._dirtyGraphicsSet.add(t)}),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,t.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach((t,e)=>this._dirtyGraphicsSet.add(e))}_elevationChanged(t){if(\"scene\"===t.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const e=t.extent;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const t=this.graphicsCore.computedExtent;t&&e[2]>t.xmin&&e[0]<t.xmax&&e[3]>t.ymin&&e[1]<t.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",t)}else e[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(e),this.notifyChange(\"updating\")}};function p(t){return null==t?n.ELEVATION_ALIGNMENT:\"relative-to-scene\"===t?n.ELEVATION_ALIGNMENT_SCENE:n.ELEVATION_ALIGNMENT}t([s()],h.prototype,\"graphicsCoreOwner\",void 0),t([s()],h.prototype,\"graphicsCore\",void 0),t([s()],h.prototype,\"queryGraphicUIDsInExtent\",void 0),t([s()],h.prototype,\"elevationProvider\",void 0),t([s({readOnly:!0})],h.prototype,\"updating\",null),t([s({readOnly:!0})],h.prototype,\"updatingRemaining\",null),h=t([a(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],h);export{h as Graphics3DElevationAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{RenderingInfo as t}from\"./RenderingInfo.js\";import{getVisualVariableValues as o}from\"../visualVariables/support/visualVariableUtils.js\";function i(e,t){if(null!=e.symbol)return e.symbol;const o=t?.renderer;return null!=o&&\"dot-density\"!==o.type?o.getSymbol(e,t):null}function r(e,r){const l=i(e,r);if(null==l)return null;const n=r?.renderer,a=new t(n,l);if(null==n||!(\"visualVariables\"in n)||!n.visualVariables)return a;const s=o(n,e,r)??[],u=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:t,value:o}of s)if(null!=o||\"size\"===t.type&&t.useSymbolValue)switch(t.type){case\"color\":a.color=o?.toRgba();break;case\"size\":if(\"outline\"===t.target)a.outlineSize=o;else{const e=t.axis,i=t.useSymbolValue?\"symbol-value\":o??\"proportional\";switch(e){case\"width\":u[0]=i;break;case\"depth\":u[1]=i;break;case\"height\":u[2]=i;break;case\"width-and-depth\":u[0]=u[1]=i;break;default:u[0]=u[1]=u[2]=i}}break;case\"opacity\":a.opacity=o;break;case\"rotation\":switch(t.axis){case\"tilt\":a.tilt=o;break;case\"roll\":a.roll=o;break;default:a.heading=o}}return\"proportional\"===u[0]&&\"proportional\"===u[1]&&\"proportional\"===u[2]||(a.size=u),a}async function l(e,t){return null!=e.symbol?e.symbol:t?.renderer?.getSymbolAsync(e,t)??null}async function n(i,r){const n=await l(i,r);if(!n)return null;const a=r?.renderer,s=new t(a,n);if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return s;const u=o(a,i,r)??[],p=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:t,value:o}of u)if(\"color\"===t.type)s.color=e.toUnitRGBA(o);else if(\"size\"===t.type)if(\"outline\"===t.target)s.outlineSize=o;else{const e=t.axis,i=t.useSymbolValue?\"symbol-value\":o;\"width\"===e?p[0]=i:\"depth\"===e?p[1]=i:\"height\"===e?p[2]=i:p[0]=p[1]=\"width-and-depth\"===e?i:p[2]=i}else\"opacity\"===t.type?s.opacity=o:\"rotation\"===t.type&&\"tilt\"===t.axis?s.tilt=o:\"rotation\"===t.type&&\"roll\"===t.axis?s.roll=o:\"rotation\"===t.type&&(s.heading=o);return(isFinite(p[0])||isFinite(p[1])||isFinite(p[2]))&&(s.size=p),s}function a(e,t=0){const o=e[t];return\"number\"==typeof o&&isFinite(o)?o:null}function s(e){for(let t=0;t<3;t++){const o=e[t];if(\"number\"==typeof o)return isFinite(o)?o:0}return 0}export{a as getDriverAxisSizeValue,s as getDriverAxisSizeValueAny,r as getRenderingInfo,n as getRenderingInfoAsync,l as getSymbolAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{}class t extends e{constructor(e,t){super(),this.objectStateId=e,this.object=t}remove(){this.object.removeStateID(this.objectStateId)}}class s extends e{constructor(e,t,s){super(),this.objectStateId=e,this.object=t,this.owner=s}remove(){this.owner.removeRenderGeometryObjectState(this.object,this.objectStateId)}}class o extends e{constructor(e,t){super(),this.objectStateId=e,this._removeCallback=t,this.object=null}remove(){this._removeCallback(this.objectStateId)}}class r{constructor(){this._items=[]}addObject(e,s){this._items.push(new t(s,e))}addRenderGeometry(e,t,o){this._items.push(new s(t,e,o))}addExternal(e,t){this._items.push(new o(t,e))}remove(e){this._remove(t=>t.objectStateId===e)}removeByObject(e){this._remove(t=>t.object===e)}removeAll(){this._items.forEach(e=>e.remove()),this._items=[]}_remove(e){const{_items:t}=this;for(let s=t.length-1;s>=0;--s){const o=t[s];e(o)&&(o.remove(),t.splice(s,1))}}}class c extends r{constructor(){super(...arguments),this.stateType=1}}class i extends r{constructor(e){super(),this.highlightName=e,this.stateType=0}}export{i as Object3DHighlightStateSet,c as Object3DOccludeeStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Object3DOccludeeStateSet as t,Object3DHighlightStateSet as e}from\"../../webgl-engine/lib/Object3DStateSet.js\";class s{constructor(t){this.objectIdField=t,this.ids=new Set,this.paused=!1}hasGraphic(t){const e=this.objectIdField?t.graphic.attributes[this.objectIdField]:t.graphic.uid;return this.ids.has(e)}}class i extends s{constructor(e){super(e),this.stateType=1,this.objectStateSet=new t}}class c extends s{constructor(t,s){super(s),this.highlightName=t,this.stateType=0,this.objectStateSet=new e(t)}}export{c as Graphics3DObjectHighlightStateSet,i as Graphics3DOccludeeStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{Graphics3DOccludeeStateSet as e,Graphics3DObjectHighlightStateSet as s}from\"./Graphics3DObjectStateSet.js\";class a{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach(t=>t.objectStateSet.removeAll()),this._stateSets.length=0)}acquireOccludeeSet(s){const a=new e(s);this._stateSets.push(a);const i=t(()=>this.releaseSet(a));return{set:a,handle:i}}acquireHighlightSet(e,a){const i=new s(e,a);this._stateSets.push(i);const c=t(()=>this.releaseSet(i));return{set:i,handle:c}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&s.addObjectStateSet(t.objectStateSet)}setUids(t,e){e.forEach(e=>this.setUid(t,e))}setObjectIds(t,e){e.forEach(e=>t.ids.add(e)),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach(e=>{!e.paused&&e.hasGraphic(t)&&t.addObjectStateSet(e.objectStateSet)})}removeGraphic(t){this._stateSets.forEach(e=>{e.hasGraphic(t)&&t.removeObjectState(e.objectStateSet)})}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach(t=>t.objectStateSet.removeAll())}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach(e=>{e&&t.hasGraphic(e)&&e.addObjectStateSet(t.objectStateSet)}):t.ids.forEach(s=>{const a=e.get(s);a&&a.addObjectStateSet(t.objectStateSet)})}get test(){}}export{a as Graphics3DObjectStates};\n"],"names":["A","Math","PI","E","G","constructor","t","this","_extent","Array","_planes","_maxSpan","_center","origin","p","direction","_renderCoordsHelper","renderCoordsHelper","e","cap","next","b","_planesWithoutFar","slice","update","i","r","arguments","length","undefined","a","_toRenderBoundingExtent","n","o","worldUpAtPosition","s","S","C","B","max","abs","_maxSpanSpatialReference","_minGlobalAltitude","h","radius","isVisibleInFrustum","viewingMode","isGeographic","altitude","_isVisibleInFrustumGlobal","intersectsRay","w","intersectsLineSegment","j","k","lines","M","endpoint","_toRenderBoundingExtentGlobal","u","v","d","F","spatialReference","I","g","V","x0","x1","y0","c","y1","l","U","m","f","_toRenderBoundingExtentLocal","_","P","H","planes","x","y","R","super","suspended","_extentIntersectionDirty","_isVisibleBelowSurfaceInternal","graphicsCoreOwner","updating","initialize","_extentIntersection","view","basemapTerrain","resourceController","scheduler","addHandles","on","_viewChange","state","camera","registerTask","FRUSTUM_VISIBILITY","visibleElevationBounds","_elevationBoundsChange","_isVisibleBelowSurface","baseOpacity","wireframe","map","ground","navigationConstraint","type","_updateIsVisibleBelowSurface","destroy","_set","_setDirty","setExtent","opaque","_updateExtentIntersection","min","readyToRun","runTask","frustum","madeProgress","readOnly","prototype","constructOnly","_dirtyExtents","_globalDirty","_averageExtentUpdateSize","_dirtyGraphicsSet","Set","_updateElevation","graphicsCore","events","elevationProvider","_task","layer","elevationInfo","mode","_elevationChanged","_suspendedChange","priority","clear","queryGraphicUIDsInExtent","notifyChange","elevationInfoChange","size","empty","updatingRemaining","_markAllGraphicsElevationDirty","run","merge","done","_updateDirtyGraphics","_updateDirtyExtents","effectiveUpdatePolicy","keys","getGraphics3DGraphicById","delete","alignWithElevation","deconflictor","setDirty","pop","emit","extent","needsElevationUpdates","add","graphics3DGraphics","forEach","context","computedExtent","xmin","xmax","ymin","ymax","ELEVATION_ALIGNMENT","ELEVATION_ALIGNMENT_SCENE","symbol","renderer","getSymbol","visualVariables","variable","value","useSymbolValue","color","toRgba","target","outlineSize","axis","opacity","tilt","roll","heading","async","getSymbolAsync","toUnitRGBA","isFinite","objectStateId","object","remove","removeStateID","owner","removeRenderGeometryObjectState","_removeCallback","_items","addObject","push","addRenderGeometry","addExternal","_remove","removeByObject","removeAll","splice","stateType","highlightName","objectIdField","ids","paused","hasGraphic","graphic","attributes","uid","has","objectStateSet","_graphicsCore","_stateSets","reset","acquireOccludeeSet","releaseSet","set","handle","acquireHighlightSet","indexOf","setUid","get","addObjectStateSet","setUids","setObjectIds","_initializeSet","addGraphic","removeGraphic","removeObjectState","allGraphicsDeleted","test"],"sourceRoot":""}