{"version":3,"file":"static/js/67554.ba0f3994.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/networks/CircuitManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../core/Error.js\";import{JSONSupport as i}from\"../core/JSONSupport.js\";import{watch as r}from\"../core/reactiveUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import c from\"../layers/FeatureLayer.js\";import{emitApplyEditsEvent as n}from\"../layers/mixins/EditBusLayer.js\";import a from\"./UtilityNetwork.js\";import l from\"./support/Circuit.js\";import{isVersionInEditSession as u,currentSessionId as d,isSafeToEditVersion as m}from\"../versionManagement/support/versionManagementUtils.js\";let h=class extends i{constructor(e){super(e),this._circuitTable=null,this._circuitSectionTable=null,this._subcircuitTable=null,this.telecomDomainNetwork=null,this.utilityNetwork=null}initialize(){this.addHandles([r(()=>[this.gdbVersion,this.historicMoment],()=>{this._setLayerVersionAndMoment(this._circuitTable),this._setLayerVersionAndMoment(this._circuitSectionTable),this._setLayerVersionAndMoment(this._subcircuitTable)})])}get _circuitTableUrl(){if(null==this.telecomDomainNetwork)return null;const e=this.telecomDomainNetwork.circuitSources?.find(e=>\"esriUNFCUTCircuit\"===e.utilityNetworkFeatureClassUsageType)?.layerId??null;return null==e?null:`${this.featureServiceUrl}/${e}`}get _circuitSectionTableUrl(){if(null==this.telecomDomainNetwork)return null;const e=this.telecomDomainNetwork.circuitSources?.find(e=>\"esriUNFCUTCircuitSection\"===e.utilityNetworkFeatureClassUsageType)?.layerId??null;return null==e?null:`${this.featureServiceUrl}/${e}`}get _subcircuitTableUrl(){if(null==this.telecomDomainNetwork)return null;const e=this.telecomDomainNetwork.circuitSources?.find(e=>\"esriUNFCUTSubcircuit\"===e.utilityNetworkFeatureClassUsageType)?.layerId??null;return null==e?null:`${this.featureServiceUrl}/${e}`}get networkServiceUrl(){return this.utilityNetwork?.networkServiceUrl??null}get featureServiceUrl(){return this.utilityNetwork?.featureServiceUrl??null}get gdbVersion(){return this.utilityNetwork?.gdbVersion??null}get historicMoment(){return this.utilityNetwork?.historicMoment??null}get telecomDomainNetworkName(){return this.telecomDomainNetwork?.domainNetworkName??null}get circuitTable(){if(null!=this._circuitTable)return this._circuitTable;if(null==this._circuitTableUrl)throw new t(\"circuit-manager:missing-circuit-table-url\",\"Unable to load the circuit table; cannot get layer url from `telecomDomainNetwork.\",\"Ensure `telecomDomainNetwork` was provided to the circuit manager.\");return this._circuitTable=new c({url:this._circuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitTable}get circuitSectionTable(){if(null!=this._circuitSectionTable)return this._circuitSectionTable;if(null==this._circuitSectionTableUrl)throw new t(\"circuit-manager:missing-circuit-section-table-url\",\"Unable to load the circuit section table; cannot get layer url from `telecomDomainNetwork.\",\"Ensure `telecomDomainNetwork` was provided to the circuit manager.\");return this._circuitSectionTable=new c({url:this._circuitSectionTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitSectionTable}get subcircuitTable(){if(null!=this._subcircuitTable)return this._subcircuitTable;if(null==this._subcircuitTableUrl)throw new t(\"circuit-manager:missing-subcircuit-table-url\",\"Unable to load the subcircuit table; cannot get layer url from `telecomDomainNetwork.\",\"Ensure `telecomDomainNetwork` was provided to the circuit manager.\");return this._subcircuitTable=new c({url:this._subcircuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._subcircuitTable}async loadCircuitTable(){return this.circuitTable.load()}async loadCircuitSectionTable(){return this.circuitSectionTable.load()}async loadSubcircuitTable(){return this.subcircuitTable.load()}getCircuit(e,t=!1){return new l({circuitManager:this,name:e,sections:t?new Map:null})}async create(e){const[{createCircuit:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/createCircuit.js\"),import(\"../rest/networks/circuits/support/CreateAlterCircuitParameters.js\")]),r=i.from({circuit:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(r.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):r.sessionId=null,r.gdbVersion=this.gdbVersion;const s=n(this.featureServiceUrl,null,this.gdbVersion,!1),o=await t(this.networkServiceUrl,r);e.circuitManager=this,s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:o.exceededTransferLimit,historicMoment:o.moment,editedFeatures:o.serviceEdits||void 0})}async alter(e){if(null==e.globalId)throw new t(\"circuit-manager:alter-without-globalid\",\"A circuit being altered must have a globalId\",\"To ensure the circuit has a globalId, query the circuit first\");const[{alterCircuit:i},{default:r}]=await Promise.all([import(\"../rest/networks/circuits/alterCircuit.js\"),import(\"../rest/networks/circuits/support/CreateAlterCircuitParameters.js\")]),s=r.from({circuit:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionId=null,s.gdbVersion=this.gdbVersion;const o=n(this.featureServiceUrl,null,this.gdbVersion,!1),c=await i(this.networkServiceUrl,s);e.circuitManager=this,o.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:c.exceededTransferLimit,historicMoment:c.moment,editedFeatures:c.serviceEdits||void 0})}async delete(e){const[{deleteCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/deleteCircuits.js\"),import(\"../rest/networks/circuits/support/DeleteCircuitsParameters.js\")]),r=i.from({circuits:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(r.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):r.sessionId=null,r.gdbVersion=this.gdbVersion;const s=n(this.featureServiceUrl,null,this.gdbVersion,!1),o=await t(this.networkServiceUrl,r);s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:o.exceededTransferLimit,historicMoment:o.moment,editedFeatures:o.serviceEdits||void 0})}async export(e){const[{exportCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/exportCircuits.js\"),import(\"../rest/networks/circuits/support/ExportCircuitsParameters.js\")]),r=i.from(e);u(this.featureServiceUrl,this.gdbVersion||null)?(r.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):r.sessionId=null,r.domainNetworkName=this.telecomDomainNetworkName,r.gdbVersion=this.gdbVersion,r.moment=this.historicMoment;const s=n(this.featureServiceUrl,null,this.gdbVersion,!1),o=await t(this.networkServiceUrl,r);return s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:o.exceededTransferLimit,historicMoment:o.moment,editedFeatures:o.serviceEdits||void 0}),o.circuits}async verify(e,t=!1){const[{verifyCircuits:i},{default:r}]=await Promise.all([import(\"../rest/networks/circuits/verifyCircuits.js\"),import(\"../rest/networks/circuits/support/VerifyCircuitsParameters.js\")]),s=r.from({circuits:e,synthesizeGeometries:t,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionId=null,s.gdbVersion=this.gdbVersion;const o=n(this.featureServiceUrl,null,this.gdbVersion,!1),c=await i(this.networkServiceUrl,s);return o.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:c.exceededTransferLimit,historicMoment:c.moment,editedFeatures:c.serviceEdits||void 0}),c.circuits}async queryCircuits(e){const[{queryCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/queryCircuits.js\"),import(\"../rest/networks/circuits/support/QueryCircuitsParameters.js\")]),r=Array.isArray(e)?{circuits:e}:e,s=i.from(r);u(this.featureServiceUrl,this.gdbVersion||null)?s.sessionId=d:s.sessionId=null,s.domainNetworkName=this.telecomDomainNetworkName,s.resultTypes=[\"circuit\"],s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment;const o=await t(this.networkServiceUrl,s);return o.circuits?.forEach(e=>e.circuitManager=this),o.circuits||[]}async queryCircuitNames(e){const[{queryCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/queryCircuits.js\"),import(\"../rest/networks/circuits/support/QueryCircuitsParameters.js\")]),r=i.from(e);u(this.featureServiceUrl,this.gdbVersion||null)?r.sessionId=d:r.sessionId=null,r.domainNetworkName=this.telecomDomainNetworkName,r.resultTypes=[\"name\"],r.gdbVersion=this.gdbVersion,r.moment=this.historicMoment;return(await t(this.networkServiceUrl,r)).circuitNames||[]}_setLayerVersionAndMoment(e){null!=e&&(e.gdbVersion!==this.gdbVersion&&(e.gdbVersion=this.gdbVersion),e.historicMoment!==this.historicMoment&&(e.historicMoment=this.historicMoment))}};e([s()],h.prototype,\"_circuitTable\",void 0),e([s()],h.prototype,\"_circuitSectionTable\",void 0),e([s()],h.prototype,\"_subcircuitTable\",void 0),e([s({constructOnly:!0})],h.prototype,\"telecomDomainNetwork\",void 0),e([s({type:a,constructOnly:!0})],h.prototype,\"utilityNetwork\",void 0),e([s()],h.prototype,\"networkServiceUrl\",null),e([s()],h.prototype,\"featureServiceUrl\",null),e([s()],h.prototype,\"gdbVersion\",null),e([s()],h.prototype,\"historicMoment\",null),e([s()],h.prototype,\"telecomDomainNetworkName\",null),e([s()],h.prototype,\"circuitTable\",null),e([s()],h.prototype,\"circuitSectionTable\",null),e([s()],h.prototype,\"subcircuitTable\",null),h=e([o(\"esri.networks.CircuitManager\")],h);const b=h;export{b as default};\n"],"names":["h","i","constructor","e","super","this","_circuitTable","_circuitSectionTable","_subcircuitTable","telecomDomainNetwork","utilityNetwork","initialize","addHandles","r","gdbVersion","historicMoment","_setLayerVersionAndMoment","_circuitTableUrl","circuitSources","find","utilityNetworkFeatureClassUsageType","layerId","featureServiceUrl","_circuitSectionTableUrl","_subcircuitTableUrl","networkServiceUrl","telecomDomainNetworkName","domainNetworkName","circuitTable","t","c","url","circuitSectionTable","subcircuitTable","loadCircuitTable","load","loadCircuitSectionTable","loadSubcircuitTable","getCircuit","arguments","length","undefined","l","circuitManager","name","sections","Map","create","createCircuit","default","Promise","all","from","circuit","u","sessionId","d","m","s","n","o","resolve","edits","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","exceededTransferLimit","moment","editedFeatures","serviceEdits","alter","globalId","alterCircuit","delete","deleteCircuits","circuits","export","exportCircuits","verify","verifyCircuits","synthesizeGeometries","queryCircuits","Array","isArray","resultTypes","forEach","queryCircuitNames","circuitNames","prototype","constructOnly","type","a","b"],"sourceRoot":""}