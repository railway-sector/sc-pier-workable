{"version":3,"file":"static/js/1307.d9d7063e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlinePathTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserlineTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/laserlines/LaserLineRenderer.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/chunks/Laserlines.glsl.js","../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as e,e as t}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newDoubleArray as s}from\"../../../../../geometry/support/DoubleArray.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{newLayout as i}from\"../../../support/buffer/InterleavedLayout.js\";import{VertexArrayObject as f}from\"../../lib/VertexArrayObject.js\";import{PrimitiveType as n}from\"../../../../webgl/enums.js\";import{VertexBuffer as u}from\"../../../../webgl/VertexBuffer.js\";class a{constructor(e){this._renderCoordsHelper=e,this._origin=r(),this._dirty=!1,this._count=0}set vertices(e){const t=s(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);e(this._origin,t[r],t[r+1],t[r+2])}else e(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(n.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}get _layout(){return 1===this._renderCoordsHelper.viewingMode?_:d}_ensureVAO(e){return null==this._buffers?null:(this._vao??=this._createVAO(e,this._buffers),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new f(e,new u(e,o(this._layout),r))}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.buffer()?.setData(r),this._dirty=!1}_createDataBuffer(r){const s=r.reduce((e,t)=>e+l(t),0);this._count=s;const o=this._layout.createBuffer(s),i=this._origin;let f=0,n=0;const u=\"startUp\"in o?this._setUpVectors.bind(this,o):void 0;for(const a of r){for(let r=0;r<a.length;r+=3){const s=e(h,a[r],a[r+1],a[r+2]);0===r?n=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,n);const l=f+2*r;u?.(r,l,a,s);const c=t(h,s,i);if(r<a.length-3){for(let e=0;e<6;e++)o.start.setVec(l+e,c);o.extrude.setValues(l,0,-1),o.extrude.setValues(l+1,1,-1),o.extrude.setValues(l+2,1,1),o.extrude.setValues(l+3,0,-1),o.extrude.setValues(l+4,1,1),o.extrude.setValues(l+5,0,1)}if(r>0)for(let e=-6;e<0;e++)o.end.setVec(l+e,c)}f+=l(a)}return o.buffer}_setUpVectors(e,t,r,s,o){const i=this._renderCoordsHelper.worldUpAtPosition(o,c);if(t<s.length-3)for(let f=0;f<6;f++)e.startUp.setVec(r+f,i);if(t>0)for(let f=-6;f<0;f++)e.endUp.setVec(r+f,i)}}function l(e){return 3*(2*(e.length/3-1))}const c=r(),h=r(),_=i().vec3f(\"start\").vec3f(\"end\").vec2f(\"extrude\").vec3f(\"startUp\").vec3f(\"endUp\"),d=i().vec3f(\"start\").vec3f(\"end\").vec2f(\"extrude\");export{a as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{fromValues as t,create as s}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as r}from\"../../../../../geometry/support/lineSegment.js\";import{ReloadableShaderModule as i}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Pos2Locations as l}from\"../../lib/DefaultVertexBufferLayouts.js\";import{L as a}from\"../../../../../chunks/Laserlines.glsl.js\";import{NoParameters as n}from\"../../../../webgl/NoParameters.js\";class h extends n{constructor(){super(...arguments),this.innerColor=t(1,1,1),this.innerWidth=1,this.glowColor=t(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=e(6),this.pointDistanceOrigin=s(),this.pointDistanceTarget=s(),this.lineVerticalPlaneSegment=r(),this.intersectsLineSegment=r(),this.intersectsLineRadius=3,this.heightManifoldTarget=s(),this.lineStartWorld=s(),this.lineEndWorld=s()}}class m extends o{constructor(e,t){super(e,t,new i(a,()=>import(\"../../shaders/Laserlines.glsl.js\")),l)}}export{h as LaserlinePassParameters,m as LaserlineTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ReloadableShaderModule as r}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{LaserlinePassParameters as o}from\"./LaserlineTechnique.js\";import{L as t}from\"../../../../../chunks/LaserlinePath.glsl.js\";class a extends o{constructor(){super(...arguments),this.origin=e()}}class i extends s{constructor(e,s){super(e,s,new r(t,()=>import(\"../../shaders/LaserlinePath.glsl.js\")),n)}}const n=new Map([[\"start\",0],[\"end\",1],[\"extrude\",2],[\"startUp\",3],[\"endUp\",4]]);export{a as LaserlinePathPassParameters,i as LaserlinePathTechnique,n as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{ShaderTechniqueConfiguration as r,parameter as t}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class e extends r{constructor(){super(...arguments),this.contrastControlEnabled=!1,this.spherical=!1}}o([t()],e.prototype,\"contrastControlEnabled\",void 0),o([t()],e.prototype,\"spherical\",void 0);export{e as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{parameter as i}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{LaserlinePathTechniqueConfiguration as t}from\"./LaserlinePathTechniqueConfiguration.js\";class n extends t{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1}}e([i()],n.prototype,\"heightManifoldEnabled\",void 0),e([i()],n.prototype,\"pointDistanceEnabled\",void 0),e([i()],n.prototype,\"lineVerticalPlaneEnabled\",void 0),e([i()],n.prototype,\"intersectsLineEnabled\",void 0);export{n as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../../../../core/has.js\";import{disposeMaybe as t}from\"../../../../../core/maybe.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{d as s,g as r}from\"../../../../../chunks/vec32.js\";import{fromRay as a,create as o,getStart as l,getEnd as h}from\"../../../../../geometry/support/clipRay.js\";import{intersectClipRay as c}from\"../../../../../geometry/support/frustum.js\";import{copy as d}from\"../../../../../geometry/support/lineSegment.js\";import{wrap as p}from\"../../../../../geometry/support/ray.js\";import{InternalRenderCategory as u}from\"../../../webgl.js\";import m from\"../../../webgl/RenderNode.js\";import{Blit as g}from\"../blit/Blit.js\";import{LaserlinePathData as _}from\"./LaserlinePathData.js\";import{LaserlinePathPassParameters as b,LaserlinePathTechnique as f}from\"./LaserlinePathTechnique.js\";import{LaserlinePathTechniqueConfiguration as P}from\"./LaserlinePathTechniqueConfiguration.js\";import{LaserlineTechnique as E}from\"./LaserlineTechnique.js\";import{LaserlineTechniqueConfiguration as q}from\"./LaserlineTechniqueConfiguration.js\";import{updateParameters as L}from\"../../materials/internal/MaterialUtil.js\";let V=class extends m{constructor(e){super(e),this.isDecoration=!0,this.produces=u.LASERLINES,this.consumes={required:[u.LASERLINES,\"normals\"]},this.requireGeometryDepth=!0,this._configuration=new q,this._pathTechniqueConfiguration=new P,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._passParameters=new b;const t=e.view.stage.renderView.techniques,i=new P;i.contrastControlEnabled=e.contrastControlEnabled,t.precompile(f,i)}initialize(){this._passParameters.renderCoordsHelper=this.view.renderCoordsHelper,this._pathTechniqueConfiguration.spherical=1===this.view.state.viewingMode,this._pathTechniqueConfiguration.contrastControlEnabled=this.contrastControlEnabled,this._techniques.precompile(f,this._pathTechniqueConfiguration),this._blit=new g(this._techniques,2)}destroy(){this._pathVerticalPlaneData=t(this._pathVerticalPlaneData),this._blit=null}get _techniques(){return this.view.stage.renderView.techniques}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this.requestRender(1))}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){s(this._passParameters.heightManifoldTarget,e),this.requestRender(1)}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this.requestRender(1))}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){s(this._passParameters.pointDistanceTarget,e),this.requestRender(1)}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){s(this._passParameters.pointDistanceOrigin,e),this.requestRender(1)}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this.requestRender(1))}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){d(e,this._passParameters.lineVerticalPlaneSegment),this.requestRender(1)}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this.requestRender(1))}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){d(e,this._passParameters.intersectsLineSegment),this.requestRender(1)}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this.requestRender(1))}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this.requestRender(1))}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this.requestRender(1)}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new _(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this.requestRender(1)}setParameters(e){L(this._passParameters,e)&&this.requestRender(1)}precompile(){this._acquireTechnique()}render(e){const t=e.find(({name:e})=>e===this.produces);if(this.isDecoration&&!this.bindParameters.decorations||null==this._blit)return t;const i=this.renderingContext,n=e.find(({name:e})=>\"normals\"===e);this._passParameters.normals=n?.getTexture();const s=()=>{(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(),this.pathVerticalPlaneEnabled&&this._renderPath()};if(!this.contrastControlEnabled)return i.bindFramebuffer(t.fbo),s(),t;this._passParameters.colors=t.getTexture();const r=this.fboCache.acquire(t.fbo.width,t.fbo.height,\"laser lines\");return i.bindFramebuffer(r.fbo),i.setClearColor(0,0,0,0),i.clear(16640),s(),i.unbindTexture(t.getTexture()),this._blit.blend(i,r,t,this.bindParameters)||this.requestRender(1),r.release(),t}_acquireTechnique(){return this._configuration.heightManifoldEnabled=this.heightManifoldEnabled,this._configuration.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._configuration.pointDistanceEnabled=this.pointDistanceEnabled,this._configuration.intersectsLineEnabled=this.intersectsLineEnabled,this._configuration.contrastControlEnabled=this.contrastControlEnabled,this._configuration.spherical=1===this.view.state.viewingMode,this._techniques.get(E,this._configuration)}_renderUnified(){if(!this._updatePassParameters())return;const e=this._acquireTechnique();if(e.compiled){const t=this.renderingContext;t.bindTechnique(e,this.bindParameters,this._passParameters),t.screen.draw()}else this.requestRender(1)}_renderPath(){if(null==this._pathVerticalPlaneData)return;const e=this._techniques.get(f,this._pathTechniqueConfiguration);if(e.compiled){const t=this.renderingContext;this._passParameters.origin=this._pathVerticalPlaneData.origin,t.bindTechnique(e,this.bindParameters,this._passParameters),this._pathVerticalPlaneData.draw(t)}else this.requestRender(1)}_updatePassParameters(){if(!this._intersectsLineEnabled)return!0;const e=this.bindParameters.camera,t=this._passParameters;if(this._intersectsLineInfinite){if(a(p(t.intersectsLineSegment.origin,t.intersectsLineSegment.vector),D),D.c0=-Number.MAX_VALUE,!c(e.frustum,D))return!1;l(D,t.lineStartWorld),h(D,t.lineEndWorld)}else s(t.lineStartWorld,t.intersectsLineSegment.origin),r(t.lineEndWorld,t.intersectsLineSegment.origin,t.intersectsLineSegment.vector);return!0}get test(){}};e([i({constructOnly:!0})],V.prototype,\"contrastControlEnabled\",void 0),e([i()],V.prototype,\"isDecoration\",void 0),e([i()],V.prototype,\"produces\",void 0),e([i()],V.prototype,\"consumes\",void 0),V=e([n(\"esri.views.3d.webgl-engine.effects.laserlines.LaserLineRenderer\")],V);const D=o();export{V as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{d as e}from\"../../../../chunks/vec32.js\";import{create as t,clone as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as n,fromValues as s,copy as r}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as a}from\"../../webgl-engine/effects/laserlines/LaserLineRenderer.js\";import{d as h}from\"../../../../chunks/Laserlines.glsl.js\";class c extends l{constructor(e){super(e),this._angleCutoff=h,this._style={},this._heightManifoldTarget=t(),this._heightManifoldEnabled=!1,this._intersectsLine=n(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?(e(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,_);this.intersectsLine=s(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?(r(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?r(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:i(e.origin),target:e.target?i(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this._renderer&&(this._renderer.isDecoration=e)}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new a({view:this.view,contrastControlEnabled:!0,isDecoration:this.isDecoration}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff())}_syncStyle(){null!=this._renderer&&this._renderer.setParameters(this._style)}_syncAngleCutoff(){this._renderer?.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view.stage&&(this._renderer.destroy(),this._renderer=null)}forEachMaterial(){}}const _=t();export{c as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReadDepth as o}from\"./output/ReadDepth.glsl.js\";import{BlendColorsPremultiplied as e}from\"./util/BlendColorsPremultiplied.glsl.js\";import{CameraSpace as l}from\"./util/CameraSpace.glsl.js\";import{Float3PassUniform as t}from\"../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as r}from\"../shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../shaderModules/glsl.js\";import{Texture2DBindUniform as n}from\"../shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as i}from\"../shaderModules/Texture2DPassUniform.js\";function p(p,d){const s=p.fragment;s.include(o),p.include(l),s.include(e),s.uniforms.add(new r(\"globalAlpha\",o=>o.globalAlpha),new t(\"glowColor\",o=>o.glowColor),new r(\"glowWidth\",(o,e)=>o.glowWidth*e.camera.pixelRatio),new r(\"glowFalloff\",o=>o.glowFalloff),new t(\"innerColor\",o=>o.innerColor),new r(\"innerWidth\",(o,e)=>o.innerWidth*e.camera.pixelRatio),new n(\"depthMap\",o=>o.depth?.attachment),new i(\"normalMap\",o=>o.normals)),s.code.add(a`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),s.code.add(a`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendColorsPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),s.code.add(a`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float angleCutoffAdjust, out float depthDiscontinuityAlpha) {\nfloat depth = depthFromTexture(depthMap, uv);\nif (depth == 1.0) {\nreturn false;\n}\nfloat linearDepth = linearizeDepth(depth);\npos = reconstructPosition(gl_FragCoord.xy, linearDepth);\nfloat minStep = 6e-8;\nfloat depthStep = clamp(depth + minStep, 0.0, 1.0);\nfloat linearDepthStep = linearizeDepth(depthStep);\nfloat depthError = abs(linearDepthStep - linearDepth);\nvec3 normalReconstructed = normalize(cross(dFdx(pos), dFdy(pos)));\nvec3 normalFromTexture = normalize(texture(normalMap, uv).xyz * 2.0 - 1.0);\nfloat blendFactor = smoothstep(0.15, 0.2, depthError);\nnormal = normalize(mix(normalReconstructed, normalFromTexture, blendFactor));\nangleCutoffAdjust = mix(0.0, 0.004, blendFactor);\nfloat ddepth = fwidth(linearDepth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / linearDepth);\nreturn true;\n}`),d.contrastControlEnabled?s.uniforms.add(new i(\"frameColor\",(o,e)=>o.colors),new r(\"globalAlphaContrastBoost\",o=>o.globalAlphaContrastBoost)).code.add(a`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`):s.code.add(a`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{p as Laserline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this.forEachMaterial(t=>t?.setParameters({isDecoration:e}))}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=e(()=>t.view.ready,e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())})}applyProperties(e){let t=!1;for(const s in e)s in this&&(\"attached\"===s?t=!!e[s]:this[s]=e[s]);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view.stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{set as i}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{t as n,e as a,n as o,b as r,k as l,d as s,i as c,g as d}from\"./vec32.js\";import{create as f}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{t as p}from\"./vec42.js\";import{create as g}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{pointAt as h}from\"../geometry/support/lineSegment.js\";import{fromPositionAndNormal as m,create as u}from\"../geometry/support/plane.js\";import{y as w,e as x,c as b}from\"./sphere.js\";import{Laserline as v}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as P}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float2PassUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3BindUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Float3BindUniform.js\";import{Float3PassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as C}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as L}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as A}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as j}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{ShaderBuilder as V}from\"../views/webgl/ShaderBuilder.js\";const y=e(6);function O(e){const i=new V;i.include(P),i.include(v,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new A(\"maxPixelDistance\",(i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin))),t.code.add(j`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.spherical){const e=(e,i,t)=>n(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>n(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new C(\"heightManifoldOrigin\",(t,n)=>(e(G,t,n),i(_,n),a(_,_,G),o(W,_),W[3]=r(_),W)),new M(\"globalOrigin\",e=>i(G,e)),new A(\"cosSphericalAngleThreshold\",(e,i)=>1-Math.max(2,l(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/r(e.heightManifoldTarget))),t.code.add(j`float globeDistancePixels(float posInGlobalOriginLength) {\nfloat dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}\nfloat heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nvec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);\nfloat cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);\nvec3 posInGlobalOrigin = globalOrigin - pos;\nfloat posInGlobalOriginLength = length(posInGlobalOrigin);\nfloat sphericalDistance = globeDistancePixels(posInGlobalOriginLength);\nfloat planarDistance = planeDistancePixels(heightPlane, pos);\nreturn cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;\n}`)}else t.code.add(j`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {\nreturn planeDistancePixels(heightPlane, pos);\n}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new A(\"maxPixelDistance\",(e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget))),t.code.add(j`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`)),e.intersectsLineEnabled&&t.uniforms.add(new L(\"perScreenPixelRatio\",e=>e.camera.perScreenPixelRatio)).code.add(j`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add(j`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),t.main.add(j`vec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 color = vec4(0.0);`),e.heightManifoldEnabled){t.uniforms.add(new D(\"angleCutoff\",e=>E(e)),new C(\"heightPlane\",(e,i)=>U(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,G),i.camera.viewMatrix)));const i=e.spherical?j`normalize(globalOrigin - pos)`:j`heightPlane.xyz`;t.main.add(j`\n      vec2 angleCutoffAdjusted = angleCutoff - angleCutoffAdjust;\n      // Fade out laserlines on flat surfaces\n      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoffAdjusted.x, angleCutoffAdjusted.y, abs(dot(normal, ${i})));\n      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));\n      color = max(color, heightManifoldColor * heightManifoldAlpha);`)}return e.pointDistanceEnabled&&(t.uniforms.add(new D(\"angleCutoff\",e=>E(e)),new C(\"pointDistanceSphere\",(e,i)=>w(z(e,i)))),t.main.add(j`float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new D(\"angleCutoff\",e=>E(e)),new C(\"lineVerticalPlane\",(e,i)=>I(e,i)),new S(\"lineVerticalStart\",(e,i)=>T(e,i)),new S(\"lineVerticalEnd\",(e,i)=>R(e,i))),t.main.add(j`if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}`)),e.intersectsLineEnabled&&(t.uniforms.add(new D(\"angleCutoff\",e=>E(e)),new S(\"intersectsLineStart\",(e,i)=>n(G,e.lineStartWorld,i.camera.viewMatrix)),new S(\"intersectsLineEnd\",(e,i)=>n(G,e.lineEndWorld,i.camera.viewMatrix)),new S(\"intersectsLineDirection\",(e,i)=>(s(W,e.intersectsLineSegment.vector),W[3]=0,o(G,p(W,W,i.camera.viewMatrix)))),new A(\"intersectsLineRadius\",e=>e.intersectsLineRadius)),t.main.add(j`if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}`)),t.main.add(j`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);`),i}function E(t){return i(F,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-e(2))))}function z(e,i){const t=n(k,e.pointDistanceOrigin,i.camera.viewMatrix),a=l(e.pointDistanceOrigin,e.pointDistanceTarget);return x($,t,a)}function I(e,i){const t=h(e.lineVerticalPlaneSegment,.5,G),n=e.renderCoordsHelper.worldUpAtPosition(t,H),a=o(_,e.lineVerticalPlaneSegment.vector),r=c(G,n,a);return o(r,r),U(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function T(e,i){const t=s(G,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),n(t,t,i.camera.viewMatrix)}function R(e,i){const t=d(G,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),n(t,t,i.camera.viewMatrix)}function U(e,i,t){return n(B,e,t),s(W,i),W[3]=0,p(W,W,t),m(B,W,N)}const F=t(),G=f(),W=g(),H=f(),_=f(),B=f(),N=u(),k=f(),$=b(),q=Object.freeze(Object.defineProperty({__proto__:null,build:O,defaultAngleCutoff:y},Symbol.toStringTag,{value:\"Module\"}));export{q as L,O as b,y as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{translate as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{Laserline as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{Float2BindUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{FloatBindUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{If as l,glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Matrix4PassUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as v}from\"../views/webgl/ShaderBuilder.js\";function p(t){const r=new v;r.include(a,t);const{vertex:p,fragment:f}=r;p.uniforms.add(new m(\"modelView\",(t,{camera:o})=>e(g,o.viewMatrix,t.origin)),new c(\"proj\",({camera:e})=>e.projectionMatrix),new s(\"glowWidth\",(e,{camera:t})=>e.glowWidth*t.pixelRatio),new i(\"pixelToNDC\",({camera:e})=>o(w,2/e.fullViewport[2],2/e.fullViewport[3]))),r.attributes.add(\"start\",\"vec3\"),r.attributes.add(\"end\",\"vec3\"),t.spherical&&(r.attributes.add(\"startUp\",\"vec3\"),r.attributes.add(\"endUp\",\"vec3\")),r.attributes.add(\"extrude\",\"vec2\"),r.varyings.add(\"uv\",\"vec2\"),r.varyings.add(\"vViewStart\",\"vec3\"),r.varyings.add(\"vViewEnd\",\"vec3\"),r.varyings.add(\"vViewSegmentNormal\",\"vec3\"),r.varyings.add(\"vViewStartNormal\",\"vec3\"),r.varyings.add(\"vViewEndNormal\",\"vec3\");const u=!t.spherical;return p.main.add(d`\n    vec3 pos = mix(start, end, extrude.x);\n\n    vec4 viewPos = modelView * vec4(pos, 1);\n    vec4 projPos = proj * viewPos;\n    vec2 ndcPos = projPos.xy / projPos.w;\n\n    // in planar we hardcode the up vectors to be Z-up */\n    ${l(u,d`vec3 startUp = vec3(0, 0, 1);`)}\n    ${l(u,d`vec3 endUp = vec3(0, 0, 1);`)}\n\n    // up vector corresponding to the location of the vertex, selecting either startUp or endUp */\n    vec3 up = extrude.y * mix(startUp, endUp, extrude.x);\n    vec3 viewUp = (modelView * vec4(up, 0)).xyz;\n\n    vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);\n    vec2 projUp = normalize(projPosUp.xy / projPosUp.w - ndcPos);\n\n    // extrude ndcPos along projUp to the edge of the screen\n    vec2 lxy = abs(sign(projUp) - ndcPos);\n    ndcPos += length(lxy) * projUp;\n\n    vViewStart = (modelView * vec4(start, 1)).xyz;\n    vViewEnd = (modelView * vec4(end, 1)).xyz;\n\n    vec3 viewStartEndDir = vViewEnd - vViewStart;\n\n    vec3 viewStartUp = (modelView * vec4(startUp, 0)).xyz;\n\n    // the normal of the plane that aligns with the segment and the up vector\n    vViewSegmentNormal = normalize(cross(viewStartUp, viewStartEndDir));\n\n    // the normal orthogonal to the segment normal and the start up vector\n    vViewStartNormal = -normalize(cross(vViewSegmentNormal, viewStartUp));\n\n    // the normal orthogonal to the segment normal and the end up vector\n    vec3 viewEndUp = (modelView * vec4(endUp, 0)).xyz;\n    vViewEndNormal = normalize(cross(vViewSegmentNormal, viewEndUp));\n\n    // Add enough padding in the X screen space direction for \"glow\"\n    float xPaddingPixels = sign(dot(vViewSegmentNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\n    ndcPos.x += xPaddingPixels * pixelToNDC.x;\n\n    // uv is used to read back depth to reconstruct the position at the fragment\n    uv = ndcPos * 0.5 + 0.5;\n\n    gl_Position = vec4(ndcPos, 0, 1);\n  `),f.uniforms.add(new n(\"perScreenPixelRatio\",e=>e.camera.perScreenPixelRatio)),f.code.add(d`float planeDistance(vec3 planeNormal, vec3 planeOrigin, vec3 pos) {\nreturn dot(planeNormal, pos - planeOrigin);\n}\nfloat segmentDistancePixels(vec3 segmentNormal, vec3 startNormal, vec3 endNormal, vec3 pos, vec3 start, vec3 end) {\nfloat distSegmentPlane = planeDistance(segmentNormal, start, pos);\nfloat distStartPlane = planeDistance(startNormal, start, pos);\nfloat distEndPlane = planeDistance(endNormal, end, pos);\nfloat dist = max(max(distStartPlane, distEndPlane), abs(distSegmentPlane));\nfloat width = fwidth(distSegmentPlane);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}`),f.main.add(d`fragColor = vec4(0.0);\nvec3 dEndStart = vViewEnd - vViewStart;\nif (dot(dEndStart, dEndStart) < 1e-5) {\nreturn;\n}\nvec3 pos;\nvec3 normal;\nfloat angleCutoffAdjust;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, angleCutoffAdjust, depthDiscontinuityAlpha)) {\nreturn;\n}\nfloat distance = segmentDistancePixels(\nvViewSegmentNormal,\nvViewStartNormal,\nvViewEndNormal,\npos,\nvViewStart,\nvViewEnd\n);\nvec4 color = laserlineProfile(distance);\nfloat alpha = (1.0 - smoothstep(0.995 - angleCutoffAdjust, 0.999 - angleCutoffAdjust, abs(dot(normal, vViewSegmentNormal))));\nfragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);`),r}const w=r(),g=t(),f=Object.freeze(Object.defineProperty({__proto__:null,build:p},Symbol.toStringTag,{value:\"Module\"}));export{f as L,p as b};\n"],"names":["a","constructor","e","this","_renderCoordsHelper","_origin","r","_dirty","_count","vertices","t","s","length","buffers","_buffers","Math","floor","origin","draw","_ensureVAO","bindVAO","drawArrays","n","TRIANGLES","dispose","_vao","_layout","viewingMode","_","d","_createVAO","_ensureVertexData","_createDataBuffer","f","u","o","buffer","setData","reduce","l","createBuffer","i","_setUpVectors","bind","h","getAltitude","setAltitude","c","start","setVec","extrude","setValues","end","worldUpAtPosition","startUp","endUp","vec3f","vec2f","super","arguments","innerColor","innerWidth","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","angleCutoff","pointDistanceOrigin","pointDistanceTarget","lineVerticalPlaneSegment","intersectsLineSegment","intersectsLineRadius","heightManifoldTarget","lineStartWorld","lineEndWorld","m","Map","contrastControlEnabled","spherical","prototype","heightManifoldEnabled","pointDistanceEnabled","lineVerticalPlaneEnabled","intersectsLineEnabled","V","isDecoration","produces","LASERLINES","consumes","required","requireGeometryDepth","_configuration","q","_pathTechniqueConfiguration","P","_heightManifoldEnabled","_pointDistanceEnabled","_lineVerticalPlaneEnabled","_intersectsLineEnabled","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_passParameters","b","view","stage","renderView","techniques","precompile","initialize","renderCoordsHelper","state","_techniques","_blit","g","destroy","_pathVerticalPlaneData","requestRender","intersectsLineInfinite","pathVerticalPlaneEnabled","pathVerticalPlaneVertices","pathVerticalPlaneBuffers","setParameters","L","_acquireTechnique","render","find","_ref","name","bindParameters","decorations","renderingContext","_ref2","normals","getTexture","_renderUnified","_renderPath","bindFramebuffer","fbo","colors","fboCache","acquire","width","height","setClearColor","clear","unbindTexture","blend","release","get","E","_updatePassParameters","compiled","bindTechnique","screen","camera","p","vector","D","c0","Number","MAX_VALUE","frustum","test","constructOnly","_angleCutoff","_style","_heightManifoldTarget","_intersectsLine","_lineVerticalPlaneSegment","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProperties","testData","createResources","_ensureRenderer","destroyResources","_disposeRenderer","updateVisibility","_syncRenderer","_syncHeightManifold","_syncIntersectsLine","_syncPathVerticalPlane","_syncLineVerticalPlane","_syncPointDistance","_syncAngleCutoff","style","_syncStyle","intersectsWorldUpAtLocation","intersectsLine","_syncIntersectsLineInfinite","pathVerticalPlane","pointDistanceLine","target","_isDecoration","_renderer","attached","visible","forEachMaterial","fragment","include","uniforms","add","pixelRatio","depth","attachment","code","_attached","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","remove","onAttachedChange","y","O","v","A","computeScreenPixelSizeAt","j","viewMatrix","C","G","W","M","max","eye","perRenderPixelRatio","perScreenPixelRatio","main","U","w","k","x","$","z","H","I","S","T","R","F","cos","B","N","Object","freeze","defineProperty","__proto__","build","defaultAngleCutoff","Symbol","toStringTag","value","vertex","projectionMatrix","_ref3","_ref4","fullViewport","attributes","varyings"],"sourceRoot":""}