{"version":3,"file":"static/js/73263.d65cd789.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js","../node_modules/@arcgis/core/views/support/highlightOptionsUtils.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js","../node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js","../node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass s{constructor(s,i,t,h){this.total=s,this.visible=i,this.missing=t,this.pending=h}}export{s as GraphicsCorePerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{defaultHighlightName as t}from\"./HighlightDefaults.js\";function r(r){return r?.name??t}export{r as getHighlightName};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{OptimizedFeature as t}from\"../OptimizedFeature.js\";const e={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new t(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>t.ensureCentroid(e)};export{e as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Collection.js\";import{makeHandle as o}from\"../../../../core/handleUtils.js\";import{isGraphic as t}from\"../../../../support/guards.js\";function e(o){return r.isCollection(o)?o.toArray():Array.isArray(o)?o:i(o)||t(o)||c(o)?[o]:n}function i(r){return\"number\"==typeof r||\"string\"==typeof r}const n=[],s=o();function c(r){return\"esri.views.3d.layers.i3s.PointCloudGraphic\"===r.declaredClass}export{s as emptyHighlightHandle,i as isObjectId,e as normalizeHighlightTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import{EventEmitter as r}from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as s}from\"../../../../geometry/projectionUtils.js\";import{create as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as c}from\"../../../../layers/graphics/OptimizedFeature.js\";import n from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";const u=a();let d=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:h.getAttribute(t,e),getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"number\"==typeof r?r:new Date(r).getTime()},getAttributes:t=>\"graphic\"in t?t.graphic.attributes:h.getAttributes(t),getObjectId:t=>\"graphic\"in t?p(t.graphic,this.objectIdField)??void 0:h.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):h.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;null!=t.centroid?r=t.centroid:\"point\"===t.graphic.geometry.type&&s(t.graphic.geometry,l,this.viewSpatialReference)&&(r=l);const o=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return null==r?(o[0]=0,o[1]=0,o[2]=0,o[3]=0):(o[0]=r.x,o[1]=r.y,e.hasZ&&(o[2]=r.hasZ?r.z:0),e.hasM&&(o[e.hasZ?3:2]=r.hasM?r.m:0)),new n([],o)}return h.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new c(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):h.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e){const r=this.getSpatialIndex();for(const o of t){const t=this.featureAdapter.getObjectId(o);null!=r.getBounds(t,u)&&e(u)}}};t([o({constructOnly:!0})],d.prototype,\"getSpatialIndex\",void 0),t([o({constructOnly:!0})],d.prototype,\"forEach\",void 0),t([o({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([o({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([o({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([o({constructOnly:!0})],d.prototype,\"viewSpatialReference\",void 0),t([o({constructOnly:!0})],d.prototype,\"featureSpatialReference\",void 0),d=t([i(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],d);const l={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{d as Graphics3DFeatureStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{make as a}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import{LineCalloutSymbolLayerRenderingInfo as l}from\"./Graphics3DLineCalloutSymbolLayer.js\";import{Graphics3DSymbol as e}from\"./Graphics3DSymbol.js\";class s extends e{constructor(r,o,t){super(r,o,t),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=a(this.symbol,o))}async doLoad(o){const a=this._calloutSymbolLayer?r(this._calloutSymbolLayer.load()):null;try{await super.doLoad(o),t(o)}catch(l){throw this._calloutSymbolLayer?.abortLoad(),l}a&&await a}destroy(){super.destroy(),this._calloutSymbolLayer=o(this._calloutSymbolLayer)}createGraphics3DGraphic(r,o){const t=super.createGraphics3DGraphic(r,o);if(null!=this._calloutSymbolLayer&&null!=t){const o=this._createCalloutGraphic(r);o&&t.setCalloutGraphic(o)}return t}globalPropertyChanged(r,o){return!!super.globalPropertyChanged(r,o)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,o,r=>r.calloutLayer))}updateGeometry(r){const o=super.updateGeometry(r);if(o&&this._calloutSymbolLayer){const o=r.calloutLayer;if(o)return this._calloutSymbolLayer.updateGeometry?.(r.graphic,o)??!1}return o}_createCalloutGraphic(r){const o=r.renderingInfo;return r.renderingInfo=new l(o.renderer,o.symbol),this._calloutSymbolLayer.createGraphics3DGraphic(r)}}export{s as Graphics3DPointSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Graphics3DPointSymbol as o}from\"./Graphics3DPointSymbol.js\";import{Graphics3DSymbol as r}from\"./Graphics3DSymbol.js\";function t(t,i,n){return\"point-3d\"===t.type?new o(t,i,n):new r(t,i,n)}export{t as make};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer?.objectIdField;i?(this._getGraphicId=t=>e(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach((t,i)=>this.remove(i))}add(t){const e=i(()=>this.remove(t));if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=a?.isVisible()??!1,t.isDraped=a?.isDraped??!1,t.tracking=!0,null!=a&&t.emit(\"changed\"),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&(t(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t.graphic,i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\")})}removeGraphic(t){this._forEachState(t.graphic,t=>{t.displaying=!1,t.isDraped=!1})}updateGraphicGeometry(t){this._forEachState(t.graphic,t=>t.emit(\"changed\"))}updateGraphicVisibility(t){this._forEachState(t.graphic,i=>i.displaying=t.isVisible())}updateGraphicError(t,i){this._forEachState(t,t=>t.error=i)}allGraphicsDeleted(){this._states.forEach(t=>t.displaying=!1)}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t),s=this._idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,has(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=s(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){null!=e&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,t=>s(t.graphic.uid)))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);if(!t.extent)return;this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,t=>{e(t)})}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{isSome as i}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Error.js\";import s from\"../../../../core/Logger.js\";import{findInMap as a}from\"../../../../core/MapUtils.js\";import{abortMaybe as n,removeMaybe as o,destroyMaybe as l}from\"../../../../core/maybe.js\";import{MinPriority as h}from\"../../../../core/MemCache.js\";import d from\"../../../../core/PooledArray.js\";import{throwIfAborted as p,ignoreAbortErrors as c,createResolver as y,isAbortError as u}from\"../../../../core/promiseUtils.js\";import g from\"../../../../core/Queue.js\";import{when as m,watch as b,on as _,syncAndInitial as f,whenOnce as v}from\"../../../../core/reactiveUtils.js\";import{schedule as C}from\"../../../../core/scheduling.js\";import{property as S}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as G}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as w,isEmpty as x}from\"../../../../core/accessorSupport/diffUtils.js\";import{j as P,g as R,h as U}from\"../../../../chunks/vec32.js\";import{create as D}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import I from\"../../../../geometry/Extent.js\";import E from\"../../../../geometry/Point.js\";import{canProjectWithoutEngine as L}from\"../../../../geometry/projectionUtils.js\";import{projectBuffer as j}from\"../../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as V}from\"../../../../geometry/projection/projectVectorToVector.js\";import{projectXYZToVector as A}from\"../../../../geometry/projection/projectXYZToVector.js\";import{center as O,create as F,fromRect as T,equals as M}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as k}from\"../../../../geometry/support/aaBoundingRect.js\";import{equals as z}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{isPopupProvider as W}from\"../../../../graphic/getPopupProvider.js\";import H from\"../../../../layers/Layer.js\";import{getObjectId as B,computeAABB as q,hasGeometry as Q}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as N}from\"../../../../layers/graphics/hydratedFeatures.js\";import $ from\"../../../../renderers/UniqueValueRenderer.js\";import{isSupportedRenderer3D as Z,validateTo3D as Y}from\"../../../../renderers/support/rendererConversion.js\";import{RenderingInfo as X}from\"../../../../renderers/support/RenderingInfo.js\";import{isBasemapLayerView as J}from\"../../../../support/basemapUtils.js\";import{loadArcade as K}from\"../../../../support/loadArcade.js\";import ee from\"../../../../symbols/LabelSymbol3D.js\";import te from\"../../../../symbols/TextSymbol.js\";import ie from\"../../../../symbols/WebStyleSymbol.js\";import{getDefaultSymbol3D as re}from\"../../../../symbols/support/defaults3D.js\";import{to3D as se}from\"../../../../symbols/support/symbolConversion.js\";import{averageSymbolComplexities as ae,defaultSymbolComplexity as ne}from\"./defaultSymbolComplexity.js\";import{DisplayFeatureLimit as oe}from\"./DisplayFeatureLimit.js\";import{ViewElevationProvider as le}from\"./ElevationQuery.js\";import{extractExpressionInfo as he,createContext as de}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as pe}from\"./Graphics3DFeatureStore.js\";import{Graphics3DGraphicCreationContext as ce}from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as ye}from\"./Graphics3DSymbolCreationContext.js\";import{make as ue}from\"./Graphics3DSymbolFactory.js\";import{Graphics3DWebStyleSymbol as ge}from\"./Graphics3DWebStyleSymbol.js\";import{GraphicsCorePerformanceInfo as me}from\"./GraphicsCorePerformanceInfo.js\";import{GraphicStateTracking as be}from\"./GraphicStateTracking.js\";import{computeCentroid as _e}from\"./graphicUtils.js\";import{placePointOnGeometry as fe}from\"./pointUtils.js\";import{SpatialIndex2D as ve}from\"./SpatialIndex2D.js\";import{StageLayerElevationProvider as Ce}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as Se}from\"../../support/extentUtils.js\";import{GridLocalOriginFactory as Ge}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{isScreenSizePerspectiveEnabled as we}from\"../../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{affectsGeometry as xe}from\"../../webgl-engine/lib/VertexAttribute.js\";import{WebGLLayer as Pe}from\"../../webgl-engine/lib/WebGLLayer.js\";import{HUDMaterial as Re}from\"../../webgl-engine/materials/HUDMaterial.js\";import{hasPopupTemplate as Ue}from\"../../../layers/support/popupUtils.js\";import{PromiseQueue as De}from\"../../../support/PromiseQueue.js\";import{PropertiesPool as Ie}from\"../../../support/PropertiesPool.js\";import{ImmediateTask as Ee,noBudget as Le,TaskPriority as je}from\"../../../support/Scheduler.js\";import{TextureCompressionTracker as Ve}from\"../../../support/TextureCompressionTracker.js\";import{Yield as Ae}from\"../../../support/Yield.js\";import{alphaCutoff as Oe}from\"../../../../webscene/support/AlphaCutoff.js\";var Fe;const Te=D(),Me=F();let ke=class extends t{static{Fe=this}static{this.tmpVec=D()}get _viewSpatialReference(){return this.owner.view.spatialReference}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new ve({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:!!this.hasZ,hasM:!!this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get deconflictor(){return this._deconflictor}get labeler(){return this._labeler}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return null!=this.currentRenderer&&\"dictionary\"===this.currentRenderer.type?0:this._forcedUpdatePolicy??this.preferredUpdatePolicy}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this.dataUpdating||this._elevationAlignment?.updating||this._scaleVisibility?.updating||this._filterVisibility?.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._frameTaskHandle.updating||this._updateQueue.updating||this.readyToRun)}get dataUpdating(){return!!(this._graphicsWaitingForSymbol.size>0||this._pendingUpdates.size>0||this._spatialIndex?.updating||this._updatingPendingLoadedGraphicsChange||this._dataUpdateQueue.updating||this._loadingSymbols>0||this.compressionTracker.compressing)}get readyToRun(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating||this._dataUpdateQueue.readyToRun||this._updateQueue.readyToRun||this._focusAreasGraphicsQueue.length>0}get suspendedOrOutsideOfView(){return this.owner.suspended||!!this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,t=e?.graphics3D.minTotalNumberOfFeatures??0,i=e?.graphics3D.maxTotalNumberOfFeatures??0,r=e?.graphics3D.maxNumberOfDrawCalls??0,s=e?.graphics3D.maxTotalNumberOfVertices??0,a=this.averageSymbolComplexity,n=Math.max(1,a?.verticesPerFeature??1),o=a&&a.drawCallsPerFeature>0&&r>0?r/a.drawCallsPerFeature:i,l=Math.ceil(s/n),h=Math.max(t,Math.min(i,l,o)),d=this._get(\"displayFeatureLimit\");return d&&d.maximumTotalNumberOfVertices===s&&d.averageSymbolComplexity===a&&d.maximumNumberOfFeatures===h?d:new oe(s,h,a)}get averageSymbolComplexity(){const e=ae(this._symbolComplexities),t=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||null!=t&&(e.estimated&&(t.verticesPerFeature>=e.verticesPerFeature||t.verticesPerCoordinate>=e.verticesPerCoordinate||t.drawCallsPerFeature>=e.drawCallsPerFeature)||t.verticesPerFeature===e.verticesPerFeature&&t.verticesPerCoordinate===e.verticesPerCoordinate&&t.drawCallsPerFeature===e.drawCallsPerFeature)?t:e}get usedMemory(){const e=this.labelsEnabled?(this.averageSymbolComplexity?.memory.bytesPerFeatureLabel??0)*this._numberOfGraphics:0,t=this._getSymbolComplexitiesUsed().reduce((e,t)=>e+t.memory.resourceBytes,0);if(null==this._symbolMaterials){this._symbolMaterials=[];for(const e of this._symbols.values())if(null!=e)for(const t of e.symbolLayers)if(t)for(const e of t.materials)e&&this._symbolMaterials.push(e)}const i=this.owner.view.stage.renderer,r=this.owner.view.overlayManager.renderer,s=this._symbolMaterials.reduce((e,t)=>e+((i.getMaterialRenderer(t)||r.getMaterialRenderer(t))?.usedMemory??0),0);return this._usedMemory+e+t+s}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics){const e=this._numberOfGraphics/(this._numberOfGraphics+Math.max(this._pendingAdds,this._pendingRemoves));return this._usedMemory/this._numberOfGraphics*e}if(null!=this.averageSymbolComplexity){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}get visible(){return this._visible}_getConvertedSymbol(e){const t=e;if(\"web-style\"===t.type)return t.clone();const i=this._symbolConversionCache.get(t.id);if(null!=i)return i;const r=se(t,{geometryType:this.layer?.geometryType??void 0,retainId:!0,hasLabelingContext:this._hasLabelingContext(t),cimFallbackEnabled:!0}),a=r.symbol||null;return null==a&&r.error&&s.getLogger(this).error(r.error.message),this._symbolConversionCache.set(t.id,a),a}_getSymbolComplexitiesUsedOrRenderer(e){if(null==e)return[];const t=e.symbols,i=\"backgroundFillSymbol\"in e?e.backgroundFillSymbol:null;if(!i&&!t.length)return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(i);null!=s&&r.push(s);for(const a of t){const e=this._getSymbolComplexityUsedOrRenderer(a);null!=e&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(null==e)return null;const t=this._symbols.get(e.id);if(null!=t)return t.complexity;const i=this._getConvertedSymbol(e);return null!=i?ne(i):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach(t=>{null!=t&&e.push(t.complexity)}),e}get _objectIdField(){return this.layer.objectIdField}constructor(e){super(e),this._propertiesPool=new Ie({computedExtent:()=>new I},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._frameTaskHandle=Ee,this._dataUpdateQueue=new De,this._updateQueue=new De,this._focusAreasGraphicsQueue=new g,this._suspendSymbolCleanup=!1,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._elevationAlignment=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this._loadingSymbols=0,this.compressionTracker=new Ve,this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new d,this.preferredUpdatePolicy=1,this._forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=!1,this._startCreateGraphics=!1,this._unusedSymbolsCache=e.owner.view.resourceController.memoryController.newCache(\"graphics-3d-unused-symbols\",e=>e.destroy()),this.symbolCreationContext=new ye(e.owner.view.resourceController.scheduler,(e,t)=>this._updateQueue.push(e,t),e.owner.layerViewUid,this.compressionTracker)}initialize(){this._featureStore=new pe({objectIdField:this.owner.layer?.objectIdField,hasZ:!!this.hasZ,hasM:!!this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e)});const e=(e,t,i)=>this.spatialIndex.queryGraphicUIDsInExtent(e,t,i),{componentFactories:t}=this;this._elevationAlignment=t.elevationAlignment?.(this,e),this._scaleVisibility=t.scaleVisibility?.(this,e),this._filterVisibility=t.filterVisibility?.({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities(t=>t.setVisibilityFlag(1,4,e(B(t.graphic,this._objectIdField)))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities(t=>t.setVisibilityFlag(1,4,e)),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities(e=>e.setVisibilityFlag(1,4,!0))}),this._deconflictor=t.deconflictor?.(this),this._labeler=t.labeler?.(this,this._scaleVisibility),this._objectStates=t.objectStates?.(this),this._initializeAbortController=new AbortController,this.addHandles(m(()=>this.owner.view.state.highlights,()=>{const{highlightOrderMap:e}=this.owner.view.state;this.graphics3DGraphics.forEach(t=>t.updateHighlights(e))})),this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController?.signal,t=this.owner.view;this._viewElevationProvider=new le(this._viewSpatialReference,t),this._initializeStage(t,this.owner.layerViewUid);const i=t.sharedSymbolResources;this.symbolCreationContext.sharedResources=i,null!=this.currentRenderer&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=t.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new Ge(t.renderSpatialReference),this.symbolCreationContext.elevationProvider=t.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=he(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await de(r,this._viewSpatialReference,e,s.getLogger(this)),p(e),this.symbolCreationContext.screenSizePerspectiveEnabled=we(this.layer.screenSizePerspectiveEnabled),this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=t.overlayManager.registerGeometryDrapeSource(e)}this.addHandles([b(()=>this.suspendedOrOutsideOfView,()=>this._updateQueue.unshift(()=>this._updateLayerVisibility(),null).catch(c)),b(()=>we(this.layer?.screenSizePerspectiveEnabled),e=>{e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._screenSizePerspectiveEnabledChange())}),b(()=>this.owner.slicePlaneEnabled,e=>this._slicePlaneEnabledChange(!!e)),b(()=>this.owner.view.state?.rasterPixelRatio,()=>this._pixelRatioChange()),b(()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,e=>this._physicalBasedRenderingChange(e)),b(()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,e=>this._skipHighSymbolLoDsChange(e)),b(()=>this.owner.view.focusAreasView?.polygons,()=>this._updateFocusedLabels()),b(()=>this.owner.view.map?.focusAreas.style,()=>this.recreateAllGraphicsAndSymbols()),m(()=>t.basemapTerrain?.tilingScheme,e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||null==t.basemapTerrain.spatialReference||(this.symbolCreationContext.overlaySR=t.basemapTerrain.spatialReference),this.hasHandles(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this.addHandles([_(e,\"change\",e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()},{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}},{initial:!0}),b(()=>this.effectiveUpdatePolicy,e=>{null!=this.stageLayer&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=0===this.effectiveUpdatePolicy,1===e&&this.runTask(Le)},f)]),this._frameTaskHandle=t.resourceController.scheduler.registerTask(je.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this.addHandles(b(()=>this.layer.featureReduction,()=>this._deconflictor?.featureReductionChange())),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch(()=>{}),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController=n(this._initializeAbortController)}_updateFocusedLabels(){this._focusAreasGraphicsQueue.clear(),this.forEachGraphics3DSymbol((e,t)=>{t&&e.needsUpdateFocus&&t.forEach(e=>{this._focusAreasGraphicsQueue.push(e)})})}destroy(){if(this._unusedSymbolsCache.destroy(),this._abortInitialize(),this._rendererChangeAbortController=n(this._rendererChangeAbortController),this._abortElevationInfoChange(),this._frameTaskHandle.remove(),this._frameTaskHandle=Ee,this._dataUpdateQueue.cancelAll(),this._updateQueue.cancelAll(),this._deconflictor=o(this._deconflictor),this._labeler=o(this._labeler),this._elevationAlignment=l(this._elevationAlignment),this._scaleVisibility=l(this._scaleVisibility),this._filterVisibility=l(this._filterVisibility),this._objectStates=l(this._objectStates),this.clear(),\"drapeSourceType\"in this.owner){const{owner:e}=this;this.stage.view.overlayManager.unregisterDrapeSource(e)}this._featureStore=l(this._featureStore),this._updatingPendingLoadedGraphicsChange=o(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=l(this._graphicStateTracking),this.stage&&(this.stageLayer=l(this.stageLayer),this.stage=null),this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new r(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._propertiesPool=l(this._propertiesPool),this._whenSymbolRemoved.prune(),this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=l(this._spatialIndex),this._symbolMaterials=null}clear(){this._objectStates?.allGraphicsDeleted(),null!=this._graphicStateTracking&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach(e=>e.destroy()),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(l),this._symbols.clear(),this._symbolMaterials&&(this._symbolMaterials.length=0,this._symbolMaterials=null),this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this.notifyChange(\"dataUpdating\"),this.notifyChange(\"readyToRun\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}_initializeStage(e,t){this.stage=e.stage,this.stageLayer=new Pe(this.stage,{visible:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},t);const i=this.stageLayer.events;i.on(\"transformationChanged\",e=>this.notifyGraphicGeometryChanged(e.graphicUid)),i.on(\"shaderTransformationChanged\",e=>this.notifyGraphicGeometryChanged(e.graphicUid)),i.on(\"visibilityChanged\",e=>this.notifyGraphicVisibilityChanged(e.graphicUid)),i.on(\"geometryAdded\",e=>this.notifyGraphicGeometryChanged(e.object.graphicUid)),i.on(\"geometryRemoved\",e=>this.notifyGraphicGeometryChanged(e.object.graphicUid)),i.on(\"attributesChanged\",e=>xe(e.attribute)&&this.notifyGraphicGeometryChanged(e.object.graphicUid))}notifyGraphicGeometryChanged(e){if(this.owner.notifyContentGeometryUpdate?.(),null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicGeometry(t)}notifyGraphicVisibilityChanged(e){if(this.owner.notifyContentGeometryUpdate?.(),null==this._graphicStateTracking||null==e)return;const t=this.graphics3DGraphics.get(e);t&&this._graphicStateTracking.updateGraphicVisibility(t)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,t=this._numberOfGraphics>e*We,i=!this.suspendedOrOutsideOfView&&!t;i!==this._visible&&(this._visible=i,this._updateStageLayerVisibility())}_updateStageLayerVisibility(){const e=this._visible&&(null==this.layer.opacity||this.layer.opacity>=Oe);this.stageLayer.visible!==e&&(this.stageLayer.visible=e,e?this.updateGraphicsVisibilities():this._hideAllGraphics(),this.owner.notifyContentGeometryUpdate?.())}getGraphics3DGraphicById(e){return null!=e?this.graphics3DGraphics.get(e):void 0}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,t=this.owner.layer?.objectIdField){return B(e,t)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer?.objectIdField;if(!e)return;const t=new Map;return this.graphics3DGraphics.forEach(i=>{if(!i)return;const r=i.graphic,s=this._getGraphicObjectID(r,e);null!=s&&t.set(s,i)}),t}get labelsEnabled(){return!!this._labeler?.layerLabelsEnabled()}async updateLabelingInfo(e){const t=this._deconflictor?.labelingInfoChange(e),i=this._labeler?.labelingInfoChange(e);await Promise.allSettled([t,i])}updateVisibilityInfo(){this._deconflictor?.labelingInfoChange(),this._labeler?.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=!1,t=!1;for(const[i,r]of this._symbols)if(null!=r){switch(r.getFastUpdateStatus()){case 3:return\"unknown\";case 1:this._graphicsBySymbol.has(i)&&(t=!0);break;case 0:this._graphicsBySymbol.has(i)&&(e=!0);break;case 2:this._graphicsBySymbol.has(i)&&(t=e=!0)}}return t?e?\"mixed\":\"fast\":e?\"slow\":\"mixed\"}runTask(e){if(this._dataUpdateQueue.runTask(e),this._updateQueue.runTask(e),this._applyPendingUpdates(e),this._applyFocusAreasUpdates(e),this.notifyChange(\"readyToRun\"),this.readyToRun||this.notifyChange(\"dataUpdating\"),this.notifyChange(\"updatingRemaining\"),!e.hasProgressed)return Ae}setObjectIdVisibility(e,t){t?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const i=this._findGraphics3DGraphicByObjectId(e);null!=i&&this._updateUserVisibility(i)}_findGraphics3DGraphicByObjectId(e){return a(this.graphics3DGraphics,t=>this._getGraphicObjectID(t.graphic)===e)}_updateUserVisibility(e){if(null==e)return!1;const t=e.graphic,i=this._getGraphicObjectID(t),r=t.visible&&!this.owner.suspended&&this.stageLayer.visible&&(null==i||!this._objectIdInvisibleSet.has(i));return e.setVisibilityFlag(1,1,r)}_whenGraphics3DGraphic(e){const t=this.graphics3DGraphics.get(e.uid);if(t)return Promise.resolve(t);const i=this._whenGraphics3DGraphicRequests[e.uid];if(i)return i.promise;const r=y();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,t){const i=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,t,s)=>j(e,r,t,e,i,t,s),n=(e,t,r)=>j(e,s,t,e,i,t,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:null!=t&&!!t.useViewElevation,minDemResolution:null!=t?t.minDemResolution:null,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,t?.signal);if(!l)return null;const h=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){O(h,Te);const t=e.getElevation(Te[0],Te[1],0,i,\"ground\")??0;h[2]=Math.min(h[2],t),h[5]=Math.max(h[5],t)}}return{boundingBox:h,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,t){await v(()=>this.owner?.loadedGraphics);const i=this.owner.layer?.objectIdField,s=this.owner.loadedGraphics.find(t=>t===e||null!=i&&null!=t.attributes&&e.attributes&&t.attributes[i]===e.attributes[i]);if(!s)throw new r(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,t)}computeAttachmentOrigin(e,t){const i=this.graphics3DGraphics.get(e.uid);if(!i)return null;const r=i.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;P(He,0,0,0);let s=0;if(r.render.num>0){if(!V(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Be,t))return null;R(He,He,Be),s++}if(r.draped.num>0){const[e,i]=r.draped.origin,a=this._viewElevationProvider.getElevation(e,i,\"ground\")??0;if(P(Be,e,i,a),!V(Be,this._viewElevationProvider.spatialReference,Be,t))return null;R(He,He,Be),s++}return s>1&&U(He,He,1/s),new E({x:He[0],y:He[1],z:He[2],spatialReference:t})}getSymbolLayerSize(e,t){const i=this._symbols.get(e.id);if(null==i)throw new r(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(t);if(-1===s)throw new r(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=i.getSymbolLayerSize(s);if(null==a)throw new r(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const t=e.graphic.uid,i=this.graphics3DGraphics.get(t);if(null!=i||null!=this._graphicsWithoutSymbol.get(t)){switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(i);break;case\"geometry\":this._graphicUpdateGeometryHandler(i,e.graphic);break;case\"symbol\":this._graphicUpdateSymbolHandler(i,e);break;case\"attributes\":{const t=this.symbolCreationContext.featureExpressionInfoContext;t?.arcade&&this._graphicUpdateGeometryHandler(i,e.graphic)}break;case\"popupTemplate\":break;case\"origin-transform\":this._graphicUpdateTransformHandler(i,e)}this.owner.notifyContentGeometryUpdate?.()}}_graphicUpdateGeometryHandler(e,t){this._graphicUpdateGeometryOrTransformHandler(e,t,()=>!(null==e||!e.graphics3DSymbol.updateGeometry(e)||!(this._labeler?.updateGraphicGeometry(e)??1))&&(this._labeler?.setDirty(),!0));const i=t.geometry;null!=i&&this._expandComputedExtent(i)}_graphicUpdateTransformHandler(e,t){const i=t.graphic.geometry;this._graphicUpdateGeometryOrTransformHandler(e,t.graphic,()=>null!=t.newValue&&null!=e&&null!=i&&e.graphics3DSymbol.updateTransform(e,i.spatialReference,t.newValue,t.action))}_graphicUpdateGeometryOrTransformHandler(e,t,i){if(null!=t.geometry){if(null==e){const e=t.symbol?.id;if(e){const t=this._symbols.get(e);if(null!=t&&0===t.loadStatus)return}return void this._recreateGraphic(t)}i()||this._recreateGraphic(e.graphic)}else this._recreateGraphic(t)}_graphicUpdateSymbolHandler(e,t){const i=t.graphic,r=null!=e?e.graphics3DSymbol:null!=t.oldValue?this._symbols.get(t.oldValue.id):null;if(null==r||null==t.newValue)return void this._recreateGraphic(i);const s=r.symbol,a=this._getConvertedSymbol(t.newValue);if(null!=a&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(i);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(i);const o=w(s,a);if(null==o)return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!x(l.diff))return void this._recreateGraphic(i);const h=this._getRenderingInfo(i,!1);if(null==h)return void this._recreateGraphic(i);const d=r.extentPadding;for(const p of l.symbolStatePatches)p();if(d!==r.extentPadding&&this._recomputeExtentPadding(),null!=e)for(const p of l.graphics3DGraphicPatches)p(e,h);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,1===this.effectiveUpdatePolicy&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const t=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,t),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"dataUpdating\"),t}_endGraphicUpdate(e,t){e&&(t&&this._graphicStateTracking?.updateGraphicError(e,t),this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach(t=>{null!=t&&(e=Math.max(e,t.extentPadding))}),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const t=Me,i=e.spatialReference;q(e,t);const r=this._viewSpatialReference,s=Fe.tmpVec;if(z(i,r)||A(t[0],t[1],0,i,s,r)&&(t[0]=s[0],t[1]=s[1],A(t[3],t[4],0,i,s,r),t[3]=s[0],t[4]=s[1]),!(isFinite(t[0])&&isFinite(t[3])&&isFinite(t[1])&&isFinite(t[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(t[2])&&isFinite(t[5]),l=o&&(null==a?.zmin||t[2]<a.zmin),h=o&&(null==a?.zmax||t[5]>a.zmax);if(a){(t[0]<a.xmin||t[1]<a.ymin||t[3]>a.xmax||t[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(t[0],a.xmin),n.ymin=Math.min(t[1],a.ymin),n.xmax=Math.max(t[3],a.xmax),n.ymax=Math.max(t[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=t[0],n.ymin=t[1],n.xmax=t[3],n.ymax=t[4],n.spatialReference=r;n&&(l&&(n.zmin=t[2]),h&&(n.zmax=t[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const t=he(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await de(t,this._viewSpatialReference,e.signal,s.getLogger(this)),p(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"elevationInfo\",t)?t?.forEach(e=>{const t=e.graphic,i=e.labelLayers;for(const r of i){r.graphics3DSymbolLayer.graphics3DGraphicLayerElevationInfoChanged(t,r)}}):this._recreateSymbol(i)}),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=l(this._stageLayerElevationProvider)):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new Ce({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(2,this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),null!=this._filterVisibility&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=l(this._stageLayerElevationProvider))}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:t,view:i}=this.owner,r=i.basemapTerrain?.tilingScheme&&t?.length?t.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=we(this.layer.screenSizePerspectiveEnabled),this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const t=this._graphicsBySymbol.get(e),i=[];t&&(t.forEach((e,t)=>{const r=e.usedMemory;this._conditionalRemove(e,t),this._spatialIndex?.remove(e),i.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(t,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);l(r),this._symbols.delete(e),this._symbolMaterials=null,l(this._unusedSymbolsCache.pop(e)),this.add(i)}_recreateGraphicsForSymbol(e){const t=this._graphicsBySymbol.get(e);if(t){const e=[];t.forEach(t=>e.push(t.graphic)),this.recreateGraphics(e)}}_conditionalRemove(e,t){this._graphicsDrapedUids.delete(t),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),null!=this._graphicStateTracking&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain?.tilingScheme?(0===this._updatePolicyForGraphics(e)?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"dataUpdating\")):s.getLogger(this).error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(1===this.effectiveUpdatePolicy&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const t of e)if(null!=t.geometry&&\"mesh\"===t.geometry.type&&!t.geometry.loaded)return 0;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const t of e)this._addGraphic(t,this._getRenderingInfo(t),1);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_addDelayed(e){for(const t of e){const e=t.uid;let i=this._pendingUpdates.get(e);i?i.add?0!==i.state&&i.abortController?.abort():this._pendingAdds++:(i=new ze,this._pendingAdds++,this._pendingUpdates.set(e,i)),i.add=t}this.notifyChange(\"readyToRun\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}remove(e){0===this.effectiveUpdatePolicy?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"dataUpdating\")}_removeImmediate(e){for(const t of e)this._removeGraphic(t);this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_removeDelayed(e){for(const t of e){const e=t.uid,i=this._pendingUpdates.get(e);if(i)i.add&&(i.remove?i.add=null:this._pendingUpdates.delete(e),1===i.state&&i.abortController?.abort(),this._pendingAdds--);else{const i=new ze;i.remove=t,this._pendingUpdates.set(e,i),this._pendingRemoves++,this._applyPendingRemovesFirst=!0}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"readyToRun\"),this.notifyChange(\"updatingRemaining\"),this.notifyChange(\"dataUpdating\")}_finishPendingUpdates(){this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&s.getLogger(this).warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1}_applyFocusAreasUpdates(e){for(;this._focusAreasGraphicsQueue.length>0&&!e.done;){e.madeProgress();const t=this._focusAreasGraphicsQueue.pop(),i=fe(t.graphic.geometry);if(null==i)continue;const r=this.stage.view.focusAreasView?.containsGeometry(i)??!0;t.layers.forEach(e=>{if(e.stageObject){e.stageObject.geometries.some(e=>e.material instanceof Re&&e.material.parameters.isFocused!==r)&&this.recreateGraphics([t.graphic])}})}0===this._focusAreasGraphicsQueue.length&&this.notifyChange(\"readyToRun\")}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)return this._spatialIndex.update(),void e.madeProgress();if(this._applyPendingRemovesFirst){this._applyPendingRemovesFirst=!1;for(const[t,i]of this._pendingUpdates){if(e.done){this._applyPendingRemovesFirst=!0;break}if(i.remove&&!i.add&&(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,this._pendingUpdates.delete(t),0===this._pendingRemoves))break}}for(const[t,i]of this._pendingUpdates){if(e.done)break;i.add&&0===i.state&&this._processPendingUpdateNew(i);let r=this.effectiveUpdatePolicy;if(!i.remove||i.add&&2!==i.state||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,r=1),i.add)switch(i.state){case 2:this._addGraphic(i.add,i.renderingInfo,r),i.add=null,this._pendingAdds--,e.madeProgress();break;case 3:i.add=null,this._pendingAdds--}null==i.remove&&null==i.add&&this._pendingUpdates.delete(t)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"readyToRun\"),this.notifyChange(\"dataUpdating\"))}_processPendingUpdateNew(e){if(!e.add)return void(e.state=2);const t=e.add.geometry;null==t||\"mesh\"!==t.type||t.loaded?this._processPendingUpdateNewRenderingInfo(e):this._processPendingUpdateNewMesh(e,t)}async _processPendingUpdateNewMesh(e,t){e.state=1,e.abortController=new AbortController;const i=e.abortController.signal;try{await t.load({signal:i})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,t){e.abortController=null,u(t)?e.state=0:e.state=3}async _processPendingUpdateNewRenderingInfo(e){if(null==this.layer.renderer||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add),void(e.state=2);e.state=1,e.abortController=new AbortController;let t=null;try{t=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(i){return e.abortController=null,void(u(i)?e.state=0:e.state=3)}null==t?.symbol?(this._symbolWarningLogged||(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=t,e.state=2}_addGraphic(e,t,i){if(this._graphicsWithoutSymbol.set(e.uid,e),null==t?.symbol||!Q(e))return;const r=this.stage.renderView.olidRenderHelper;if(r&&this.setUidToIdOnAdd){const t=J(this.owner.view,this.owner.layerViewUid);r.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.owner.layerViewUid,W(this.layer)&&!!this.layer.popupEnabled&&!t&&Ue(this.layer,this.owner.view.popup?.defaultPopupTemplateEnabled))}const s=t.symbol,a=this.getOrCreateGraphics3DSymbol(s,t.renderer);if(null==a)return;this._expandComputedExtent(e.geometry);const n=this._beginGraphicUpdate(e),o=new ce(e,t,this.layer);let l=!1;const h=e=>{e===a.symbol.id&&(l=!0)};this._whenSymbolRemoved.push(h);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(h);if(this._graphicsWaitingForSymbol.get(e.uid)!==n||l||a.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==a.symbol.id)--a.referenced,this._cleanupSymbols();else{const t=this._createGraphics3DGraphic(a,o);this._spatialIndex&&null!=t&&this._spatialIndex.add(t),--a.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.(),this._labeler?.setDirty()},p=t=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(h),l||(u(t)?this.add([e]):a.destroyed||this._endGraphicUpdate(e,t)))};++this._loadingSymbols,0===i?a.load(()=>this._dataUpdateQueue.push(d,null).catch(c),e=>this._dataUpdateQueue.push(()=>p(e),null).catch(c)):a.load(d,p)}_removeGraphic(e){const t=e.uid,i=this.graphics3DGraphics.get(t);if(i){i.graphics3DSymbol.onRemoveGraphic(i);const e=i.usedMemory,r=i.isElevationSource;this._conditionalRemove(i,t),this._spatialIndex?.remove(i);const s=i.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s)?.delete(t),this._graphicsWithoutSymbol.delete(t),this._removeGraphics3DGraphic(t,e,r),i.destroy(),this._featureStore.events.emit(\"changed\"),this.owner.notifyContentGeometryUpdate?.()}else this._graphicsWithoutSymbol.delete(t),this._graphicsWaitingForSymbol.delete(t),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"dataUpdating\"))}_hasLabelingContext(e){if(e instanceof ee||e instanceof te){const t=this.symbolCreationContext.layer;return!!t.labelingInfo&&t.labelingInfo.some(t=>t.symbol===e)}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof ee&&!this._hasLabelingContext(e))||(s.getLogger(this).error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,t=!0){const i=e.geometry;if(null==i)return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!L(i.spatialReference,this._viewSpatialReference))return t&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?N(e,this.layer,null):e;let a;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||null!=this.currentRenderer))a=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{const e=r.symbol||re(r.geometry);a=new X(null,e)}return null==a?.symbol?(t&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):a}_getRenderingInfoAsync(e,t){if(null==e.geometry)return this._geometryWarningLogged||(this._geometryWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&null!=e.symbol)return this._symbolWarningLogged||(this._symbolWarningLogged=!0,s.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const i=this.rendererHasGeometryOperations?N(e,this.layer,null):e;return this.owner.getRenderingInfoAsync(i,this.currentRenderer,this._arcadeOnDemand,t)}_createGraphics3DSymbol(e,t){if(!this._hasValidSymbolCreationContext(e))return null;const i=this._getConvertedSymbol(e);if(!i)return null;let r;if(null!=t&&\"backgroundFillSymbol\"in t&&t.backgroundFillSymbol){const e=se(t.backgroundFillSymbol,{ignoreDrivers:!0});null!=e.symbol&&(r=e.symbol.symbolLayers)}const s=ue(i,this.symbolCreationContext,r);return s.load(()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")},()=>{}),s}getOrCreateGraphics3DSymbol(e,t){let i=this._symbols.get(e.id);if(void 0===i){const r=this._unusedSymbolsCache.pop(e.id);i=null!=r?r:e instanceof ie?new ge(e,e=>this._dataUpdateQueue.push(e,null),e=>this._createGraphics3DSymbol(e,t)):this._createGraphics3DSymbol(e,t),this._symbols.set(e.id,i),this._symbolMaterials=null}return null!=i&&++i.referenced,i}trackGraphicState(e){return null==this._graphicStateTracking&&(this._graphicStateTracking=new be(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,t,i=!1){this._usedMemory-=t,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,i&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,t){const{graphic:i}=t;if(this._graphicsWithoutSymbol.delete(i.uid),!this._symbols.has(e.symbol.id))return this.add([i]),null;if(this.graphics3DGraphics.has(i.uid))return null;const r=e.createGraphics3DGraphic(t);if(null==r)return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(i.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(i.uid),r.centroid=null,null!=i.geometry&&\"point\"!==i.geometry.type&&(r.centroid=_e(i.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),null!=this._scaleVisibility&&this._scaleVisibility.updateVisibility(r),null!=this._filterVisibility){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(1,4,e),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),r.initialize(this.stageLayer),null!=this._graphicStateTracking&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[i.uid];return a&&(delete this._whenGraphics3DGraphicRequests[i.uid],a.resolve(r)),this._symbolMaterials=null,r}async rendererChange(e){if(this._rendererChangeAbortController=n(this._rendererChangeAbortController),e!==this.currentRenderer)if(this._validateRenderer(e),null==e&&this._currentRendererChange(null,!1),Z(e))if(e?.arcadeRequired){const t=new AbortController;this._rendererChangeAbortController=t;const{arcadeUtils:i}=await this._ensureArcade();p(t);const r=i.hasGeometryOperations(e);r&&(await i.enableGeometryOperations(),p(t)),0===this.effectiveUpdatePolicy?await this._updateQueue.push(()=>this._currentRendererChange(e,r),t.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(0===this.effectiveUpdatePolicy){const t=new AbortController;this._rendererChangeAbortController=t,await this._updateQueue.push(()=>this._currentRendererChange(e,!1),t.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return null==this._arcadeOnDemand?(this._arcadeOnDemand=await K(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,t){this.currentRenderer=e,this.rendererHasGeometryOperations=t,this.symbolCreationContext.arcade=this._arcadeOnDemand;const i=this.symbolCreationContext.renderer;if(e===i)return;if(this._symbolConversionCache.clear(),this._unusedSymbolsCache.clear(),null==e)return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=w(i,e);this._updateUnchangedSymbolMappings(r,e,i),this.symbolCreationContext.renderer=e,null!=r&&(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,i)?this._labeler?.reset():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const t in e.diff)switch(t){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[t];break;default:return!0}return!1}_applySymbolSetDiff(e,t,i){e=e||[],t=t||[];const r=[];for(const s of t){const t=this._graphicsBySymbol.get(s.id);t&&t.forEach((a,n)=>{const o=a.graphic,l=this.layer instanceof H?this.layer:null,h=this._arcadeOnDemand;if(s===i.defaultSymbol&&i.getSymbol(N(o,l,null),{arcade:h})===i.defaultSymbol)return;const d=a.usedMemory;e.length||i.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),t.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()}),this._whenSymbolRemoved.forAll(e=>e(s.id))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach(e=>r.push(e)),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler?.setDirty(),this._deconflictor?.setDirty()}_applyUniqueValueRendererDiff(e,t,r){const s=e.diff.defaultSymbol,a=e.diff.uniqueValueInfos;if(s||a){const n=a?.changed,o=a?.unchanged;if(n&&o&&n.some(e=>o.some(t=>t.oldValue.symbol?.id===e.oldValue.symbol?.id)))return!1;const l=a?a.added.map(e=>e.symbol).filter(i):[],h=a?a.removed.map(e=>e.symbol).filter(i):[];if(n)for(let e=0;e<n.length;e++)l.push(n[e].newValue.symbol),h.push(n[e].oldValue.symbol);return s?(r.defaultSymbol&&h.push(r.defaultSymbol),t.defaultSymbol&&l.push(t.defaultSymbol)):r.defaultSymbol&&l.length&&h.push(t.defaultSymbol),this._applySymbolSetDiff(l,h,t),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,t,i){if(\"unique-value\"!==t?.type||\"unique-value\"!==i?.type||null!=e&&\"partial\"!==e.type)return[];const r=e=>null!=e?e.id:null,s=e&&e.diff,a=s?.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map(e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)}));else{o=[];for(const e of i.uniqueValueInfos??[]){const i=r(e.symbol),s=t.uniqueValueInfos?.find(t=>t.value===e.value);s&&i!==r(s.symbol)&&o.push({oldId:i,newId:r(s.symbol)})}}return!a&&i.defaultSymbol&&o.push({oldId:r(i.defaultSymbol),newId:r(t.defaultSymbol)}),o}_updateSymbolMapping(e,t){const i=null!=t&&t?\"string\"==typeof t?t:t.id:null;if(null==e||e===i)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(i,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(i,s),this._symbolMaterials=null,null!=s)){const e=\"string\"==typeof t?null:t;null!=e?s.symbol=e:s.symbol.id=i}}_updateUnchangedSymbolMappings(e,t,i){const r=this._calculateUnchangedSymbolMapping(e,t,i);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,i){if(this._diffHasSymbolChange(e))return!1;if(t instanceof $&&i instanceof $&&this._applyUniqueValueRendererDiff(e,t,i)&&0===Object.keys(e.diff).length)return!0;for(const r of this._graphicsBySymbol.keys()){const i=this._symbols.get(r);if(null!=i)switch(i.applyRendererDiff(e,t)){case 0:this._recreateSymbol(r);break;case 1:this._recreateGraphicsForSymbol(r)}}return!0}opacityChange(){this._updateStageLayerVisibility(),this.forEachGraphics3DSymbol((e,t)=>e.globalPropertyChanged(\"opacity\",t))}_screenSizePerspectiveEnabledChange(){this.forEachGraphics3DSymbol((e,t)=>e.globalPropertyChanged(\"screenSizePerspectiveEnabled\",t)),this._labeler?.screenSizePerspectiveEnabledChanged(),this._deconflictor?.screenSizePerspectiveEnabledChanged()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.sliceable=e,this.forEachGraphics3DSymbol((e,t)=>e.globalPropertyChanged(\"slicePlaneEnabled\",t)),this._deconflictor?.slicePlaneEnabledChange(),this._labeler?.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",t)||this._recreateSymbol(i)})}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"skipHighSymbolLods\",t)||this._recreateSymbol(i)})}_pixelRatioChange(){this.forEachGraphics3DSymbol((e,t,i)=>{e.globalPropertyChanged(\"pixelRatio\",t)||this._recreateSymbol(i)})}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=C(()=>{this._updatingPendingLoadedGraphicsChange=null})}setClippingExtent(e,t){const i=this.symbolCreationContext.clippingExtent,r=k();return Se(e,r,t)?this.symbolCreationContext.clippingExtent=T(F(),r):this.symbolCreationContext.clippingExtent=null,!M(this.symbolCreationContext.clippingExtent,i)}modifyGraphics3DGraphicVisibilities(e){if(this.destroyed)return;let t=!1;this.graphics3DGraphics.forEach(i=>{e(i)&&(t=!0)}),t&&(this._labeler?.setDirty(),this._deconflictor?.setDirty())}forEachGraphics3DSymbol(e,t){for(const[i,r]of this._symbols){if(null==r)return;e(r,this._graphicsBySymbol.get(i)||qe,i)}if(!t?.excludeUnused)for(const i of this._unusedSymbolsCache)e(i,void 0,i.symbol.id)}updateGraphicsVisibilities(){null!=this._filterVisibility&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities(e=>{const t=this._updateUserVisibility(e),i=!!this._scaleVisibility?.updateVisibility(e);return t||i})}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities(e=>e.setVisibilityFlag(1,1,!1))}_validateRenderer(e){const t=()=>`'${this.layer.title?`${this.layer.title}, `:\"\"}id:${this.layer.id}'`,i=Y(e,{geometryType:this.layer?.geometryType,logWarning:(e,i)=>s.getLogger(this).warn(e,`Symbology conversion for layer ${t()}: ${i}`)});if(i){const e=`Renderer for layer ${t} is not supported in a SceneView`;s.getLogger(this).warn(e,i.message)}}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach((t,i)=>{if(null==t||t.referenced>0)return;const r=this._graphicsBySymbol.get(i);r&&0!==r.size||(this._graphicsBySymbol.delete(i),this._symbols.delete(i),this._symbolMaterials=null,this._unusedSymbolsCache.put(i,t,h),e=!0)}),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){}get performanceInfo(){return new me(this.graphics3DGraphics.size,Array.from(this.graphics3DGraphics.values()).reduce((e,t)=>e+(t.isVisible()?1:0),0),this._graphicsWithoutSymbol.size,this._pendingUpdates.size)}};e([S({readOnly:!0})],ke.prototype,\"computedExtent\",void 0),e([S()],ke.prototype,\"currentRenderer\",void 0),e([S()],ke.prototype,\"rendererHasGeometryOperations\",void 0),e([S()],ke.prototype,\"_frameTaskHandle\",void 0),e([S()],ke.prototype,\"_dataUpdateQueue\",void 0),e([S()],ke.prototype,\"_updateQueue\",void 0),e([S({readOnly:!0})],ke.prototype,\"_viewSpatialReference\",null),e([S()],ke.prototype,\"_rendererChangeAbortController\",void 0),e([S()],ke.prototype,\"_elevationInfoChangeAbortController\",void 0),e([S()],ke.prototype,\"_initializeAbortController\",void 0),e([S()],ke.prototype,\"_elevationAlignment\",void 0),e([S()],ke.prototype,\"_scaleVisibility\",void 0),e([S()],ke.prototype,\"_filterVisibility\",void 0),e([S()],ke.prototype,\"_initializePromise\",void 0),e([S()],ke.prototype,\"_spatialIndex\",void 0),e([S({readOnly:!0})],ke.prototype,\"extentPadding\",void 0),e([S()],ke.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([S()],ke.prototype,\"_featureStore\",void 0),e([S()],ke.prototype,\"_objectStates\",void 0),e([S()],ke.prototype,\"_loadingSymbols\",void 0),e([S({constructOnly:!0})],ke.prototype,\"compressionTracker\",void 0),e([S()],ke.prototype,\"preferredUpdatePolicy\",void 0),e([S()],ke.prototype,\"_forcedUpdatePolicy\",void 0),e([S({readOnly:!0})],ke.prototype,\"effectiveUpdatePolicy\",null),e([S({constructOnly:!0})],ke.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([S({constructOnly:!0})],ke.prototype,\"owner\",void 0),e([S({constructOnly:!0})],ke.prototype,\"layer\",void 0),e([S({constructOnly:!0})],ke.prototype,\"graphicSymbolSupported\",void 0),e([S({constructOnly:!0})],ke.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([S({constructOnly:!0})],ke.prototype,\"componentFactories\",void 0),e([S({constructOnly:!0})],ke.prototype,\"setUidToIdOnAdd\",void 0),e([S()],ke.prototype,\"featureStore\",null),e([S()],ke.prototype,\"initializePromise\",null),e([S()],ke.prototype,\"scaleVisibility\",null),e([S()],ke.prototype,\"elevationAlignment\",null),e([S()],ke.prototype,\"objectStates\",null),e([S()],ke.prototype,\"filterVisibility\",null),e([S({readOnly:!0})],ke.prototype,\"updating\",null),e([S({readOnly:!0})],ke.prototype,\"dataUpdating\",null),e([S({readOnly:!0})],ke.prototype,\"readyToRun\",null),e([S({readOnly:!0})],ke.prototype,\"suspendedOrOutsideOfView\",null),e([S({readOnly:!0,dependsOn:[]})],ke.prototype,\"updatingRemaining\",null),e([S({readOnly:!0})],ke.prototype,\"displayFeatureLimit\",null),e([S({readOnly:!0,dependsOn:[]})],ke.prototype,\"averageSymbolComplexity\",null),e([S({constructOnly:!0})],ke.prototype,\"hasZ\",void 0),e([S({constructOnly:!0})],ke.prototype,\"hasM\",void 0),e([S()],ke.prototype,\"_objectIdField\",null),ke=Fe=e([G(\"esri.views.3d.layers.graphics.Graphics3DCore\")],ke);class ze{constructor(){this.add=null,this.renderingInfo=null,this.state=0,this.abortController=null,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=0,this.abortController=null,this.remove=null}}const We=10,He=D(),Be=D(),qe=new Map;export{ke as Graphics3DCore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/PooledArray.js\";import{create as e,copy as r,area as s,expand as n,contains as o}from\"../../../../geometry/support/aaBoundingRect.js\";import{noBudget as i}from\"../../../support/Scheduler.js\";const h=.05;class a{constructor(){this._extents=new t({allocator:t=>t||e()}),this._tmpExtent=e(),this._dirty=!1}destroy(){this._extents.prune()}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),r(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=i){const e=this._extents,o=new Set;let a=0;for(;a!==e.length;){e.sort((t,e)=>t[0]-e[0]),a=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const a=e.at(i);if(a){for(let t=i+1;t<e.length;++t){const r=e.at(t);if(null==r||r[0]>=a[2])break;o.add(r)}o.forEach(i=>{if(a===i)return;if(i[2]<=a[0])return void o.delete(i);const l=s(a),_=s(i),d=this._tmpExtent;n(a,i,d);const c=l+_;(s(d)-c)/c<h&&(r(a,d),o.delete(i),e.remove(i),t.madeProgress())}),o.add(a)}}}this._dirty=!1}_contains(t){return this._extents.some(e=>o(e,t))}_removeContained(t){this._extents.filterInPlace(e=>!o(t,e))}get test(){}}export{a as ExtentSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,m,t){this.maximumTotalNumberOfVertices=e,this.maximumNumberOfFeatures=m,this.averageSymbolComplexity=t}}export{e as DisplayFeatureLimit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../core/support/UpdatingHandles.js\";import{projectBoundingRect as l}from\"../../../../geometry/projection/projectBoundingRect.js\";import{create as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{scaleBoundsPredicate as c}from\"../../../support/layerViewUtils.js\";import{TaskPriority as o}from\"../../../support/Scheduler.js\";import{Yield as h}from\"../../../support/Yield.js\";let p=class extends i{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this._updatingHandles=new a,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.addHandles(e.registerTask(o.SCALE_VISIBILITY,this)),this._updatingHandles.add(()=>this.layer.effectiveScaleRange,()=>this.layerMinMaxScaleChangeHandler())}destroy(){this._updatingHandles.destroy(),this.removeHandles(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this._updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e??null;else{const r=n();l(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&null!=i&&d(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some(e=>e&&d(e.minScale??0,e.maxScale??0)));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.hasHandles(u)&&this.basemapTerrain?(this.addHandles(this.basemapTerrain.on(\"scale-change\",e=>this._scaleUpdateHandler(e)),u),this.layerScaleEnabled&&this.addHandles(this.basemapTerrain.on(\"tiles-visibility-changed\",()=>this._setDirty()),u)):!t&&this.hasHandles(u)&&this.removeHandles(u),r}get readyToRun(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(e){const i=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&i&&i.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(this._layerScaleRangeVisibilityQuery)return h;{this._layerScaleRangeVisibilityQuery=!0;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange;i.queryVisibleScaleRange(this._extent,e,t,e=>this._finishUpdate(e))}}else this._finishUpdate(!0);e.madeProgress()}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||c(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return c(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(null!=e.centroid?i=e.centroid:null!=e.graphic.geometry&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(!this._scaleRangeActive)return!1;const i=this._graphicVisible(e);return e.setVisibilityFlag(1,2,i)}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelLayers.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelLayers.length)return!1;const t=e.labelLayers[0].labelClass;if(null!=t?.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(16,2,r))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),!this.graphicsCore.visible)return;const i=e.extent,r=e.scale,s=this._visibleAtLayerScale(r);let a=!1;const n=this.graphicsCoreOwner.view.spatialReference,c=e.spatialReference;if(null==c)return void t.getLogger(this).error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const o=!c.equals(n);if(o){if(!l(i,c,g,n))return void t.getLogger(this).error(\"scaleUpdate: Internal error, cannot project AABR from \"+c+\" to wkid \"+n)}const h=o?g:i;this.queryGraphicUIDsInExtent(h,n,e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);if(null==t)return;const l=t.centroid;null!=l&&(i[0]>l.x||i[1]>l.y||i[2]<l.x||i[3]<l.y)||(t.setVisibilityFlag(1,2,s)&&(a=!0),this._updateLabelScaleVisibility(t,r)&&(a=!0))}),a&&(this.graphicsCore.deconflictor?.setDirty(),this.graphicsCore.labeler?.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities(e=>e.setVisibilityFlag(1,2,!0)):this._scaleRangeActive&&this.graphicsCore.updateGraphicsVisibilities(),this._setDirty()}};function d(e,i){return e>0||i>0}e([r()],p.prototype,\"graphicsCoreOwner\",void 0),e([r()],p.prototype,\"layer\",void 0),e([r()],p.prototype,\"queryGraphicUIDsInExtent\",void 0),e([r()],p.prototype,\"graphicsCore\",void 0),e([r()],p.prototype,\"basemapTerrain\",void 0),e([r({constructOnly:!0})],p.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],p.prototype,\"suspended\",void 0),e([r({readOnly:!0})],p.prototype,\"updating\",null),e([r()],p.prototype,\"_dirty\",void 0),p=e([s(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],p);const u=\"terrain-events\",g=n();export{p as Graphics3DScaleVisibility};\n"],"names":["s","constructor","i","t","h","this","total","visible","missing","pending","r","name","e","getObjectId","objectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","geometry","getCentroid","ensureCentroid","o","isCollection","toArray","Array","isArray","declaredClass","n","u","a","d","super","events","hasZ","hasM","objectIdField","featureAdapter","graphic","getAttributeAsTimestamp","Date","getTime","p","getAsOptimizedGeometry","centroid","type","l","viewSpatialReference","x","y","z","m","c","forEachInBounds","getSpatialIndex","forEachBounds","getBounds","constructOnly","prototype","spatialReference","_calloutSymbolLayer","symbol","hasVisibleCallout","doLoad","load","abortLoad","destroy","createGraphics3DGraphic","_createCalloutGraphic","setCalloutGraphic","globalPropertyChanged","calloutLayer","updateGeometry","renderingInfo","renderer","_graphicsCore","_idToState","Map","_states","Set","owner","layer","_getGraphicId","_getGraphics3DGraphicById","getGraphics3DGraphicByObjectId","uid","getGraphics3DGraphicById","clear","forEach","remove","add","has","_ensureStateList","push","displaying","isVisible","isDraped","tracking","emit","size","get","length","delete","addGraphic","_forEachState","removeGraphic","updateGraphicGeometry","updateGraphicVisibility","updateGraphicError","error","allGraphicsDeleted","set","_index","minX","extent","minY","maxX","maxY","_missing","_boundsByFeature","updating","setup","_addMany","update","from","values","updatingRemaining","queryGraphicUIDsInExtent","equals","search","_get","computeExtent","readOnly","Fe","Te","D","Me","F","ke","tmpVec","_viewSpatialReference","view","spatialIndex","_spatialIndex","ve","graphics3DGraphics","deconflictor","_deconflictor","labeler","_labeler","numberOfGraphics","_numberOfGraphics","effectiveUpdatePolicy","currentRenderer","_forcedUpdatePolicy","preferredUpdatePolicy","featureStore","_featureStore","initializePromise","_initializePromise","scaleVisibility","_scaleVisibility","elevationAlignment","_elevationAlignment","objectStates","_objectStates","filterVisibility","_filterVisibility","dataUpdating","_rendererChangeAbortController","_elevationInfoChangeAbortController","_frameTaskHandle","_updateQueue","readyToRun","_graphicsWaitingForSymbol","_pendingUpdates","_updatingPendingLoadedGraphicsChange","_dataUpdateQueue","_loadingSymbols","compressionTracker","compressing","_focusAreasGraphicsQueue","suspendedOrOutsideOfView","suspended","suspendInfo","outsideOfView","displayFeatureLimit","qualitySettings","graphics3D","minTotalNumberOfFeatures","maxTotalNumberOfFeatures","maxNumberOfDrawCalls","maxTotalNumberOfVertices","averageSymbolComplexity","Math","max","verticesPerFeature","drawCallsPerFeature","ceil","min","maximumTotalNumberOfVertices","maximumNumberOfFeatures","oe","ae","_symbolComplexities","numComplexities","estimated","verticesPerCoordinate","usedMemory","labelsEnabled","memory","bytesPerFeatureLabel","_getSymbolComplexitiesUsed","reduce","resourceBytes","_symbolMaterials","_symbols","symbolLayers","materials","stage","overlayManager","getMaterialRenderer","_usedMemory","usedMemoryPerGraphic","_pendingAdds","_pendingRemoves","bytesPerFeature","unprocessedMemoryEstimate","_getSymbolComplexitiesUsedOrRenderer","_visible","_getConvertedSymbol","clone","_symbolConversionCache","id","se","geometryType","retainId","hasLabelingContext","_hasLabelingContext","cimFallbackEnabled","getLogger","message","symbols","backgroundFillSymbol","_getSymbolComplexityUsedOrRenderer","complexity","ne","_objectIdField","_propertiesPool","Ie","computedExtent","I","rendererHasGeometryOperations","_graphicStateTracking","stageLayer","_graphicsDrapedUids","_graphicsBySymbol","_graphicsWithoutSymbol","_graphicsUpdateId","Ee","De","g","_suspendSymbolCleanup","_arcadeOnDemand","_initializeAbortController","extentPadding","_viewElevationProvider","_stageLayerElevationProvider","_whenGraphics3DGraphicRequests","_numberOfGraphicsProvidingElevation","_applyPendingRemovesFirst","Ve","_symbolWarningLogged","_geometryWarningLogged","_objectIdInvisibleSet","_whenSymbolRemoved","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","setUidToIdOnAdd","_startCreateGraphics","_unusedSymbolsCache","resourceController","memoryController","newCache","symbolCreationContext","ye","scheduler","layerViewUid","initialize","pe","featureSpatialReference","componentFactories","getFeatureCount","updateFeatureVisibilities","modifyGraphics3DGraphicVisibilities","setVisibilityFlag","B","setAllFeaturesVisibility","clearFeaturesVisibility","AbortController","addHandles","state","highlights","highlightOrderMap","updateHighlights","_initializeAsync","signal","le","_initializeStage","sharedSymbolResources","sharedResources","streamDataRequester","renderCoordsHelper","graphicsCoreOwner","localOriginFactory","Ge","renderSpatialReference","elevationProvider","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","he","elevationInfo","featureExpressionInfoContext","de","screenSizePerspectiveEnabled","we","slicePlaneEnabled","physicalBasedRenderingEnabled","physicallyBasedRenderingEnabled","skipHighSymbolLods","drapeSourceRenderer","registerGeometryDrapeSource","b","unshift","_updateLayerVisibility","catch","_screenSizePerspectiveEnabledChange","_slicePlaneEnabledChange","rasterPixelRatio","_pixelRatioChange","_physicalBasedRenderingChange","_skipHighSymbolLoDsChange","focusAreasView","polygons","_updateFocusedLabels","map","focusAreas","style","recreateAllGraphicsAndSymbols","basemapTerrain","tilingScheme","overlaySR","hasHandles","recreateAllGraphics","loadedGraphics","_","_graphicsCollectionChanged","_signalUpdatingDuringAsyncLoadedGraphicsChange","onListenerAdd","initial","updatePolicy","isAsync","runTask","Le","f","registerTask","je","GRAPHICS_CORE","featureReduction","featureReductionChange","notifyChange","rendererChange","_abortInitialize","forEachGraphics3DSymbol","needsUpdateFocus","_abortElevationInfoChange","cancelAll","unregisterDrapeSource","_set","reject","prune","notifyContentGeometryUpdate","Pe","on","graphicUid","object","xe","attribute","We","_updateStageLayerVisibility","opacity","Oe","updateGraphicsVisibilities","_hideAllGraphics","_findGraphics3DGraphicByObjectId","_getGraphicObjectID","arguments","undefined","graphics3DGraphicsByObjectID","layerLabelsEnabled","updateLabelingInfo","labelingInfoChange","Promise","allSettled","updateVisibilityInfo","visibilityInfoChange","symbolUpdateType","getFastUpdateStatus","_applyPendingUpdates","_applyFocusAreasUpdates","hasProgressed","Ae","setObjectIdVisibility","_updateUserVisibility","_whenGraphics3DGraphic","resolve","promise","_boundsForGraphics3DGraphic","service","useViewElevation","minDemResolution","minDemResolutionForPoints","resolution","getProjectedBoundingBox","j","boundingBox","requiresDrapedElevation","O","getElevation","screenSpaceObjects","whenGraphicBounds","v","find","computeAttachmentOrigin","render","num","draped","P","He","V","origin","Be","R","U","E","getSymbolLayerSize","indexOf","added","removed","graphicUpdateHandler","property","_graphicUpdateVisibleHandler","_graphicUpdateGeometryHandler","_graphicUpdateSymbolHandler","arcade","_graphicUpdateTransformHandler","_graphicUpdateGeometryOrTransformHandler","graphics3DSymbol","setDirty","_expandComputedExtent","newValue","updateTransform","action","loadStatus","_recreateGraphic","oldValue","w","_updateSymbolMapping","diff","graphics3DGraphicPatches","symbolStatePatches","prepareSymbolPatch","_getRenderingInfo","_recomputeExtentPadding","recreateGraphics","_cleanupSymbols","_beginGraphicUpdate","_endGraphicUpdate","q","A","isFinite","zmin","zmax","xmin","ymin","xmax","ymax","abort","elevationInfoChange","labelLayers","graphics3DSymbolLayer","graphics3DGraphicLayerElevationInfoChanged","_recreateSymbol","updateStageLayerElevationProvider","mode","unregister","Ce","register","_clearSymbolsAndGraphics","reset","invalidateSpatialQueryAccelerator","startCreateGraphics","_recreateAllGraphics","_conditionalRemove","_removeGraphics3DGraphic","pop","_recreateGraphicsForSymbol","_updatePolicyForGraphics","_addDelayed","_addImmediate","loaded","_addGraphic","abortController","ze","_removeDelayed","_removeImmediate","_removeGraphic","_finishPendingUpdates","warn","done","madeProgress","fe","containsGeometry","layers","stageObject","geometries","some","material","Re","parameters","isFocused","_processPendingUpdateNew","_processPendingUpdateNewRenderingInfo","_processPendingUpdateNewMesh","_processPendingUpdateNewError","_getRenderingInfoAsync","Q","renderView","olidRenderHelper","J","setUidToObjectAndLayerId","W","popupEnabled","Ue","popup","defaultPopupTemplateEnabled","getOrCreateGraphics3DSymbol","ce","destroyed","removeUnordered","referenced","_createGraphics3DGraphic","onRemoveGraphic","isElevationSource","ee","te","labelingInfo","_hasValidSymbolCreationContext","L","N","getRenderingInfo","re","X","getRenderingInfoAsync","_createGraphics3DSymbol","ignoreDrivers","ue","ie","ge","trackGraphicState","be","_addGraphics3DGraphic","_e","updateVisibility","defaultVisibility","reapply","_validateRenderer","_currentRendererChange","Z","arcadeRequired","arcadeUtils","_ensureArcade","hasGeometryOperations","enableGeometryOperations","K","_updateUnchangedSymbolMappings","_applyRendererDiff","_diffHasSymbolChange","_applySymbolSetDiff","H","defaultSymbol","getSymbol","forAll","_applyUniqueValueRendererDiff","uniqueValueInfos","changed","unchanged","filter","_calculateUnchangedSymbolMapping","oldId","newId","value","$","Object","keys","applyRendererDiff","opacityChange","screenSizePerspectiveEnabledChanged","sliceable","slicePlaneEnabledChange","C","setClippingExtent","clippingExtent","k","Se","T","M","qe","excludeUnused","title","Y","logWarning","put","test","performanceInfo","me","S","dependsOn","G","_extents","allocator","_tmpExtent","_dirty","empty","_contains","_removeContained","pushNew","_mergeTight","merge","sort","at","filterInPlace","_scaleRangeActive","_layerScaleRangeVisibilityQuery","_extent","_updatingHandles","graphicsCore","layerScaleEnabled","updateScaleRangeActive","SCALE_VISIBILITY","effectiveScaleRange","layerMinMaxScaleChangeHandler","removeHandles","_setDirty","setExtent","scaleRangeActive","minScale","maxScale","_scaleUpdateHandler","ready","queryVisibleScaleRange","_finishUpdate","_visibleAtLayerScale","_visibleAtLabelScale","_graphicScale","getScale","_graphicVisible","updateGraphicLabelScaleVisibility","_updateLabelScaleVisibility","labelClass","scale"],"sourceRoot":""}