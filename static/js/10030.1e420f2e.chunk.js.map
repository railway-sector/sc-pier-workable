{"version":3,"file":"static/js/10030.1e420f2e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/ViewshedLayerView.js","../node_modules/@arcgis/core/views/3d/layers/ViewshedLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/LayerViewAnalysisViewManager.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{createAbortError as s}from\"../../core/promiseUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const r=r=>{let a=class extends r{constructor(...e){super(...e),this.layer=null}get interactive(){return null!=this.analysisView&&this.analysisView.interactive}set interactive(e){null!=this.analysisView&&(this.analysisView.interactive=e)}get selectedViewshed(){return null!=this.analysisView?this.analysisView.selectedViewshed:null}set selectedViewshed(e){null!=this.analysisView&&(this.analysisView.selectedViewshed=e)}async createViewsheds(e){await(this.analysisView?.createViewsheds(e))}place(e){if(null!=this.analysisView)return this.analysisView.place(e);throw s()}};return e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"interactive\",null),e([i()],a.prototype,\"selectedViewshed\",null),a=e([t(\"esri.views.layers.ViewshedLayerView\")],a),a};export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{LayerViewAnalysisViewManager as r}from\"./support/LayerViewAnalysisViewManager.js\";import t from\"../../layers/LayerView.js\";import o from\"../../layers/ViewshedLayerView.js\";var n;let l=class extends(a(o(t))){static{n=this}constructor(s){super(s),this.type=\"viewshed-3d\",this._analysisViewManager=null}initialize(){this._analysisViewManager=new r({getAnalysis:()=>this.layer.source,loadAnalysisViewModule:n.loadAnalysisViewModule,parent:this}),this.addResolvingPromise(this._analysisViewManager.whenAnalysisView())}destroy(){this._analysisViewManager.destroy()}get analysisView(){return this._analysisViewManager.analysisView}whenAnalysisView(){return this._analysisViewManager.whenAnalysisView()}isUpdating(){return this._analysisViewManager.updating}static{this.loadAnalysisViewModule=()=>import(\"../analysis/ViewshedAnalysisView3D.js\")}};s([e()],l.prototype,\"type\",void 0),s([e()],l.prototype,\"_analysisViewManager\",void 0),s([e({readOnly:!0})],l.prototype,\"analysisView\",null),l=n=s([i(\"esri.views.3d.layers.ViewshedLayerView3D\")],l);const y=l;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{createTask as i}from\"../../../../core/asyncUtils.js\";import a from\"../../../../core/Error.js\";import{abortMaybe as t,destroyMaybe as r}from\"../../../../core/maybe.js\";import{throwIfAborted as n,isAborted as o}from\"../../../../core/promiseUtils.js\";import{watch as l,syncAndInitial as y}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as w}from\"../../../../core/accessorSupport/decorators/subclass.js\";let h=class extends e{get updating(){return null!=this._createAnalysisViewTask||null!=this.analysisView&&this.analysisView.updating}constructor(s){super(s),this._analysisModule=null,this._emitOnView=(s,e)=>this.parent.view.emit(s,e)}initialize(){this.addHandles(l((()=>this.getAnalysis()),(s=>this._createAnalysisView(s)),y))}destroy(){this._destroyAnalysisView()}async whenAnalysisView(){if(null!=this.analysisView)return this.analysisView;if(null!=this._createAnalysisViewTask)return this._createAnalysisViewTask.promise;throw new a(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been set on the layer of this layer view\")}_createAnalysisView(s){const e=this._createAnalysisViewTask?.promise;if(this._destroyAnalysisView(),!s)return;const a=i((async i=>{try{await Promise.allSettled([e]);const a=await this._createAnalysisViewPromise(s,i);return n(i),this.analysisView=a,this._emitOnView(\"analysis-view-create\",{analysis:s,analysisView:a}),a}catch(t){throw this._emitOnView(\"analysis-view-create-error\",{analysis:s,error:t}),t}finally{this._createAnalysisViewTask===a&&(this._createAnalysisViewTask=null)}}));this._createAnalysisViewTask=a}_destroyAnalysisView(){const s=this.getAnalysis();this._createAnalysisViewTask=t(this._createAnalysisViewTask);const{analysisView:e}=this;e&&(this.analysisView=r(e),this._emitOnView(\"analysis-view-destroy\",{analysis:s,analysisView:e}))}async _createAnalysisViewPromise(s,e){let i,t=this._analysisModule;const r=e=>{if(!o(e))return;i?.destroy();const t=this.getAnalysis();throw new a(\"layerview:no-analysisview-for-analysis\",null!=t&&s!==t?\"The analysis changed before the analysis view could be created\":\"The analysis has not been added to the layer of this layer view\",{analysis:s})};return t||(t=await this.loadAnalysisViewModule(),r(e),this._analysisModule=t),i=new t.default({analysis:s,parent:this.parent,view:this.parent.view}),await i.when(),r(e),i}};s([c({constructOnly:!0})],h.prototype,\"getAnalysis\",void 0),s([c({constructOnly:!0})],h.prototype,\"loadAnalysisViewModule\",void 0),s([c({constructOnly:!0})],h.prototype,\"parent\",void 0),s([c()],h.prototype,\"analysisView\",void 0),s([c()],h.prototype,\"_createAnalysisViewTask\",void 0),s([c()],h.prototype,\"updating\",null),s([c()],h.prototype,\"_analysisModule\",void 0),h=s([w(\"esri.views.3d.layers.support.LayerViewAnalysisViewManager\")],h);export{h as LayerViewAnalysisViewManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n"],"names":["r","a","constructor","super","arguments","this","layer","interactive","analysisView","e","selectedViewshed","createViewsheds","place","s","i","prototype","t","n","l","o","type","_analysisViewManager","initialize","getAnalysis","source","loadAnalysisViewModule","parent","addResolvingPromise","whenAnalysisView","destroy","isUpdating","updating","static","readOnly","y","h","_createAnalysisViewTask","_analysisModule","_emitOnView","view","emit","addHandles","_createAnalysisView","_destroyAnalysisView","promise","async","Promise","allSettled","_createAnalysisViewPromise","analysis","error","default","when","c","constructOnly","w","slicePlaneEnabled","supportsHeightUnitConversion","postscript","p","_validateHeightModelInfo","AbortController","signal","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","u","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","_updatingHandles","catch","name","id","title","getLogger","fullOpacity","opacity","suspended","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","effectiveScaleRange","loaded","ready","d","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean"],"sourceRoot":""}